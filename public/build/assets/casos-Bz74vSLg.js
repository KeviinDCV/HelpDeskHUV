import{c as ht,R as y,j as s,r as S,H as ft,L as at}from"./app-Dp0KkwpH.js";import{G as gt,S as pt,T as ut,a as jt}from"./glpi-footer-CI0oZO1J.js";import{F as lt,T as _,b as Gs,c as b,a as yt,d as bt,e as Nt}from"./table--5eaboTP.js";import{B as p}from"./button-Bgnp6g6H.js";import{I as Ks}from"./input-DmG0Y1gd.js";import{D as rt,b as it,a as vt,c as _t,d as ct,e as nt}from"./dialog-DMjilYDz.js";import{S as Ue,a as Ge,b as Ke,c as Qe,d as i}from"./select-CgeSaXoY.js";import{X as ot}from"./index-_vsp76-4.js";import{C as St,a as wt}from"./chevrons-up-down-BvoV4spj.js";import{A as Ct,a as Dt,C as Tt}from"./chevron-left-DByFDHEu.js";import{S as Ft}from"./square-pen-C-SFyuaP.js";/* empty css            */import"./index-DXdXcWFr.js";import"./index-BLgrnXpF.js";import"./index-xenBJgPp.js";import"./refresh-cw-B9F8xhHO.js";import"./triangle-alert-SQ1bOmhG.js";import"./check-BnCH-xOJ.js";import"./index-D7lijEsm.js";function Zt(f){const e=ht.c(276),{tickets:r,categories:Fs,technicians:ks,filters:t,auth:N}=f,[v,Qs]=y.useState(t.search||""),[Es,Xe]=y.useState(!1),[C,Xs]=y.useState(null),[As,Je]=y.useState(!1),[o,dt]=y.useState(null),[D,mt]=y.useState(!1),[d,Js]=y.useState(t.status||"all"),[m,Ws]=y.useState(t.priority||"all"),[x,Ys]=y.useState(t.category||"all"),[h,Zs]=y.useState(t.assigned||"all"),[u,et]=y.useState(t.date_from||""),[j,st]=y.useState(t.date_to||""),w=d&&d!=="all"||m&&m!=="all"||x&&x!=="all"||h&&h!=="all"||u||j||t.filter;let We;e[0]!==t.filter?(We=()=>{switch(t.filter){case"unassigned":return"Sin asignar";case"my_cases":return"Mis casos";case"resolved_today":return"Resueltos hoy";default:return null}},e[0]=t.filter,e[1]=We):We=e[1];const Ye=We;let Ze;e[2]!==t.direction||e[3]!==t.per_page||e[4]!==t.sort?(Ze=()=>{S.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction},{preserveState:!1})},e[2]=t.direction,e[3]=t.per_page,e[4]=t.sort,e[5]=Ze):Ze=e[5];const zs=Ze;let es;e[6]!==N.user.id||e[7]!==N.user.role?(es=a=>N.user.role==="Administrador"?!0:N.user.role==="Técnico"?a.users_id_recipient===N.user.id:!1,e[6]=N.user.id,e[7]=N.user.role,e[8]=es):es=e[8];const Be=es;let ss;e[9]!==N.user.role?(ss=()=>N.user.role==="Administrador"||N.user.role==="Técnico",e[9]=N.user.role,e[10]=ss):ss=e[10];const g=ss;let ts;e[11]===Symbol.for("react.memo_cache_sentinel")?(ts=a=>{Xs(a),Xe(!0)},e[11]=ts):ts=e[11];const xt=ts;let as;e[12]!==C?(as=()=>{C&&S.delete(`/soporte/casos/${C.id}`,{preserveScroll:!0,onSuccess:()=>{Xe(!1),Xs(null)}})},e[12]=C,e[13]=as):as=e[13];const Ls=as;let ls;e[14]!==t?(ls=a=>{const l=t.sort===a&&t.direction==="asc"?"desc":"asc";S.get("/soporte/casos",{...t,sort:a,direction:l},{preserveState:!1,preserveScroll:!0})},e[14]=t,e[15]=ls):ls=e[15];const c=ls,Vs=zt;let rs;e[16]!==h||e[17]!==x||e[18]!==u||e[19]!==j||e[20]!==t.direction||e[21]!==t.per_page||e[22]!==t.sort||e[23]!==m||e[24]!==v||e[25]!==d?(rs=()=>{const a={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};v&&(a.search=v),d&&d!=="all"&&(a.status=d),m&&m!=="all"&&(a.priority=m),x&&x!=="all"&&(a.category=x),h&&h!=="all"&&(a.assigned=h),u&&(a.date_from=u),j&&(a.date_to=j),S.get("/soporte/casos",a,{preserveState:!1,preserveScroll:!1,replace:!0})},e[16]=h,e[17]=x,e[18]=u,e[19]=j,e[20]=t.direction,e[21]=t.per_page,e[22]=t.sort,e[23]=m,e[24]=v,e[25]=d,e[26]=rs):rs=e[26];const T=rs;let is;e[27]!==t.assigned||e[28]!==t.category||e[29]!==t.date_from||e[30]!==t.date_to||e[31]!==t.direction||e[32]!==t.filter||e[33]!==t.priority||e[34]!==t.search||e[35]!==t.sort||e[36]!==t.status?(is=a=>{const l={per_page:a,sort:t.sort,direction:t.direction,page:1};t.search&&(l.search=t.search),t.status&&(l.status=t.status),t.priority&&(l.priority=t.priority),t.category&&(l.category=t.category),t.assigned&&(l.assigned=t.assigned),t.date_from&&(l.date_from=t.date_from),t.date_to&&(l.date_to=t.date_to),t.filter&&(l.filter=t.filter),S.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!0})},e[27]=t.assigned,e[28]=t.category,e[29]=t.date_from,e[30]=t.date_to,e[31]=t.direction,e[32]=t.filter,e[33]=t.priority,e[34]=t.search,e[35]=t.sort,e[36]=t.status,e[37]=is):is=e[37];const Ps=is;let cs;e[38]!==h||e[39]!==x||e[40]!==u||e[41]!==j||e[42]!==t.direction||e[43]!==t.per_page||e[44]!==t.sort||e[45]!==m||e[46]!==v||e[47]!==d?(cs=()=>{const a={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};v&&(a.search=v),d&&d!=="all"&&(a.status=d),m&&m!=="all"&&(a.priority=m),x&&x!=="all"&&(a.category=x),h&&h!=="all"&&(a.assigned=h),u&&(a.date_from=u),j&&(a.date_to=j),console.log("Applying filters:",a),S.get("/soporte/casos",a,{preserveState:!1,preserveScroll:!1,replace:!0})},e[38]=h,e[39]=x,e[40]=u,e[41]=j,e[42]=t.direction,e[43]=t.per_page,e[44]=t.sort,e[45]=m,e[46]=v,e[47]=d,e[48]=cs):cs=e[48];const Hs=cs;let ns;e[49]!==t.direction||e[50]!==t.per_page||e[51]!==t.sort?(ns=()=>{Js("all"),Ws("all"),Ys("all"),Zs("all"),et(""),st(""),Qs(""),S.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction,page:1},{preserveState:!1,preserveScroll:!1,replace:!0})},e[49]=t.direction,e[50]=t.per_page,e[51]=t.sort,e[52]=ns):ns=e[52];const Os=ns;let os;e[53]!==t.direction||e[54]!==t.sort?(os=a=>t.sort!==a?s.jsx(St,{className:"h-3 w-3 ml-1 text-gray-400"}):t.direction==="asc"?s.jsx(Ct,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):s.jsx(Dt,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[53]=t.direction,e[54]=t.sort,e[55]=os):os=e[55];const n=os,tt=At;let ds;e[56]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(ft,{title:"HelpDesk HUV - Casos"}),e[56]=ds):ds=e[56];let ms;e[57]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsx(gt,{breadcrumb:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(at,{href:"/dashboard",className:"text-gray-600 hover:text-[#2c4370] hover:underline",children:"Inicio"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx(at,{href:"/soporte/casos",className:"text-gray-600 hover:text-[#2c4370] hover:underline",children:"Soporte"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Casos"})]})}),e[57]=ms):ms=e[57];let F;e[58]!==zs||e[59]!==t.filter||e[60]!==Ye||e[61]!==r.total?(F=t.filter&&s.jsxs("div",{className:"mb-4 bg-[#2c4370] text-white px-3 sm:px-4 py-2 sm:py-3 rounded-lg flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm sm:text-base",children:[s.jsx(lt,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"font-medium",children:Ye()}),s.jsxs("span",{className:"text-white/70",children:["(",r.total,")"]})]}),s.jsxs("button",{onClick:zs,className:"flex items-center gap-1 hover:bg-white/20 px-2 py-1 rounded transition-colors text-sm",children:[s.jsx(ot,{className:"w-4 h-4"}),s.jsx("span",{children:"Quitar"})]})]}),e[58]=zs,e[59]=t.filter,e[60]=Ye,e[61]=r.total,e[62]=F):F=e[62];const Is=t.filter?Ye():"Casos";let k;e[63]!==Is?(k=s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:Is}),e[63]=Is,e[64]=k):k=e[64];let xs;e[65]===Symbol.for("react.memo_cache_sentinel")?(xs=a=>Qs(a.target.value),e[65]=xs):xs=e[65];let E;e[66]!==T?(E=a=>{a.key==="Enter"&&T()},e[66]=T,e[67]=E):E=e[67];let A;e[68]!==v||e[69]!==E?(A=s.jsx(Ks,{type:"text",placeholder:"Buscar...",className:"w-full sm:w-64 pr-10 h-9",value:v,onChange:xs,onKeyDown:E}),e[68]=v,e[69]=E,e[70]=A):A=e[70];let hs;e[71]===Symbol.for("react.memo_cache_sentinel")?(hs=s.jsx(pt,{className:"h-4 w-4"}),e[71]=hs):hs=e[71];let z;e[72]!==T?(z=s.jsx(p,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:T,children:hs}),e[72]=T,e[73]=z):z=e[73];let L;e[74]!==A||e[75]!==z?(L=s.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[A,z]}),e[74]=A,e[75]=z,e[76]=L):L=e[76];let V;e[77]!==D?(V=()=>mt(!D),e[77]=D,e[78]=V):V=e[78];const Rs=`h-9 flex-1 sm:flex-initial ${w?"border-[#2c4370] text-[#2c4370]":""}`;let fs,gs;e[79]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsx(lt,{className:"h-4 w-4 sm:mr-1"}),gs=s.jsx("span",{className:"hidden sm:inline",children:"Filtros"}),e[79]=fs,e[80]=gs):(fs=e[79],gs=e[80]);let P;e[81]!==w?(P=w&&s.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"}),e[81]=w,e[82]=P):P=e[82];let H;e[83]!==V||e[84]!==Rs||e[85]!==P?(H=s.jsxs(p,{variant:"outline",size:"sm",onClick:V,className:Rs,children:[fs,gs,P]}),e[83]=V,e[84]=Rs,e[85]=P,e[86]=H):H=e[86];let ps;e[87]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsxs(p,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9 flex-1 sm:flex-initial",children:[s.jsx("span",{className:"hidden sm:inline",children:"Exportar"}),s.jsx("span",{className:"sm:hidden",children:"Excel"})]}),e[87]=ps):ps=e[87];let O;e[88]!==H?(O=s.jsxs("div",{className:"flex items-center gap-2",children:[H,ps]}),e[88]=H,e[89]=O):O=e[89];let I;e[90]!==L||e[91]!==O?(I=s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[L,O]}),e[90]=L,e[91]=O,e[92]=I):I=e[92];let R;e[93]!==k||e[94]!==I?(R=s.jsx("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[k,I]})}),e[93]=k,e[94]=I,e[95]=R):R=e[95];let M;e[96]!==Hs||e[97]!==h||e[98]!==Fs||e[99]!==x||e[100]!==Os||e[101]!==u||e[102]!==j||e[103]!==w||e[104]!==m||e[105]!==D||e[106]!==d||e[107]!==ks?(M=D&&s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Estado"}),s.jsxs(Ue,{value:d,onValueChange:Js,children:[s.jsx(Ge,{className:"h-8 text-xs",children:s.jsx(Ke,{placeholder:"Todos"})}),s.jsxs(Qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),s.jsx(i,{value:"1",children:"Nuevo"}),s.jsx(i,{value:"2",children:"En curso (asignado)"}),s.jsx(i,{value:"3",children:"En curso (planificado)"}),s.jsx(i,{value:"4",children:"En espera"}),s.jsx(i,{value:"5",children:"Resuelto"}),s.jsx(i,{value:"6",children:"Cerrado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Prioridad"}),s.jsxs(Ue,{value:m,onValueChange:Ws,children:[s.jsx(Ge,{className:"h-8 text-xs",children:s.jsx(Ke,{placeholder:"Todas"})}),s.jsxs(Qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),s.jsx(i,{value:"1",children:"Muy baja"}),s.jsx(i,{value:"2",children:"Baja"}),s.jsx(i,{value:"3",children:"Media"}),s.jsx(i,{value:"4",children:"Alta"}),s.jsx(i,{value:"5",children:"Muy alta"}),s.jsx(i,{value:"6",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Asignado a"}),s.jsxs(Ue,{value:h,onValueChange:Zs,children:[s.jsx(Ge,{className:"h-8 text-xs",children:s.jsx(Ke,{placeholder:"Todos"})}),s.jsxs(Qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),ks.map(Et)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Categoría"}),s.jsxs(Ue,{value:x,onValueChange:Ys,children:[s.jsx(Ge,{className:"h-8 text-xs",children:s.jsx(Ke,{placeholder:"Todas"})}),s.jsxs(Qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),Fs.map(kt)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Desde"}),s.jsx(Ks,{type:"date",value:u,onChange:a=>et(a.target.value),className:"h-8 text-xs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Hasta"}),s.jsx(Ks,{type:"date",value:j,onChange:a=>st(a.target.value),className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[w&&s.jsxs(p,{variant:"ghost",size:"sm",onClick:Os,className:"h-8 text-xs text-gray-600",children:[s.jsx(ot,{className:"h-3 w-3 mr-1"}),"Limpiar filtros"]}),s.jsx(p,{size:"sm",onClick:Hs,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar filtros"})]})]}),e[96]=Hs,e[97]=h,e[98]=Fs,e[99]=x,e[100]=Os,e[101]=u,e[102]=j,e[103]=w,e[104]=m,e[105]=D,e[106]=d,e[107]=ks,e[108]=M):M=e[108];let us;e[109]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsx("span",{className:"text-sm text-gray-600",children:"Mostrar"}),e[109]=us):us=e[109];let $;e[110]!==t.per_page?($=t.per_page.toString(),e[110]=t.per_page,e[111]=$):$=e[111];let js;e[112]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx(Ge,{className:"w-20 h-8",children:s.jsx(Ke,{placeholder:"15"})}),e[112]=js):js=e[112];let ys;e[113]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsxs(Qe,{children:[s.jsx(i,{value:"15",children:"15"}),s.jsx(i,{value:"20",children:"20"}),s.jsx(i,{value:"50",children:"50"}),s.jsx(i,{value:"100",children:"100"})]}),e[113]=ys):ys=e[113];let B;e[114]!==Ps||e[115]!==$?(B=s.jsxs(Ue,{value:$,onValueChange:Ps,children:[js,ys]}),e[114]=Ps,e[115]=$,e[116]=B):B=e[116];let bs;e[117]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsx("span",{className:"text-sm text-gray-600",children:"elementos"}),e[117]=bs):bs=e[117];let q;e[118]!==B?(q=s.jsxs("div",{className:"flex items-center gap-3",children:[us,B,bs]}),e[118]=B,e[119]=q):q=e[119];let U;e[120]!==r.data.length?(U=s.jsx("span",{className:"font-medium",children:r.data.length}),e[120]=r.data.length,e[121]=U):U=e[121];let G;e[122]!==r.total?(G=s.jsx("span",{className:"font-medium",children:r.total}),e[122]=r.total,e[123]=G):G=e[123];let K;e[124]!==U||e[125]!==G?(K=s.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",U," de"," ",G," casos"]}),e[124]=U,e[125]=G,e[126]=K):K=e[126];let Q;e[127]!==q||e[128]!==K?(Q=s.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b flex items-center justify-between",children:[q,K]}),e[127]=q,e[128]=K,e[129]=Q):Q=e[129];let X;e[130]!==c?(X=()=>c("id"),e[130]=c,e[131]=X):X=e[131];let J;e[132]!==n?(J=s.jsxs("div",{className:"flex items-center",children:["ID",n("id")]}),e[132]=n,e[133]=J):J=e[133];let W;e[134]!==X||e[135]!==J?(W=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100 w-16",onClick:X,children:J}),e[134]=X,e[135]=J,e[136]=W):W=e[136];let Y;e[137]!==c?(Y=()=>c("name"),e[137]=c,e[138]=Y):Y=e[138];let Z;e[139]!==n?(Z=s.jsxs("div",{className:"flex items-center",children:["Título",n("name")]}),e[139]=n,e[140]=Z):Z=e[140];let ee;e[141]!==Y||e[142]!==Z?(ee=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:Y,children:Z}),e[141]=Y,e[142]=Z,e[143]=ee):ee=e[143];let se;e[144]!==c?(se=()=>c("status"),e[144]=c,e[145]=se):se=e[145];let te;e[146]!==n?(te=s.jsxs("div",{className:"flex items-center",children:["Estado",n("status")]}),e[146]=n,e[147]=te):te=e[147];let ae;e[148]!==se||e[149]!==te?(ae=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:se,children:te}),e[148]=se,e[149]=te,e[150]=ae):ae=e[150];let le;e[151]!==c?(le=()=>c("priority"),e[151]=c,e[152]=le):le=e[152];let re;e[153]!==n?(re=s.jsxs("div",{className:"flex items-center",children:["Prioridad",n("priority")]}),e[153]=n,e[154]=re):re=e[154];let ie;e[155]!==le||e[156]!==re?(ie=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:le,children:re}),e[155]=le,e[156]=re,e[157]=ie):ie=e[157];let ce;e[158]!==c?(ce=()=>c("entity_name"),e[158]=c,e[159]=ce):ce=e[159];let ne;e[160]!==n?(ne=s.jsxs("div",{className:"flex items-center",children:["Entidad",n("entity_name")]}),e[160]=n,e[161]=ne):ne=e[161];let oe;e[162]!==ce||e[163]!==ne?(oe=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ce,children:ne}),e[162]=ce,e[163]=ne,e[164]=oe):oe=e[164];let de;e[165]!==c?(de=()=>c("date"),e[165]=c,e[166]=de):de=e[166];let me;e[167]!==n?(me=s.jsxs("div",{className:"flex items-center",children:["Fecha de apertura",n("date")]}),e[167]=n,e[168]=me):me=e[168];let xe;e[169]!==de||e[170]!==me?(xe=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:de,children:me}),e[169]=de,e[170]=me,e[171]=xe):xe=e[171];let he;e[172]!==c?(he=()=>c("date_mod"),e[172]=c,e[173]=he):he=e[173];let fe;e[174]!==n?(fe=s.jsxs("div",{className:"flex items-center",children:["Última actualización",n("date_mod")]}),e[174]=n,e[175]=fe):fe=e[175];let ge;e[176]!==he||e[177]!==fe?(ge=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:he,children:fe}),e[176]=he,e[177]=fe,e[178]=ge):ge=e[178];let Ns,vs,_s;e[179]===Symbol.for("react.memo_cache_sentinel")?(Ns=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Solicitante"}),vs=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Asignado a"}),_s=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Categoría"}),e[179]=Ns,e[180]=vs,e[181]=_s):(Ns=e[179],vs=e[180],_s=e[181]);let pe;e[182]!==g?(pe=g()&&s.jsx(_,{className:"font-semibold text-gray-900 text-xs text-center w-24",children:"Acciones"}),e[182]=g,e[183]=pe):pe=e[183];let ue;e[184]!==W||e[185]!==ee||e[186]!==ae||e[187]!==ie||e[188]!==oe||e[189]!==xe||e[190]!==ge||e[191]!==pe?(ue=s.jsx(yt,{children:s.jsxs(Gs,{className:"bg-gray-50",children:[W,ee,ae,ie,oe,xe,ge,Ns,vs,_s,pe]})}),e[184]=W,e[185]=ee,e[186]=ae,e[187]=ie,e[188]=oe,e[189]=xe,e[190]=ge,e[191]=pe,e[192]=ue):ue=e[192];let je;if(e[193]!==Be||e[194]!==g||e[195]!==r.data){let a;e[197]!==Be||e[198]!==g?(a=l=>s.jsxs(Gs,{className:"hover:bg-gray-50",children:[s.jsx(b,{className:"text-xs font-medium",children:l.id}),s.jsx(b,{className:"font-medium text-xs",children:s.jsx("button",{onClick:()=>{dt(l),Je(!0)},className:"text-[#2c4370] hover:underline block truncate max-w-md text-left",title:l.name,children:l.name||"(Sin título)"})}),s.jsx(b,{className:"text-xs",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${tt(l.status)}`,children:l.status_name})}),s.jsx(b,{className:"text-xs",children:l.priority_name}),s.jsx(b,{className:"text-xs",children:l.entity_name||"-"}),s.jsx(b,{className:"text-xs text-gray-600",children:l.date?new Date(l.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(b,{className:"text-xs text-gray-600",children:l.date_mod?new Date(l.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(b,{className:"text-xs",children:l.requester_name||"-"}),s.jsx(b,{className:"text-xs",children:l.assigned_name||"-"}),s.jsx(b,{className:"text-xs",children:l.category_name||"-"}),g()&&s.jsx(b,{className:"text-xs",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(p,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>S.visit(`/soporte/casos/${l.id}/editar`),title:"Editar",children:s.jsx(Ft,{className:"h-3.5 w-3.5"})}),Be(l)&&s.jsx(p,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",onClick:()=>xt(l),title:"Eliminar",children:s.jsx(ut,{className:"h-3.5 w-3.5"})})]})})]},l.id),e[197]=Be,e[198]=g,e[199]=a):a=e[199],je=r.data.map(a),e[193]=Be,e[194]=g,e[195]=r.data,e[196]=je}else je=e[196];let ye;e[200]!==g||e[201]!==r.data.length?(ye=r.data.length===0&&s.jsx(Gs,{children:s.jsx(b,{colSpan:g()?11:10,className:"text-center py-8 text-gray-500",children:"No se encontraron casos"})}),e[200]=g,e[201]=r.data.length,e[202]=ye):ye=e[202];let be;e[203]!==je||e[204]!==ye?(be=s.jsxs(bt,{children:[je,ye]}),e[203]=je,e[204]=ye,e[205]=be):be=e[205];let Ne;e[206]!==ue||e[207]!==be?(Ne=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Nt,{children:[ue,be]})}),e[206]=ue,e[207]=be,e[208]=Ne):Ne=e[208];let ve;e[209]!==r.current_page?(ve=s.jsx("span",{className:"font-medium",children:r.current_page}),e[209]=r.current_page,e[210]=ve):ve=e[210];let _e;e[211]!==r.last_page?(_e=s.jsx("span",{className:"font-medium",children:r.last_page}),e[211]=r.last_page,e[212]=_e):_e=e[212];let Se;e[213]!==ve||e[214]!==_e?(Se=s.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",ve," de"," ",_e]}),e[213]=ve,e[214]=_e,e[215]=Se):Se=e[215];let we;if(e[216]!==r.links){let a;e[218]!==r.links.length?(a=(l,qe)=>qe===0?s.jsx(p,{variant:"outline",size:"sm",disabled:!l.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>l.url&&Vs(l.url),children:s.jsx(Tt,{className:"h-4 w-4"})},qe):qe===r.links.length-1?s.jsx(p,{variant:"outline",size:"sm",disabled:!l.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>l.url&&Vs(l.url),children:s.jsx(wt,{className:"h-4 w-4"})},qe):s.jsx(p,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,className:l.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white",onClick:()=>l.url&&Vs(l.url),children:s.jsx("span",{dangerouslySetInnerHTML:{__html:l.label}})},qe),e[218]=r.links.length,e[219]=a):a=e[219],we=r.links.map(a),e[216]=r.links,e[217]=we}else we=e[217];let Ce;e[220]!==we?(Ce=s.jsx("div",{className:"flex items-center gap-2",children:we}),e[220]=we,e[221]=Ce):Ce=e[221];let De;e[222]!==Se||e[223]!==Ce?(De=s.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[Se,Ce]}),e[222]=Se,e[223]=Ce,e[224]=De):De=e[224];let Te;e[225]!==R||e[226]!==M||e[227]!==Q||e[228]!==Ne||e[229]!==De?(Te=s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[R,M,Q,Ne,De]}),e[225]=R,e[226]=M,e[227]=Q,e[228]=Ne,e[229]=De,e[230]=Te):Te=e[230];let Fe;e[231]!==F||e[232]!==Te?(Fe=s.jsxs("main",{className:"flex-1 px-3 sm:px-6 py-4 sm:py-6",children:[F,Te]}),e[231]=F,e[232]=Te,e[233]=Fe):Fe=e[233];let Ss;e[234]===Symbol.for("react.memo_cache_sentinel")?(Ss=s.jsx(jt,{}),e[234]=Ss):Ss=e[234];let ke;e[235]!==Fe?(ke=s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[ms,Fe,Ss]}),e[235]=Fe,e[236]=ke):ke=e[236];let ws;e[237]===Symbol.for("react.memo_cache_sentinel")?(ws=s.jsx(rt,{children:"Eliminar Caso"}),e[237]=ws):ws=e[237];const Ms=C?.id;let Ee;e[238]!==Ms?(Ee=s.jsxs("strong",{children:["#",Ms]}),e[238]=Ms,e[239]=Ee):Ee=e[239];let Cs;e[240]===Symbol.for("react.memo_cache_sentinel")?(Cs=s.jsx("br",{}),e[240]=Cs):Cs=e[240];const $s=C?.name;let Ae;e[241]!==$s?(Ae=s.jsx("span",{className:"text-gray-600",children:$s}),e[241]=$s,e[242]=Ae):Ae=e[242];let ze;e[243]!==Ee||e[244]!==Ae?(ze=s.jsxs(it,{children:[ws,s.jsxs(vt,{children:["¿Está seguro que desea eliminar el caso ",Ee,"?",Cs,Ae]})]}),e[243]=Ee,e[244]=Ae,e[245]=ze):ze=e[245];let Ds;e[246]===Symbol.for("react.memo_cache_sentinel")?(Ds=s.jsx(p,{variant:"outline",onClick:()=>Xe(!1),children:"Cancelar"}),e[246]=Ds):Ds=e[246];let Le;e[247]!==Ls?(Le=s.jsxs(_t,{className:"gap-2",children:[Ds,s.jsx(p,{variant:"destructive",onClick:Ls,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]}),e[247]=Ls,e[248]=Le):Le=e[248];let Ve;e[249]!==ze||e[250]!==Le?(Ve=s.jsxs(ct,{className:"sm:max-w-[425px]",children:[ze,Le]}),e[249]=ze,e[250]=Le,e[251]=Ve):Ve=e[251];let Pe;e[252]!==Es||e[253]!==Ve?(Pe=s.jsx(nt,{open:Es,onOpenChange:Xe,children:Ve}),e[252]=Es,e[253]=Ve,e[254]=Pe):Pe=e[254];const Bs=o?.id;let He;e[255]!==Bs?(He=s.jsxs("span",{className:"text-[#2c4370]",children:["Caso #",Bs]}),e[255]=Bs,e[256]=He):He=e[256];const qs=`px-2 py-0.5 rounded-full text-[10px] font-semibold ${o?tt(o.status):""}`,Us=o?.status_name;let Oe;e[257]!==Us||e[258]!==qs?(Oe=s.jsx("span",{className:qs,children:Us}),e[257]=Us,e[258]=qs,e[259]=Oe):Oe=e[259];let Ie;e[260]!==Oe||e[261]!==He?(Ie=s.jsx(it,{children:s.jsxs(rt,{className:"flex items-center gap-2",children:[He,Oe]})}),e[260]=Oe,e[261]=He,e[262]=Ie):Ie=e[262];let Re;e[263]!==g||e[264]!==o?(Re=o&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:o.name})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Prioridad"}),s.jsx("span",{className:"font-medium",children:o.priority_name})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Entidad"}),s.jsx("span",{className:"font-medium",children:o.entity_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Fecha de Apertura"}),s.jsx("span",{className:"font-medium",children:o.date?new Date(o.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Última Actualización"}),s.jsx("span",{className:"font-medium",children:o.date_mod?new Date(o.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Solicitante"}),s.jsx("span",{className:"font-medium",children:o.requester_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Asignado a"}),s.jsx("span",{className:"font-medium",children:o.assigned_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded col-span-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Categoría"}),s.jsx("span",{className:"font-medium",children:o.category_name||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsx(p,{variant:"outline",size:"sm",onClick:()=>Je(!1),className:"h-8 text-xs",children:"Cerrar"}),g()&&s.jsx(p,{size:"sm",onClick:()=>{Je(!1),S.visit(`/soporte/casos/${o.id}/editar`)},className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Editar Caso"})]})]}),e[263]=g,e[264]=o,e[265]=Re):Re=e[265];let Me;e[266]!==Ie||e[267]!==Re?(Me=s.jsxs(ct,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[Ie,Re]}),e[266]=Ie,e[267]=Re,e[268]=Me):Me=e[268];let $e;e[269]!==Me||e[270]!==As?($e=s.jsx(nt,{open:As,onOpenChange:Je,children:Me}),e[269]=Me,e[270]=As,e[271]=$e):$e=e[271];let Ts;return e[272]!==$e||e[273]!==ke||e[274]!==Pe?(Ts=s.jsxs(s.Fragment,{children:[ds,ke,Pe,$e]}),e[272]=$e,e[273]=ke,e[274]=Pe,e[275]=Ts):Ts=e[275],Ts}function kt(f){return s.jsx(i,{value:f.id.toString(),children:f.completename},f.id)}function Et(f){return s.jsx(i,{value:f.id.toString(),children:f.fullname},f.id)}function At(f){switch(f){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-yellow-100 text-yellow-800";case 4:return"bg-orange-100 text-orange-800";case 5:return"bg-green-100 text-green-800";case 6:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function zt(f){f&&S.visit(f,{preserveScroll:!0})}export{Zt as default};
