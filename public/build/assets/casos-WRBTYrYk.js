import{c as xt,R as j,j as s,r as S,H as mt}from"./app-D3fgwS_s.js";import{G as ht,S as gt,T as ft,a as pt}from"./glpi-footer-Dsjfisjh.js";import{F as tt,T as _,b as Us,c as b,a as ut,d as jt,e as bt}from"./table-CkrUYJQc.js";import{B as f}from"./button--tIsHJUQ.js";import{I as Gs}from"./input-B_OH0IWG.js";import{D as lt,b as at,a as yt,c as Nt,d as rt,e as it}from"./dialog-BU5v9sDk.js";import{S as Ue,a as Ge,b as Ke,c as Qe,d as i}from"./select-CKeiqWoZ.js";import{X as ct}from"./x-C-DwXHok.js";import{C as vt,a as _t}from"./chevrons-up-down-Bi9hSOsR.js";import{A as St,a as wt,C as Ct}from"./chevron-left-ReIIhG4R.js";import{S as Dt}from"./square-pen-C4e55Aew.js";/* empty css            */import"./index-GqNpXiOC.js";import"./index-DKkIo3Ti.js";import"./index-DCX4FNUt.js";import"./index-N8a1iiOH.js";import"./refresh-cw-B8fzPEx1.js";import"./triangle-alert-5rW0K9AN.js";import"./check-DHTC1XqV.js";import"./index-DOekU9OB.js";function Wt(y){const e=xt.c(268),{tickets:r,categories:Fs,technicians:ks,filters:t,auth:N}=y,[v,Ks]=j.useState(t.search||""),[Es,Xe]=j.useState(!1),[D,Qs]=j.useState(null),[As,Je]=j.useState(!1),[o,nt]=j.useState(null),[T,ot]=j.useState(!1),[d,Xs]=j.useState(t.status||"all"),[x,Js]=j.useState(t.priority||"all"),[m,Ws]=j.useState(t.category||"all"),[h,Ys]=j.useState(t.assigned||"all"),[p,Zs]=j.useState(t.date_from||""),[u,et]=j.useState(t.date_to||""),w=d&&d!=="all"||x&&x!=="all"||m&&m!=="all"||h&&h!=="all"||p||u||t.filter;let We;e[0]!==t.filter?(We=()=>{switch(t.filter){case"unassigned":return"Sin asignar";case"my_cases":return"Mis casos";case"resolved_today":return"Resueltos hoy";default:return null}},e[0]=t.filter,e[1]=We):We=e[1];const Ye=We;let Ze;e[2]!==t.direction||e[3]!==t.per_page||e[4]!==t.sort?(Ze=()=>{S.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction},{preserveState:!1})},e[2]=t.direction,e[3]=t.per_page,e[4]=t.sort,e[5]=Ze):Ze=e[5];const zs=Ze;let es;e[6]!==N.user.id||e[7]!==N.user.role?(es=l=>N.user.role==="Administrador"?!0:N.user.role==="Técnico"?l.users_id_recipient===N.user.id:!1,e[6]=N.user.id,e[7]=N.user.role,e[8]=es):es=e[8];const Be=es;let ss;e[9]!==N.user.role?(ss=()=>N.user.role==="Administrador"||N.user.role==="Técnico",e[9]=N.user.role,e[10]=ss):ss=e[10];const g=ss;let ts;e[11]===Symbol.for("react.memo_cache_sentinel")?(ts=l=>{Qs(l),Xe(!0)},e[11]=ts):ts=e[11];const dt=ts;let ls;e[12]!==D?(ls=()=>{D&&S.delete(`/soporte/casos/${D.id}`,{preserveScroll:!0,onSuccess:()=>{Xe(!1),Qs(null)}})},e[12]=D,e[13]=ls):ls=e[13];const Vs=ls;let as;e[14]!==t?(as=l=>{const a=t.sort===l&&t.direction==="asc"?"desc":"asc";S.get("/soporte/casos",{...t,sort:l,direction:a},{preserveState:!1,preserveScroll:!0})},e[14]=t,e[15]=as):as=e[15];const c=as;let rs;e[16]!==t?(rs=l=>{l&&S.get(l,t,{preserveState:!0,preserveScroll:!0})},e[16]=t,e[17]=rs):rs=e[17];const C=rs;let is;e[18]!==h||e[19]!==m||e[20]!==p||e[21]!==u||e[22]!==t.direction||e[23]!==t.per_page||e[24]!==t.sort||e[25]!==x||e[26]!==v||e[27]!==d?(is=()=>{const l={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};v&&(l.search=v),d&&d!=="all"&&(l.status=d),x&&x!=="all"&&(l.priority=x),m&&m!=="all"&&(l.category=m),h&&h!=="all"&&(l.assigned=h),p&&(l.date_from=p),u&&(l.date_to=u),S.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!1,replace:!0})},e[18]=h,e[19]=m,e[20]=p,e[21]=u,e[22]=t.direction,e[23]=t.per_page,e[24]=t.sort,e[25]=x,e[26]=v,e[27]=d,e[28]=is):is=e[28];const F=is;let cs;e[29]!==t?(cs=l=>{S.get("/soporte/casos",{...t,per_page:l,page:1},{preserveState:!1,preserveScroll:!0})},e[29]=t,e[30]=cs):cs=e[30];const Ps=cs;let ns;e[31]!==h||e[32]!==m||e[33]!==p||e[34]!==u||e[35]!==t.direction||e[36]!==t.per_page||e[37]!==t.sort||e[38]!==x||e[39]!==v||e[40]!==d?(ns=()=>{const l={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};v&&(l.search=v),d&&d!=="all"&&(l.status=d),x&&x!=="all"&&(l.priority=x),m&&m!=="all"&&(l.category=m),h&&h!=="all"&&(l.assigned=h),p&&(l.date_from=p),u&&(l.date_to=u),console.log("Applying filters:",l),S.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!1,replace:!0})},e[31]=h,e[32]=m,e[33]=p,e[34]=u,e[35]=t.direction,e[36]=t.per_page,e[37]=t.sort,e[38]=x,e[39]=v,e[40]=d,e[41]=ns):ns=e[41];const Hs=ns;let os;e[42]!==t.direction||e[43]!==t.per_page||e[44]!==t.sort?(os=()=>{Xs("all"),Js("all"),Ws("all"),Ys("all"),Zs(""),et(""),Ks(""),S.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction,page:1},{preserveState:!1,preserveScroll:!1,replace:!0})},e[42]=t.direction,e[43]=t.per_page,e[44]=t.sort,e[45]=os):os=e[45];const Ls=os;let ds;e[46]!==t.direction||e[47]!==t.sort?(ds=l=>t.sort!==l?s.jsx(vt,{className:"h-3 w-3 ml-1 text-gray-400"}):t.direction==="asc"?s.jsx(St,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):s.jsx(wt,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[46]=t.direction,e[47]=t.sort,e[48]=ds):ds=e[48];const n=ds,st=kt;let xs;e[49]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsx(mt,{title:"HelpDesk HUV - Casos"}),e[49]=xs):xs=e[49];let ms;e[50]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsx(ht,{breadcrumb:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Inicio"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"text-gray-600",children:"Soporte"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Casos"})]})}),e[50]=ms):ms=e[50];let k;e[51]!==zs||e[52]!==t.filter||e[53]!==Ye||e[54]!==r.total?(k=t.filter&&s.jsxs("div",{className:"mb-4 bg-[#2c4370] text-white px-4 py-3 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tt,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Mostrando: ",Ye()]}),s.jsxs("span",{className:"text-white/70",children:["(",r.total," casos)"]})]}),s.jsxs("button",{onClick:zs,className:"flex items-center gap-1 hover:bg-white/20 px-2 py-1 rounded transition-colors",children:[s.jsx(ct,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Quitar filtro"})]})]}),e[51]=zs,e[52]=t.filter,e[53]=Ye,e[54]=r.total,e[55]=k):k=e[55];const Os=t.filter?Ye():"Casos";let E;e[56]!==Os?(E=s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:Os}),e[56]=Os,e[57]=E):E=e[57];let hs;e[58]===Symbol.for("react.memo_cache_sentinel")?(hs=l=>Ks(l.target.value),e[58]=hs):hs=e[58];let A;e[59]!==F?(A=l=>{l.key==="Enter"&&F()},e[59]=F,e[60]=A):A=e[60];let z;e[61]!==v||e[62]!==A?(z=s.jsx(Gs,{type:"text",placeholder:"Buscar...",className:"w-64 pr-10 h-9",value:v,onChange:hs,onKeyDown:A}),e[61]=v,e[62]=A,e[63]=z):z=e[63];let gs;e[64]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx(gt,{className:"h-4 w-4"}),e[64]=gs):gs=e[64];let V;e[65]!==F?(V=s.jsx(f,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:F,children:gs}),e[65]=F,e[66]=V):V=e[66];let P;e[67]!==z||e[68]!==V?(P=s.jsxs("div",{className:"relative",children:[z,V]}),e[67]=z,e[68]=V,e[69]=P):P=e[69];let H;e[70]!==T?(H=()=>ot(!T),e[70]=T,e[71]=H):H=e[71];const Is=`h-9 ${w?"border-[#2c4370] text-[#2c4370]":""}`;let fs;e[72]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsx(tt,{className:"h-4 w-4 mr-1"}),e[72]=fs):fs=e[72];let L;e[73]!==w?(L=w&&s.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"}),e[73]=w,e[74]=L):L=e[74];let O;e[75]!==H||e[76]!==Is||e[77]!==L?(O=s.jsxs(f,{variant:"outline",size:"sm",onClick:H,className:Is,children:[fs,"Filtros",L]}),e[75]=H,e[76]=Is,e[77]=L,e[78]=O):O=e[78];let ps;e[79]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsx(f,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9",children:"Exportar"}),e[79]=ps):ps=e[79];let I;e[80]!==P||e[81]!==O?(I=s.jsxs("div",{className:"flex items-center gap-3",children:[P,O,ps]}),e[80]=P,e[81]=O,e[82]=I):I=e[82];let M;e[83]!==E||e[84]!==I?(M=s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[E,I]})}),e[83]=E,e[84]=I,e[85]=M):M=e[85];let R;e[86]!==Hs||e[87]!==h||e[88]!==Fs||e[89]!==m||e[90]!==Ls||e[91]!==p||e[92]!==u||e[93]!==w||e[94]!==x||e[95]!==T||e[96]!==d||e[97]!==ks?(R=T&&s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Estado"}),s.jsxs(Ue,{value:d,onValueChange:Xs,children:[s.jsx(Ge,{className:"h-8 text-xs",children:s.jsx(Ke,{placeholder:"Todos"})}),s.jsxs(Qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),s.jsx(i,{value:"1",children:"Nuevo"}),s.jsx(i,{value:"2",children:"En curso (asignado)"}),s.jsx(i,{value:"3",children:"En curso (planificado)"}),s.jsx(i,{value:"4",children:"En espera"}),s.jsx(i,{value:"5",children:"Resuelto"}),s.jsx(i,{value:"6",children:"Cerrado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Prioridad"}),s.jsxs(Ue,{value:x,onValueChange:Js,children:[s.jsx(Ge,{className:"h-8 text-xs",children:s.jsx(Ke,{placeholder:"Todas"})}),s.jsxs(Qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),s.jsx(i,{value:"1",children:"Muy baja"}),s.jsx(i,{value:"2",children:"Baja"}),s.jsx(i,{value:"3",children:"Media"}),s.jsx(i,{value:"4",children:"Alta"}),s.jsx(i,{value:"5",children:"Muy alta"}),s.jsx(i,{value:"6",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Asignado a"}),s.jsxs(Ue,{value:h,onValueChange:Ys,children:[s.jsx(Ge,{className:"h-8 text-xs",children:s.jsx(Ke,{placeholder:"Todos"})}),s.jsxs(Qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),ks.map(Ft)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Categoría"}),s.jsxs(Ue,{value:m,onValueChange:Ws,children:[s.jsx(Ge,{className:"h-8 text-xs",children:s.jsx(Ke,{placeholder:"Todas"})}),s.jsxs(Qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),Fs.map(Tt)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Desde"}),s.jsx(Gs,{type:"date",value:p,onChange:l=>Zs(l.target.value),className:"h-8 text-xs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Hasta"}),s.jsx(Gs,{type:"date",value:u,onChange:l=>et(l.target.value),className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[w&&s.jsxs(f,{variant:"ghost",size:"sm",onClick:Ls,className:"h-8 text-xs text-gray-600",children:[s.jsx(ct,{className:"h-3 w-3 mr-1"}),"Limpiar filtros"]}),s.jsx(f,{size:"sm",onClick:Hs,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar filtros"})]})]}),e[86]=Hs,e[87]=h,e[88]=Fs,e[89]=m,e[90]=Ls,e[91]=p,e[92]=u,e[93]=w,e[94]=x,e[95]=T,e[96]=d,e[97]=ks,e[98]=R):R=e[98];let us;e[99]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsx("span",{className:"text-sm text-gray-600",children:"Mostrar"}),e[99]=us):us=e[99];let $;e[100]!==t.per_page?($=t.per_page.toString(),e[100]=t.per_page,e[101]=$):$=e[101];let js;e[102]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx(Ge,{className:"w-20 h-8",children:s.jsx(Ke,{placeholder:"15"})}),e[102]=js):js=e[102];let bs;e[103]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsxs(Qe,{children:[s.jsx(i,{value:"15",children:"15"}),s.jsx(i,{value:"20",children:"20"}),s.jsx(i,{value:"50",children:"50"}),s.jsx(i,{value:"100",children:"100"})]}),e[103]=bs):bs=e[103];let B;e[104]!==Ps||e[105]!==$?(B=s.jsxs(Ue,{value:$,onValueChange:Ps,children:[js,bs]}),e[104]=Ps,e[105]=$,e[106]=B):B=e[106];let ys;e[107]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx("span",{className:"text-sm text-gray-600",children:"elementos"}),e[107]=ys):ys=e[107];let q;e[108]!==B?(q=s.jsxs("div",{className:"flex items-center gap-3",children:[us,B,ys]}),e[108]=B,e[109]=q):q=e[109];let U;e[110]!==r.data.length?(U=s.jsx("span",{className:"font-medium",children:r.data.length}),e[110]=r.data.length,e[111]=U):U=e[111];let G;e[112]!==r.total?(G=s.jsx("span",{className:"font-medium",children:r.total}),e[112]=r.total,e[113]=G):G=e[113];let K;e[114]!==U||e[115]!==G?(K=s.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",U," de"," ",G," casos"]}),e[114]=U,e[115]=G,e[116]=K):K=e[116];let Q;e[117]!==q||e[118]!==K?(Q=s.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b flex items-center justify-between",children:[q,K]}),e[117]=q,e[118]=K,e[119]=Q):Q=e[119];let X;e[120]!==c?(X=()=>c("id"),e[120]=c,e[121]=X):X=e[121];let J;e[122]!==n?(J=s.jsxs("div",{className:"flex items-center",children:["ID",n("id")]}),e[122]=n,e[123]=J):J=e[123];let W;e[124]!==X||e[125]!==J?(W=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100 w-16",onClick:X,children:J}),e[124]=X,e[125]=J,e[126]=W):W=e[126];let Y;e[127]!==c?(Y=()=>c("name"),e[127]=c,e[128]=Y):Y=e[128];let Z;e[129]!==n?(Z=s.jsxs("div",{className:"flex items-center",children:["Título",n("name")]}),e[129]=n,e[130]=Z):Z=e[130];let ee;e[131]!==Y||e[132]!==Z?(ee=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:Y,children:Z}),e[131]=Y,e[132]=Z,e[133]=ee):ee=e[133];let se;e[134]!==c?(se=()=>c("status"),e[134]=c,e[135]=se):se=e[135];let te;e[136]!==n?(te=s.jsxs("div",{className:"flex items-center",children:["Estado",n("status")]}),e[136]=n,e[137]=te):te=e[137];let le;e[138]!==se||e[139]!==te?(le=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:se,children:te}),e[138]=se,e[139]=te,e[140]=le):le=e[140];let ae;e[141]!==c?(ae=()=>c("priority"),e[141]=c,e[142]=ae):ae=e[142];let re;e[143]!==n?(re=s.jsxs("div",{className:"flex items-center",children:["Prioridad",n("priority")]}),e[143]=n,e[144]=re):re=e[144];let ie;e[145]!==ae||e[146]!==re?(ie=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ae,children:re}),e[145]=ae,e[146]=re,e[147]=ie):ie=e[147];let ce;e[148]!==c?(ce=()=>c("entity_name"),e[148]=c,e[149]=ce):ce=e[149];let ne;e[150]!==n?(ne=s.jsxs("div",{className:"flex items-center",children:["Entidad",n("entity_name")]}),e[150]=n,e[151]=ne):ne=e[151];let oe;e[152]!==ce||e[153]!==ne?(oe=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ce,children:ne}),e[152]=ce,e[153]=ne,e[154]=oe):oe=e[154];let de;e[155]!==c?(de=()=>c("date"),e[155]=c,e[156]=de):de=e[156];let xe;e[157]!==n?(xe=s.jsxs("div",{className:"flex items-center",children:["Fecha de apertura",n("date")]}),e[157]=n,e[158]=xe):xe=e[158];let me;e[159]!==de||e[160]!==xe?(me=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:de,children:xe}),e[159]=de,e[160]=xe,e[161]=me):me=e[161];let he;e[162]!==c?(he=()=>c("date_mod"),e[162]=c,e[163]=he):he=e[163];let ge;e[164]!==n?(ge=s.jsxs("div",{className:"flex items-center",children:["Última actualización",n("date_mod")]}),e[164]=n,e[165]=ge):ge=e[165];let fe;e[166]!==he||e[167]!==ge?(fe=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:he,children:ge}),e[166]=he,e[167]=ge,e[168]=fe):fe=e[168];let Ns,vs,_s;e[169]===Symbol.for("react.memo_cache_sentinel")?(Ns=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Solicitante"}),vs=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Asignado a"}),_s=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Categoría"}),e[169]=Ns,e[170]=vs,e[171]=_s):(Ns=e[169],vs=e[170],_s=e[171]);let pe;e[172]!==g?(pe=g()&&s.jsx(_,{className:"font-semibold text-gray-900 text-xs text-center w-24",children:"Acciones"}),e[172]=g,e[173]=pe):pe=e[173];let ue;e[174]!==W||e[175]!==ee||e[176]!==le||e[177]!==ie||e[178]!==oe||e[179]!==me||e[180]!==fe||e[181]!==pe?(ue=s.jsx(ut,{children:s.jsxs(Us,{className:"bg-gray-50",children:[W,ee,le,ie,oe,me,fe,Ns,vs,_s,pe]})}),e[174]=W,e[175]=ee,e[176]=le,e[177]=ie,e[178]=oe,e[179]=me,e[180]=fe,e[181]=pe,e[182]=ue):ue=e[182];let je;if(e[183]!==Be||e[184]!==g||e[185]!==r.data){let l;e[187]!==Be||e[188]!==g?(l=a=>s.jsxs(Us,{className:"hover:bg-gray-50",children:[s.jsx(b,{className:"text-xs font-medium",children:a.id}),s.jsx(b,{className:"font-medium text-xs",children:s.jsx("button",{onClick:()=>{nt(a),Je(!0)},className:"text-[#2c4370] hover:underline block truncate max-w-md text-left",title:a.name,children:a.name||"(Sin título)"})}),s.jsx(b,{className:"text-xs",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${st(a.status)}`,children:a.status_name})}),s.jsx(b,{className:"text-xs",children:a.priority_name}),s.jsx(b,{className:"text-xs",children:a.entity_name||"-"}),s.jsx(b,{className:"text-xs text-gray-600",children:a.date?new Date(a.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(b,{className:"text-xs text-gray-600",children:a.date_mod?new Date(a.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(b,{className:"text-xs",children:a.requester_name||"-"}),s.jsx(b,{className:"text-xs",children:a.assigned_name||"-"}),s.jsx(b,{className:"text-xs",children:a.category_name||"-"}),g()&&s.jsx(b,{className:"text-xs",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(f,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>S.visit(`/soporte/casos/${a.id}/editar`),title:"Editar",children:s.jsx(Dt,{className:"h-3.5 w-3.5"})}),Be(a)&&s.jsx(f,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",onClick:()=>dt(a),title:"Eliminar",children:s.jsx(ft,{className:"h-3.5 w-3.5"})})]})})]},a.id),e[187]=Be,e[188]=g,e[189]=l):l=e[189],je=r.data.map(l),e[183]=Be,e[184]=g,e[185]=r.data,e[186]=je}else je=e[186];let be;e[190]!==g||e[191]!==r.data.length?(be=r.data.length===0&&s.jsx(Us,{children:s.jsx(b,{colSpan:g()?11:10,className:"text-center py-8 text-gray-500",children:"No se encontraron casos"})}),e[190]=g,e[191]=r.data.length,e[192]=be):be=e[192];let ye;e[193]!==je||e[194]!==be?(ye=s.jsxs(jt,{children:[je,be]}),e[193]=je,e[194]=be,e[195]=ye):ye=e[195];let Ne;e[196]!==ue||e[197]!==ye?(Ne=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(bt,{children:[ue,ye]})}),e[196]=ue,e[197]=ye,e[198]=Ne):Ne=e[198];let ve;e[199]!==r.current_page?(ve=s.jsx("span",{className:"font-medium",children:r.current_page}),e[199]=r.current_page,e[200]=ve):ve=e[200];let _e;e[201]!==r.last_page?(_e=s.jsx("span",{className:"font-medium",children:r.last_page}),e[201]=r.last_page,e[202]=_e):_e=e[202];let Se;e[203]!==ve||e[204]!==_e?(Se=s.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",ve," de"," ",_e]}),e[203]=ve,e[204]=_e,e[205]=Se):Se=e[205];let we;if(e[206]!==C||e[207]!==r.links){let l;e[209]!==C||e[210]!==r.links.length?(l=(a,qe)=>qe===0?s.jsx(f,{variant:"outline",size:"sm",disabled:!a.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>a.url&&C(a.url),children:s.jsx(Ct,{className:"h-4 w-4"})},qe):qe===r.links.length-1?s.jsx(f,{variant:"outline",size:"sm",disabled:!a.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>a.url&&C(a.url),children:s.jsx(_t,{className:"h-4 w-4"})},qe):s.jsx(f,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,className:a.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white",onClick:()=>a.url&&C(a.url),children:s.jsx("span",{dangerouslySetInnerHTML:{__html:a.label}})},qe),e[209]=C,e[210]=r.links.length,e[211]=l):l=e[211],we=r.links.map(l),e[206]=C,e[207]=r.links,e[208]=we}else we=e[208];let Ce;e[212]!==we?(Ce=s.jsx("div",{className:"flex items-center gap-2",children:we}),e[212]=we,e[213]=Ce):Ce=e[213];let De;e[214]!==Se||e[215]!==Ce?(De=s.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[Se,Ce]}),e[214]=Se,e[215]=Ce,e[216]=De):De=e[216];let Te;e[217]!==M||e[218]!==R||e[219]!==Q||e[220]!==Ne||e[221]!==De?(Te=s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[M,R,Q,Ne,De]}),e[217]=M,e[218]=R,e[219]=Q,e[220]=Ne,e[221]=De,e[222]=Te):Te=e[222];let Fe;e[223]!==k||e[224]!==Te?(Fe=s.jsxs("main",{className:"flex-1 px-6 py-6",children:[k,Te]}),e[223]=k,e[224]=Te,e[225]=Fe):Fe=e[225];let Ss;e[226]===Symbol.for("react.memo_cache_sentinel")?(Ss=s.jsx(pt,{}),e[226]=Ss):Ss=e[226];let ke;e[227]!==Fe?(ke=s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[ms,Fe,Ss]}),e[227]=Fe,e[228]=ke):ke=e[228];let ws;e[229]===Symbol.for("react.memo_cache_sentinel")?(ws=s.jsx(lt,{children:"Eliminar Caso"}),e[229]=ws):ws=e[229];const Ms=D?.id;let Ee;e[230]!==Ms?(Ee=s.jsxs("strong",{children:["#",Ms]}),e[230]=Ms,e[231]=Ee):Ee=e[231];let Cs;e[232]===Symbol.for("react.memo_cache_sentinel")?(Cs=s.jsx("br",{}),e[232]=Cs):Cs=e[232];const Rs=D?.name;let Ae;e[233]!==Rs?(Ae=s.jsx("span",{className:"text-gray-600",children:Rs}),e[233]=Rs,e[234]=Ae):Ae=e[234];let ze;e[235]!==Ee||e[236]!==Ae?(ze=s.jsxs(at,{children:[ws,s.jsxs(yt,{children:["¿Está seguro que desea eliminar el caso ",Ee,"?",Cs,Ae]})]}),e[235]=Ee,e[236]=Ae,e[237]=ze):ze=e[237];let Ds;e[238]===Symbol.for("react.memo_cache_sentinel")?(Ds=s.jsx(f,{variant:"outline",onClick:()=>Xe(!1),children:"Cancelar"}),e[238]=Ds):Ds=e[238];let Ve;e[239]!==Vs?(Ve=s.jsxs(Nt,{className:"gap-2",children:[Ds,s.jsx(f,{variant:"destructive",onClick:Vs,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]}),e[239]=Vs,e[240]=Ve):Ve=e[240];let Pe;e[241]!==ze||e[242]!==Ve?(Pe=s.jsxs(rt,{className:"sm:max-w-[425px]",children:[ze,Ve]}),e[241]=ze,e[242]=Ve,e[243]=Pe):Pe=e[243];let He;e[244]!==Es||e[245]!==Pe?(He=s.jsx(it,{open:Es,onOpenChange:Xe,children:Pe}),e[244]=Es,e[245]=Pe,e[246]=He):He=e[246];const $s=o?.id;let Le;e[247]!==$s?(Le=s.jsxs("span",{className:"text-[#2c4370]",children:["Caso #",$s]}),e[247]=$s,e[248]=Le):Le=e[248];const Bs=`px-2 py-0.5 rounded-full text-[10px] font-semibold ${o?st(o.status):""}`,qs=o?.status_name;let Oe;e[249]!==Bs||e[250]!==qs?(Oe=s.jsx("span",{className:Bs,children:qs}),e[249]=Bs,e[250]=qs,e[251]=Oe):Oe=e[251];let Ie;e[252]!==Oe||e[253]!==Le?(Ie=s.jsx(at,{children:s.jsxs(lt,{className:"flex items-center gap-2",children:[Le,Oe]})}),e[252]=Oe,e[253]=Le,e[254]=Ie):Ie=e[254];let Me;e[255]!==g||e[256]!==o?(Me=o&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:o.name})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Prioridad"}),s.jsx("span",{className:"font-medium",children:o.priority_name})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Entidad"}),s.jsx("span",{className:"font-medium",children:o.entity_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Fecha de Apertura"}),s.jsx("span",{className:"font-medium",children:o.date?new Date(o.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Última Actualización"}),s.jsx("span",{className:"font-medium",children:o.date_mod?new Date(o.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Solicitante"}),s.jsx("span",{className:"font-medium",children:o.requester_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Asignado a"}),s.jsx("span",{className:"font-medium",children:o.assigned_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded col-span-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Categoría"}),s.jsx("span",{className:"font-medium",children:o.category_name||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsx(f,{variant:"outline",size:"sm",onClick:()=>Je(!1),className:"h-8 text-xs",children:"Cerrar"}),g()&&s.jsx(f,{size:"sm",onClick:()=>{Je(!1),S.visit(`/soporte/casos/${o.id}/editar`)},className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Editar Caso"})]})]}),e[255]=g,e[256]=o,e[257]=Me):Me=e[257];let Re;e[258]!==Ie||e[259]!==Me?(Re=s.jsxs(rt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[Ie,Me]}),e[258]=Ie,e[259]=Me,e[260]=Re):Re=e[260];let $e;e[261]!==Re||e[262]!==As?($e=s.jsx(it,{open:As,onOpenChange:Je,children:Re}),e[261]=Re,e[262]=As,e[263]=$e):$e=e[263];let Ts;return e[264]!==$e||e[265]!==ke||e[266]!==He?(Ts=s.jsxs(s.Fragment,{children:[xs,ke,He,$e]}),e[264]=$e,e[265]=ke,e[266]=He,e[267]=Ts):Ts=e[267],Ts}function Tt(y){return s.jsx(i,{value:y.id.toString(),children:y.completename},y.id)}function Ft(y){return s.jsx(i,{value:y.id.toString(),children:y.fullname},y.id)}function kt(y){switch(y){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-yellow-100 text-yellow-800";case 4:return"bg-orange-100 text-orange-800";case 5:return"bg-green-100 text-green-800";case 6:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}export{Wt as default};
