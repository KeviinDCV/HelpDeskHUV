import{c as Ye,R as Ae,j as t,r as f,H as Ze}from"./app-BQgpy8Dc.js";import{G as et,S as tt,a as st}from"./glpi-footer-DQNJuL35.js";import{A as at,a as lt,F as rt,T as p,b as it,c as Qe,e as ct,f as nt,C as ot,d as u}from"./table-DgAf6-aG.js";import{B as g}from"./button-fwNPArSp.js";import{I as mt}from"./input-xu9cfL0S.js";import{S as Ge,a as Me,b as Ke,c as Xe,d as h}from"./select-C14IB4iD.js";import{X as dt}from"./x-yqFXy5se.js";import{C as xt,a as ht}from"./chevrons-up-down-D9FT17qG.js";/* empty css            */import"./index-aUrI4PaI.js";import"./index-CsVk_1xe.js";import"./index-Bkyc051Z.js";import"./index-BrHyakCJ.js";import"./check-DNw8MfMA.js";function It(l){const e=Ye.c(188),{consumables:r,types:De,manufacturers:Le,filters:s}=l,[d,qe]=Ae.useState(s.search||""),[v,We]=Ae.useState(!1),[n,Je]=Ae.useState(s.type||"all"),[o,Oe]=Ae.useState(s.manufacturer||"all"),j=n&&n!=="all"||o&&o!=="all";let ge;e[0]!==s.direction||e[1]!==s.manufacturer||e[2]!==s.per_page||e[3]!==s.search||e[4]!==s.sort||e[5]!==s.type?(ge=a=>{const m=s.sort===a&&s.direction==="asc"?"desc":"asc",x={per_page:s.per_page,sort:a,direction:m};s.search&&(x.search=s.search),s.type&&s.type!=="all"&&(x.type=s.type),s.manufacturer&&s.manufacturer!=="all"&&(x.manufacturer=s.manufacturer),f.get("/inventario/consumibles",x,{preserveState:!1})},e[0]=s.direction,e[1]=s.manufacturer,e[2]=s.per_page,e[3]=s.search,e[4]=s.sort,e[5]=s.type,e[6]=ge):ge=e[6];const i=ge;let je;e[7]!==s.direction||e[8]!==s.per_page||e[9]!==s.sort||e[10]!==o||e[11]!==d||e[12]!==n?(je=()=>{const a={per_page:s.per_page,sort:s.sort,direction:s.direction,page:1};d&&(a.search=d),n&&n!=="all"&&(a.type=n),o&&o!=="all"&&(a.manufacturer=o),f.get("/inventario/consumibles",a,{preserveState:!1})},e[7]=s.direction,e[8]=s.per_page,e[9]=s.sort,e[10]=o,e[11]=d,e[12]=n,e[13]=je):je=e[13];const b=je;let ve;e[14]!==s.direction||e[15]!==s.per_page||e[16]!==s.sort||e[17]!==o||e[18]!==d||e[19]!==n?(ve=()=>{const a={per_page:s.per_page,sort:s.sort,direction:s.direction,page:1};d&&(a.search=d),n&&n!=="all"&&(a.type=n),o&&o!=="all"&&(a.manufacturer=o),f.get("/inventario/consumibles",a,{preserveState:!1,replace:!0})},e[14]=s.direction,e[15]=s.per_page,e[16]=s.sort,e[17]=o,e[18]=d,e[19]=n,e[20]=ve):ve=e[20];const Ue=ve;let be;e[21]!==s.direction||e[22]!==s.per_page||e[23]!==s.sort?(be=()=>{Je("all"),Oe("all"),qe(""),f.get("/inventario/consumibles",{per_page:s.per_page,sort:s.sort,direction:s.direction,page:1},{preserveState:!1,replace:!0})},e[21]=s.direction,e[22]=s.per_page,e[23]=s.sort,e[24]=be):be=e[24];const Be=be;let ye;e[25]!==s.direction||e[26]!==s.manufacturer||e[27]!==s.search||e[28]!==s.sort||e[29]!==s.type?(ye=()=>{const a=new URLSearchParams;a.append("sort",s.sort),a.append("direction",s.direction),s.search&&a.append("search",s.search),s.type&&s.type!=="all"&&a.append("type",s.type),s.manufacturer&&s.manufacturer!=="all"&&a.append("manufacturer",s.manufacturer),window.location.href=`/inventario/consumibles/export?${a}`},e[25]=s.direction,e[26]=s.manufacturer,e[27]=s.search,e[28]=s.sort,e[29]=s.type,e[30]=ye):ye=e[30];const Pe=ye;let Ne;e[31]!==s.direction||e[32]!==s.sort?(Ne=a=>s.sort!==a?t.jsx(xt,{className:"h-3 w-3 ml-1 text-gray-400"}):s.direction==="asc"?t.jsx(at,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):t.jsx(lt,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[31]=s.direction,e[32]=s.sort,e[33]=Ne):Ne=e[33];const c=Ne;let _e;e[34]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(Ze,{title:"HelpDesk HUV - Consumibles"}),e[34]=_e):_e=e[34];let Se;e[35]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(et,{breadcrumb:t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Inicio"}),t.jsx("span",{className:"text-gray-400",children:"/"}),t.jsx("span",{className:"text-gray-600",children:"Inventario"}),t.jsx("span",{className:"text-gray-400",children:"/"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Consumibles"})]})}),e[35]=Se):Se=e[35];let we;e[36]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Consumibles"}),e[36]=we):we=e[36];let Ce;e[37]===Symbol.for("react.memo_cache_sentinel")?(Ce=a=>qe(a.target.value),e[37]=Ce):Ce=e[37];let y;e[38]!==b?(y=a=>{a.key==="Enter"&&b()},e[38]=b,e[39]=y):y=e[39];let N;e[40]!==d||e[41]!==y?(N=t.jsx(mt,{type:"text",placeholder:"Buscar...",className:"w-64 pr-10 h-9",value:d,onChange:Ce,onKeyDown:y}),e[40]=d,e[41]=y,e[42]=N):N=e[42];let Te;e[43]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx(tt,{className:"h-4 w-4"}),e[43]=Te):Te=e[43];let _;e[44]!==b?(_=t.jsx(g,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:b,children:Te}),e[44]=b,e[45]=_):_=e[45];let S;e[46]!==N||e[47]!==_?(S=t.jsxs("div",{className:"relative",children:[N,_]}),e[46]=N,e[47]=_,e[48]=S):S=e[48];let w;e[49]!==v?(w=()=>We(!v),e[49]=v,e[50]=w):w=e[50];const $e=`h-9 ${j?"border-[#2c4370] text-[#2c4370]":""}`;let Fe;e[51]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(rt,{className:"h-4 w-4 mr-1"}),e[51]=Fe):Fe=e[51];let C;e[52]!==j?(C=j&&t.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"}),e[52]=j,e[53]=C):C=e[53];let T;e[54]!==w||e[55]!==$e||e[56]!==C?(T=t.jsxs(g,{variant:"outline",size:"sm",onClick:w,className:$e,children:[Fe," Filtros",C]}),e[54]=w,e[55]=$e,e[56]=C,e[57]=T):T=e[57];let F;e[58]!==Pe?(F=t.jsx(g,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9",onClick:Pe,children:"Exportar"}),e[58]=Pe,e[59]=F):F=e[59];let k;e[60]!==S||e[61]!==T||e[62]!==F?(k=t.jsx("div",{className:"px-6 py-4 border-b",children:t.jsxs("div",{className:"flex items-center justify-between",children:[we,t.jsxs("div",{className:"flex items-center gap-3",children:[S,T,F]})]})}),e[60]=S,e[61]=T,e[62]=F,e[63]=k):k=e[63];let z;e[64]!==Ue||e[65]!==Be||e[66]!==j||e[67]!==o||e[68]!==Le||e[69]!==v||e[70]!==n||e[71]!==De?(z=v&&t.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Tipo"}),t.jsxs(Ge,{value:n,onValueChange:Je,children:[t.jsx(Me,{className:"h-8 text-xs",children:t.jsx(Ke,{placeholder:"Todos"})}),t.jsxs(Xe,{children:[t.jsx(h,{value:"all",children:"Todos"}),De?.map(ut)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Fabricante"}),t.jsxs(Ge,{value:o,onValueChange:Oe,children:[t.jsx(Me,{className:"h-8 text-xs",children:t.jsx(Ke,{placeholder:"Todos"})}),t.jsxs(Xe,{children:[t.jsx(h,{value:"all",children:"Todos"}),Le?.map(pt)]})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[j&&t.jsxs(g,{variant:"ghost",size:"sm",onClick:Be,className:"h-8 text-xs text-gray-600",children:[t.jsx(dt,{className:"h-3 w-3 mr-1"})," Limpiar filtros"]}),t.jsx(g,{size:"sm",onClick:Ue,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar filtros"})]})]}),e[64]=Ue,e[65]=Be,e[66]=j,e[67]=o,e[68]=Le,e[69]=v,e[70]=n,e[71]=De,e[72]=z):z=e[72];let ke;e[73]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx("span",{className:"text-sm text-gray-600",children:"Mostrar"}),e[73]=ke):ke=e[73];let I;e[74]!==s.per_page?(I=s.per_page.toString(),e[74]=s.per_page,e[75]=I):I=e[75];let R;e[76]!==s.direction||e[77]!==s.search||e[78]!==s.sort?(R=a=>{f.get("/inventario/consumibles",{per_page:a,sort:s.sort,direction:s.direction,search:s.search},{preserveState:!1})},e[76]=s.direction,e[77]=s.search,e[78]=s.sort,e[79]=R):R=e[79];let ze;e[80]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsx(Me,{className:"w-20 h-8",children:t.jsx(Ke,{})}),e[80]=ze):ze=e[80];let Ie;e[81]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsxs(Xe,{children:[t.jsx(h,{value:"10",children:"10"}),t.jsx(h,{value:"15",children:"15"}),t.jsx(h,{value:"25",children:"25"}),t.jsx(h,{value:"50",children:"50"}),t.jsx(h,{value:"100",children:"100"})]}),e[81]=Ie):Ie=e[81];let H;e[82]!==I||e[83]!==R?(H=t.jsxs(Ge,{value:I,onValueChange:R,children:[ze,Ie]}),e[82]=I,e[83]=R,e[84]=H):H=e[84];let Re;e[85]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsx("span",{className:"text-sm text-gray-600",children:"elementos"}),e[85]=Re):Re=e[85];let V;e[86]!==H?(V=t.jsxs("div",{className:"flex items-center gap-3",children:[ke,H,Re]}),e[86]=H,e[87]=V):V=e[87];let E;e[88]!==r.data.length?(E=t.jsx("span",{className:"font-medium",children:r.data.length}),e[88]=r.data.length,e[89]=E):E=e[89];let A;e[90]!==r.total?(A=t.jsx("span",{className:"font-medium",children:r.total}),e[90]=r.total,e[91]=A):A=e[91];let D;e[92]!==E||e[93]!==A?(D=t.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",E," de"," ",A," consumibles"]}),e[92]=E,e[93]=A,e[94]=D):D=e[94];let L;e[95]!==V||e[96]!==D?(L=t.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b flex items-center justify-between",children:[V,D]}),e[95]=V,e[96]=D,e[97]=L):L=e[97];let U;e[98]!==i?(U=()=>i("name"),e[98]=i,e[99]=U):U=e[99];let B;e[100]!==c?(B=t.jsxs("div",{className:"flex items-center",children:["Nombre",c("name")]}),e[100]=c,e[101]=B):B=e[101];let P;e[102]!==U||e[103]!==B?(P=t.jsx(p,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:U,children:B}),e[102]=U,e[103]=B,e[104]=P):P=e[104];let $;e[105]!==i?($=()=>i("entity_name"),e[105]=i,e[106]=$):$=e[106];let G;e[107]!==c?(G=t.jsxs("div",{className:"flex items-center",children:["Entidad",c("entity_name")]}),e[107]=c,e[108]=G):G=e[108];let M;e[109]!==$||e[110]!==G?(M=t.jsx(p,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:$,children:G}),e[109]=$,e[110]=G,e[111]=M):M=e[111];let K;e[112]!==i?(K=()=>i("ref"),e[112]=i,e[113]=K):K=e[113];let X;e[114]!==c?(X=t.jsxs("div",{className:"flex items-center",children:["Referencia",c("ref")]}),e[114]=c,e[115]=X):X=e[115];let q;e[116]!==K||e[117]!==X?(q=t.jsx(p,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:K,children:X}),e[116]=K,e[117]=X,e[118]=q):q=e[118];let J;e[119]!==i?(J=()=>i("type_name"),e[119]=i,e[120]=J):J=e[120];let O;e[121]!==c?(O=t.jsxs("div",{className:"flex items-center",children:["Tipo",c("type_name")]}),e[121]=c,e[122]=O):O=e[122];let Q;e[123]!==J||e[124]!==O?(Q=t.jsx(p,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:J,children:O}),e[123]=J,e[124]=O,e[125]=Q):Q=e[125];let W;e[126]!==i?(W=()=>i("manufacturer_name"),e[126]=i,e[127]=W):W=e[127];let Y;e[128]!==c?(Y=t.jsxs("div",{className:"flex items-center",children:["Fabricante",c("manufacturer_name")]}),e[128]=c,e[129]=Y):Y=e[129];let Z;e[130]!==W||e[131]!==Y?(Z=t.jsx(p,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:W,children:Y}),e[130]=W,e[131]=Y,e[132]=Z):Z=e[132];let ee;e[133]!==i?(ee=()=>i("total"),e[133]=i,e[134]=ee):ee=e[134];let te;e[135]!==c?(te=t.jsxs("div",{className:"flex items-center",children:["Consumibles",c("total")]}),e[135]=c,e[136]=te):te=e[136];let se;e[137]!==ee||e[138]!==te?(se=t.jsx(p,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ee,children:te}),e[137]=ee,e[138]=te,e[139]=se):se=e[139];let He;e[140]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(p,{className:"font-semibold text-gray-900 text-xs",children:"Comentarios"}),e[140]=He):He=e[140];let ae;e[141]!==i?(ae=()=>i("tech_name"),e[141]=i,e[142]=ae):ae=e[142];let le;e[143]!==c?(le=t.jsxs("div",{className:"flex items-center",children:["Técnico a cargo",c("tech_name")]}),e[143]=c,e[144]=le):le=e[144];let re;e[145]!==ae||e[146]!==le?(re=t.jsx(p,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ae,children:le}),e[145]=ae,e[146]=le,e[147]=re):re=e[147];let ie;e[148]!==P||e[149]!==M||e[150]!==q||e[151]!==Q||e[152]!==Z||e[153]!==se||e[154]!==re?(ie=t.jsx(it,{children:t.jsxs(Qe,{className:"bg-gray-50",children:[P,M,q,Q,Z,se,He,re]})}),e[148]=P,e[149]=M,e[150]=q,e[151]=Q,e[152]=Z,e[153]=se,e[154]=re,e[155]=ie):ie=e[155];let ce;e[156]!==r.data?(ce=r.data.map(ft),e[156]=r.data,e[157]=ce):ce=e[157];let ne;e[158]!==ce?(ne=t.jsx(ct,{children:ce}),e[158]=ce,e[159]=ne):ne=e[159];let oe;e[160]!==ie||e[161]!==ne?(oe=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(nt,{children:[ie,ne]})}),e[160]=ie,e[161]=ne,e[162]=oe):oe=e[162];let me;e[163]!==r.current_page?(me=t.jsx("span",{className:"font-medium",children:r.current_page}),e[163]=r.current_page,e[164]=me):me=e[164];let de;e[165]!==r.last_page?(de=t.jsx("span",{className:"font-medium",children:r.last_page}),e[165]=r.last_page,e[166]=de):de=e[166];let xe;e[167]!==me||e[168]!==de?(xe=t.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",me," de"," ",de]}),e[167]=me,e[168]=de,e[169]=xe):xe=e[169];let he;if(e[170]!==r.links){let a;e[172]!==r.links.length?(a=(m,x)=>x===0?t.jsx(g,{variant:"outline",size:"sm",disabled:!m.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>m.url&&f.visit(m.url),children:t.jsx(ot,{className:"h-4 w-4"})},x):x===r.links.length-1?t.jsx(g,{variant:"outline",size:"sm",disabled:!m.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>m.url&&f.visit(m.url),children:t.jsx(ht,{className:"h-4 w-4"})},x):t.jsx(g,{variant:m.active?"default":"outline",size:"sm",disabled:!m.url,className:m.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white",onClick:()=>m.url&&f.visit(m.url),children:m.label},x),e[172]=r.links.length,e[173]=a):a=e[173],he=r.links.map(a),e[170]=r.links,e[171]=he}else he=e[171];let fe;e[174]!==he?(fe=t.jsx("div",{className:"flex items-center gap-2",children:he}),e[174]=he,e[175]=fe):fe=e[175];let pe;e[176]!==xe||e[177]!==fe?(pe=t.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[xe,fe]}),e[176]=xe,e[177]=fe,e[178]=pe):pe=e[178];let ue;e[179]!==k||e[180]!==z||e[181]!==L||e[182]!==oe||e[183]!==pe?(ue=t.jsx("main",{className:"flex-1 px-6 py-6",children:t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[k,z,L,oe,pe]})}),e[179]=k,e[180]=z,e[181]=L,e[182]=oe,e[183]=pe,e[184]=ue):ue=e[184];let Ve;e[185]===Symbol.for("react.memo_cache_sentinel")?(Ve=t.jsx(st,{}),e[185]=Ve):Ve=e[185];let Ee;return e[186]!==ue?(Ee=t.jsxs(t.Fragment,{children:[_e,t.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[Se,ue,Ve]})]}),e[186]=ue,e[187]=Ee):Ee=e[187],Ee}function ft(l){return t.jsxs(Qe,{className:"hover:bg-gray-50",children:[t.jsx(u,{className:"font-medium text-xs",children:t.jsx("a",{href:`/inventario/consumibles/${l.id}`,className:"text-[#2c4370] hover:underline",children:l.name||"-"})}),t.jsx(u,{className:"text-xs",children:l.entity_name||"-"}),t.jsx(u,{className:"text-xs",children:l.ref||"-"}),t.jsx(u,{className:"text-xs",children:l.type_name||"-"}),t.jsx(u,{className:"text-xs",children:l.manufacturer_name||"-"}),t.jsxs(u,{className:"text-xs",children:["Total: ",l.total||0,", Nuevo: ",l.nuevo||0,", Usado: ",l.usado||0]}),t.jsx(u,{className:"text-xs truncate max-w-xs",title:l.comment||"",children:l.comment||"-"}),t.jsx(u,{className:"text-xs",children:l.tech_name||"-"})]},l.id)}function pt(l){return t.jsx(h,{value:l.id.toString(),children:l.name},l.id)}function ut(l){return t.jsx(h,{value:l.id.toString(),children:l.name},l.id)}export{It as default};
