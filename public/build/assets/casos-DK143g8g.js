import{c as st,R as j,j as s,r as _,H as tt}from"./app-BZYeC8hH.js";import{G as lt,S as at,a as rt}from"./glpi-footer-kV7LmBDz.js";import{T as S,b as Os,c as b,F as it,a as ct,d as nt,e as ot}from"./table-DHGZhkVw.js";import{B as f}from"./button-DCQXuhUh.js";import{I as Is}from"./input-k0NuEC0U.js";import{a as Xs,D as Js,b as dt,c as xt,d as Qs,e as Ws}from"./dialog-BElf4lAo.js";import{S as $e,a as Me,b as Be,c as qe,d as i}from"./select-B6V_NiKv.js";import{X as mt}from"./x-CBXvWtGZ.js";import{C as ht,a as gt}from"./chevrons-up-down-95POROqt.js";import{A as ft,a as pt,C as ut}from"./chevron-left-BrZY3ZDS.js";import{S as jt}from"./square-pen-oNSgyzdb.js";import{T as bt}from"./trash-2-BItuEusl.js";/* empty css            */import"./index-R8KoWc6Z.js";import"./index-C2Es4S-G.js";import"./index-H75CNXkm.js";import"./index-C4UAplEZ.js";import"./index-DW06oI1N.js";import"./check-C6G7VxWO.js";function Mt(y){const e=st.c(250),{tickets:r,categories:Ss,technicians:_s,filters:t,auth:v}=y,[N,Ls]=j.useState(t.search||""),[Cs,Ue]=j.useState(!1),[D,Rs]=j.useState(null),[ws,Ge]=j.useState(!1),[o,Ys]=j.useState(null),[T,Zs]=j.useState(!1),[d,$s]=j.useState(t.status||"all"),[x,Ms]=j.useState(t.priority||"all"),[m,Bs]=j.useState(t.category||"all"),[h,qs]=j.useState(t.assigned||"all"),[p,Us]=j.useState(t.date_from||""),[u,Gs]=j.useState(t.date_to||""),C=d&&d!=="all"||x&&x!=="all"||m&&m!=="all"||h&&h!=="all"||p||u;let Ke;e[0]!==v.user.id||e[1]!==v.user.role?(Ke=l=>v.user.role==="Administrador"?!0:v.user.role==="Técnico"?l.users_id_recipient===v.user.id:!1,e[0]=v.user.id,e[1]=v.user.role,e[2]=Ke):Ke=e[2];const Le=Ke;let Xe;e[3]!==v.user.role?(Xe=()=>v.user.role==="Administrador"||v.user.role==="Técnico",e[3]=v.user.role,e[4]=Xe):Xe=e[4];const g=Xe;let Je;e[5]===Symbol.for("react.memo_cache_sentinel")?(Je=l=>{Rs(l),Ue(!0)},e[5]=Je):Je=e[5];const et=Je;let Qe;e[6]!==D?(Qe=()=>{D&&_.delete(`/soporte/casos/${D.id}`,{preserveScroll:!0,onSuccess:()=>{Ue(!1),Rs(null)}})},e[6]=D,e[7]=Qe):Qe=e[7];const Ds=Qe;let We;e[8]!==t?(We=l=>{const a=t.sort===l&&t.direction==="asc"?"desc":"asc";_.get("/soporte/casos",{...t,sort:l,direction:a},{preserveState:!1,preserveScroll:!0})},e[8]=t,e[9]=We):We=e[9];const c=We;let Ye;e[10]!==t?(Ye=l=>{l&&_.get(l,t,{preserveState:!0,preserveScroll:!0})},e[10]=t,e[11]=Ye):Ye=e[11];const w=Ye;let Ze;e[12]!==h||e[13]!==m||e[14]!==p||e[15]!==u||e[16]!==t.direction||e[17]!==t.per_page||e[18]!==t.sort||e[19]!==x||e[20]!==N||e[21]!==d?(Ze=()=>{const l={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};N&&(l.search=N),d&&d!=="all"&&(l.status=d),x&&x!=="all"&&(l.priority=x),m&&m!=="all"&&(l.category=m),h&&h!=="all"&&(l.assigned=h),p&&(l.date_from=p),u&&(l.date_to=u),_.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!1,replace:!0})},e[12]=h,e[13]=m,e[14]=p,e[15]=u,e[16]=t.direction,e[17]=t.per_page,e[18]=t.sort,e[19]=x,e[20]=N,e[21]=d,e[22]=Ze):Ze=e[22];const F=Ze;let es;e[23]!==t?(es=l=>{_.get("/soporte/casos",{...t,per_page:l,page:1},{preserveState:!1,preserveScroll:!0})},e[23]=t,e[24]=es):es=e[24];const Ts=es;let ss;e[25]!==h||e[26]!==m||e[27]!==p||e[28]!==u||e[29]!==t.direction||e[30]!==t.per_page||e[31]!==t.sort||e[32]!==x||e[33]!==N||e[34]!==d?(ss=()=>{const l={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};N&&(l.search=N),d&&d!=="all"&&(l.status=d),x&&x!=="all"&&(l.priority=x),m&&m!=="all"&&(l.category=m),h&&h!=="all"&&(l.assigned=h),p&&(l.date_from=p),u&&(l.date_to=u),console.log("Applying filters:",l),_.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!1,replace:!0})},e[25]=h,e[26]=m,e[27]=p,e[28]=u,e[29]=t.direction,e[30]=t.per_page,e[31]=t.sort,e[32]=x,e[33]=N,e[34]=d,e[35]=ss):ss=e[35];const Fs=ss;let ts;e[36]!==t.direction||e[37]!==t.per_page||e[38]!==t.sort?(ts=()=>{$s("all"),Ms("all"),Bs("all"),qs("all"),Us(""),Gs(""),Ls(""),_.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction,page:1},{preserveState:!1,preserveScroll:!1,replace:!0})},e[36]=t.direction,e[37]=t.per_page,e[38]=t.sort,e[39]=ts):ts=e[39];const ks=ts;let ls;e[40]!==t.direction||e[41]!==t.sort?(ls=l=>t.sort!==l?s.jsx(ht,{className:"h-3 w-3 ml-1 text-gray-400"}):t.direction==="asc"?s.jsx(ft,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):s.jsx(pt,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[40]=t.direction,e[41]=t.sort,e[42]=ls):ls=e[42];const n=ls,Ks=Nt;let as;e[43]===Symbol.for("react.memo_cache_sentinel")?(as=s.jsx(tt,{title:"HelpDesk HUV - Casos"}),e[43]=as):as=e[43];let rs;e[44]===Symbol.for("react.memo_cache_sentinel")?(rs=s.jsx(lt,{breadcrumb:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Inicio"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"text-gray-600",children:"Soporte"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Casos"})]})}),e[44]=rs):rs=e[44];let is;e[45]===Symbol.for("react.memo_cache_sentinel")?(is=s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Casos"}),e[45]=is):is=e[45];let cs;e[46]===Symbol.for("react.memo_cache_sentinel")?(cs=l=>Ls(l.target.value),e[46]=cs):cs=e[46];let k;e[47]!==F?(k=l=>{l.key==="Enter"&&F()},e[47]=F,e[48]=k):k=e[48];let E;e[49]!==N||e[50]!==k?(E=s.jsx(Is,{type:"text",placeholder:"Buscar...",className:"w-64 pr-10 h-9",value:N,onChange:cs,onKeyDown:k}),e[49]=N,e[50]=k,e[51]=E):E=e[51];let ns;e[52]===Symbol.for("react.memo_cache_sentinel")?(ns=s.jsx(at,{className:"h-4 w-4"}),e[52]=ns):ns=e[52];let A;e[53]!==F?(A=s.jsx(f,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:F,children:ns}),e[53]=F,e[54]=A):A=e[54];let z;e[55]!==E||e[56]!==A?(z=s.jsxs("div",{className:"relative",children:[E,A]}),e[55]=E,e[56]=A,e[57]=z):z=e[57];let V;e[58]!==T?(V=()=>Zs(!T),e[58]=T,e[59]=V):V=e[59];const Es=`h-9 ${C?"border-[#2c4370] text-[#2c4370]":""}`;let os;e[60]===Symbol.for("react.memo_cache_sentinel")?(os=s.jsx(it,{className:"h-4 w-4 mr-1"}),e[60]=os):os=e[60];let P;e[61]!==C?(P=C&&s.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"}),e[61]=C,e[62]=P):P=e[62];let H;e[63]!==V||e[64]!==Es||e[65]!==P?(H=s.jsxs(f,{variant:"outline",size:"sm",onClick:V,className:Es,children:[os,"Filtros",P]}),e[63]=V,e[64]=Es,e[65]=P,e[66]=H):H=e[66];let ds;e[67]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(f,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9",children:"Exportar"}),e[67]=ds):ds=e[67];let O;e[68]!==z||e[69]!==H?(O=s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[is,s.jsxs("div",{className:"flex items-center gap-3",children:[z,H,ds]})]})}),e[68]=z,e[69]=H,e[70]=O):O=e[70];let I;e[71]!==Fs||e[72]!==h||e[73]!==Ss||e[74]!==m||e[75]!==ks||e[76]!==p||e[77]!==u||e[78]!==C||e[79]!==x||e[80]!==T||e[81]!==d||e[82]!==_s?(I=T&&s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Estado"}),s.jsxs($e,{value:d,onValueChange:$s,children:[s.jsx(Me,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todos"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),s.jsx(i,{value:"1",children:"Nuevo"}),s.jsx(i,{value:"2",children:"En curso (asignado)"}),s.jsx(i,{value:"3",children:"En curso (planificado)"}),s.jsx(i,{value:"4",children:"En espera"}),s.jsx(i,{value:"5",children:"Resuelto"}),s.jsx(i,{value:"6",children:"Cerrado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Prioridad"}),s.jsxs($e,{value:x,onValueChange:Ms,children:[s.jsx(Me,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todas"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),s.jsx(i,{value:"1",children:"Muy baja"}),s.jsx(i,{value:"2",children:"Baja"}),s.jsx(i,{value:"3",children:"Media"}),s.jsx(i,{value:"4",children:"Alta"}),s.jsx(i,{value:"5",children:"Muy alta"}),s.jsx(i,{value:"6",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Asignado a"}),s.jsxs($e,{value:h,onValueChange:qs,children:[s.jsx(Me,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todos"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),_s.map(vt)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Categoría"}),s.jsxs($e,{value:m,onValueChange:Bs,children:[s.jsx(Me,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todas"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),Ss.map(yt)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Desde"}),s.jsx(Is,{type:"date",value:p,onChange:l=>Us(l.target.value),className:"h-8 text-xs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Hasta"}),s.jsx(Is,{type:"date",value:u,onChange:l=>Gs(l.target.value),className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[C&&s.jsxs(f,{variant:"ghost",size:"sm",onClick:ks,className:"h-8 text-xs text-gray-600",children:[s.jsx(mt,{className:"h-3 w-3 mr-1"}),"Limpiar filtros"]}),s.jsx(f,{size:"sm",onClick:Fs,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar filtros"})]})]}),e[71]=Fs,e[72]=h,e[73]=Ss,e[74]=m,e[75]=ks,e[76]=p,e[77]=u,e[78]=C,e[79]=x,e[80]=T,e[81]=d,e[82]=_s,e[83]=I):I=e[83];let xs;e[84]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsx("span",{className:"text-sm text-gray-600",children:"Mostrar"}),e[84]=xs):xs=e[84];let L;e[85]!==t.per_page?(L=t.per_page.toString(),e[85]=t.per_page,e[86]=L):L=e[86];let ms;e[87]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsx(Me,{className:"w-20 h-8",children:s.jsx(Be,{placeholder:"15"})}),e[87]=ms):ms=e[87];let hs;e[88]===Symbol.for("react.memo_cache_sentinel")?(hs=s.jsxs(qe,{children:[s.jsx(i,{value:"15",children:"15"}),s.jsx(i,{value:"20",children:"20"}),s.jsx(i,{value:"50",children:"50"}),s.jsx(i,{value:"100",children:"100"})]}),e[88]=hs):hs=e[88];let R;e[89]!==Ts||e[90]!==L?(R=s.jsxs($e,{value:L,onValueChange:Ts,children:[ms,hs]}),e[89]=Ts,e[90]=L,e[91]=R):R=e[91];let gs;e[92]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx("span",{className:"text-sm text-gray-600",children:"elementos"}),e[92]=gs):gs=e[92];let $;e[93]!==R?($=s.jsxs("div",{className:"flex items-center gap-3",children:[xs,R,gs]}),e[93]=R,e[94]=$):$=e[94];let M;e[95]!==r.data.length?(M=s.jsx("span",{className:"font-medium",children:r.data.length}),e[95]=r.data.length,e[96]=M):M=e[96];let B;e[97]!==r.total?(B=s.jsx("span",{className:"font-medium",children:r.total}),e[97]=r.total,e[98]=B):B=e[98];let q;e[99]!==M||e[100]!==B?(q=s.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",M," de"," ",B," casos"]}),e[99]=M,e[100]=B,e[101]=q):q=e[101];let U;e[102]!==$||e[103]!==q?(U=s.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b flex items-center justify-between",children:[$,q]}),e[102]=$,e[103]=q,e[104]=U):U=e[104];let G;e[105]!==c?(G=()=>c("id"),e[105]=c,e[106]=G):G=e[106];let K;e[107]!==n?(K=s.jsxs("div",{className:"flex items-center",children:["ID",n("id")]}),e[107]=n,e[108]=K):K=e[108];let X;e[109]!==G||e[110]!==K?(X=s.jsx(S,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100 w-16",onClick:G,children:K}),e[109]=G,e[110]=K,e[111]=X):X=e[111];let J;e[112]!==c?(J=()=>c("name"),e[112]=c,e[113]=J):J=e[113];let Q;e[114]!==n?(Q=s.jsxs("div",{className:"flex items-center",children:["Título",n("name")]}),e[114]=n,e[115]=Q):Q=e[115];let W;e[116]!==J||e[117]!==Q?(W=s.jsx(S,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:J,children:Q}),e[116]=J,e[117]=Q,e[118]=W):W=e[118];let Y;e[119]!==c?(Y=()=>c("status"),e[119]=c,e[120]=Y):Y=e[120];let Z;e[121]!==n?(Z=s.jsxs("div",{className:"flex items-center",children:["Estado",n("status")]}),e[121]=n,e[122]=Z):Z=e[122];let ee;e[123]!==Y||e[124]!==Z?(ee=s.jsx(S,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:Y,children:Z}),e[123]=Y,e[124]=Z,e[125]=ee):ee=e[125];let se;e[126]!==c?(se=()=>c("priority"),e[126]=c,e[127]=se):se=e[127];let te;e[128]!==n?(te=s.jsxs("div",{className:"flex items-center",children:["Prioridad",n("priority")]}),e[128]=n,e[129]=te):te=e[129];let le;e[130]!==se||e[131]!==te?(le=s.jsx(S,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:se,children:te}),e[130]=se,e[131]=te,e[132]=le):le=e[132];let ae;e[133]!==c?(ae=()=>c("entity_name"),e[133]=c,e[134]=ae):ae=e[134];let re;e[135]!==n?(re=s.jsxs("div",{className:"flex items-center",children:["Entidad",n("entity_name")]}),e[135]=n,e[136]=re):re=e[136];let ie;e[137]!==ae||e[138]!==re?(ie=s.jsx(S,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ae,children:re}),e[137]=ae,e[138]=re,e[139]=ie):ie=e[139];let ce;e[140]!==c?(ce=()=>c("date"),e[140]=c,e[141]=ce):ce=e[141];let ne;e[142]!==n?(ne=s.jsxs("div",{className:"flex items-center",children:["Fecha de apertura",n("date")]}),e[142]=n,e[143]=ne):ne=e[143];let oe;e[144]!==ce||e[145]!==ne?(oe=s.jsx(S,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ce,children:ne}),e[144]=ce,e[145]=ne,e[146]=oe):oe=e[146];let de;e[147]!==c?(de=()=>c("date_mod"),e[147]=c,e[148]=de):de=e[148];let xe;e[149]!==n?(xe=s.jsxs("div",{className:"flex items-center",children:["Última actualización",n("date_mod")]}),e[149]=n,e[150]=xe):xe=e[150];let me;e[151]!==de||e[152]!==xe?(me=s.jsx(S,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:de,children:xe}),e[151]=de,e[152]=xe,e[153]=me):me=e[153];let fs,ps,us;e[154]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsx(S,{className:"font-semibold text-gray-900 text-xs",children:"Solicitante"}),ps=s.jsx(S,{className:"font-semibold text-gray-900 text-xs",children:"Asignado a"}),us=s.jsx(S,{className:"font-semibold text-gray-900 text-xs",children:"Categoría"}),e[154]=fs,e[155]=ps,e[156]=us):(fs=e[154],ps=e[155],us=e[156]);let he;e[157]!==g?(he=g()&&s.jsx(S,{className:"font-semibold text-gray-900 text-xs text-center w-24",children:"Acciones"}),e[157]=g,e[158]=he):he=e[158];let ge;e[159]!==X||e[160]!==W||e[161]!==ee||e[162]!==le||e[163]!==ie||e[164]!==oe||e[165]!==me||e[166]!==he?(ge=s.jsx(ct,{children:s.jsxs(Os,{className:"bg-gray-50",children:[X,W,ee,le,ie,oe,me,fs,ps,us,he]})}),e[159]=X,e[160]=W,e[161]=ee,e[162]=le,e[163]=ie,e[164]=oe,e[165]=me,e[166]=he,e[167]=ge):ge=e[167];let fe;if(e[168]!==Le||e[169]!==g||e[170]!==r.data){let l;e[172]!==Le||e[173]!==g?(l=a=>s.jsxs(Os,{className:"hover:bg-gray-50",children:[s.jsx(b,{className:"text-xs font-medium",children:a.id}),s.jsx(b,{className:"font-medium text-xs",children:s.jsx("button",{onClick:()=>{Ys(a),Ge(!0)},className:"text-[#2c4370] hover:underline block truncate max-w-md text-left",title:a.name,children:a.name||"(Sin título)"})}),s.jsx(b,{className:"text-xs",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${Ks(a.status)}`,children:a.status_name})}),s.jsx(b,{className:"text-xs",children:a.priority_name}),s.jsx(b,{className:"text-xs",children:a.entity_name||"-"}),s.jsx(b,{className:"text-xs text-gray-600",children:a.date?new Date(a.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(b,{className:"text-xs text-gray-600",children:a.date_mod?new Date(a.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(b,{className:"text-xs",children:a.requester_name||"-"}),s.jsx(b,{className:"text-xs",children:a.assigned_name||"-"}),s.jsx(b,{className:"text-xs",children:a.category_name||"-"}),g()&&s.jsx(b,{className:"text-xs",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(f,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>_.visit(`/soporte/casos/${a.id}/editar`),title:"Editar",children:s.jsx(jt,{className:"h-3.5 w-3.5"})}),Le(a)&&s.jsx(f,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",onClick:()=>et(a),title:"Eliminar",children:s.jsx(bt,{className:"h-3.5 w-3.5"})})]})})]},a.id),e[172]=Le,e[173]=g,e[174]=l):l=e[174],fe=r.data.map(l),e[168]=Le,e[169]=g,e[170]=r.data,e[171]=fe}else fe=e[171];let pe;e[175]!==g||e[176]!==r.data.length?(pe=r.data.length===0&&s.jsx(Os,{children:s.jsx(b,{colSpan:g()?11:10,className:"text-center py-8 text-gray-500",children:"No se encontraron casos"})}),e[175]=g,e[176]=r.data.length,e[177]=pe):pe=e[177];let ue;e[178]!==fe||e[179]!==pe?(ue=s.jsxs(nt,{children:[fe,pe]}),e[178]=fe,e[179]=pe,e[180]=ue):ue=e[180];let je;e[181]!==ge||e[182]!==ue?(je=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ot,{children:[ge,ue]})}),e[181]=ge,e[182]=ue,e[183]=je):je=e[183];let be;e[184]!==r.current_page?(be=s.jsx("span",{className:"font-medium",children:r.current_page}),e[184]=r.current_page,e[185]=be):be=e[185];let ye;e[186]!==r.last_page?(ye=s.jsx("span",{className:"font-medium",children:r.last_page}),e[186]=r.last_page,e[187]=ye):ye=e[187];let ve;e[188]!==be||e[189]!==ye?(ve=s.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",be," de"," ",ye]}),e[188]=be,e[189]=ye,e[190]=ve):ve=e[190];let Ne;if(e[191]!==w||e[192]!==r.links){let l;e[194]!==w||e[195]!==r.links.length?(l=(a,Re)=>Re===0?s.jsx(f,{variant:"outline",size:"sm",disabled:!a.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>a.url&&w(a.url),children:s.jsx(ut,{className:"h-4 w-4"})},Re):Re===r.links.length-1?s.jsx(f,{variant:"outline",size:"sm",disabled:!a.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>a.url&&w(a.url),children:s.jsx(gt,{className:"h-4 w-4"})},Re):s.jsx(f,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,className:a.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white",onClick:()=>a.url&&w(a.url),children:s.jsx("span",{dangerouslySetInnerHTML:{__html:a.label}})},Re),e[194]=w,e[195]=r.links.length,e[196]=l):l=e[196],Ne=r.links.map(l),e[191]=w,e[192]=r.links,e[193]=Ne}else Ne=e[193];let Se;e[197]!==Ne?(Se=s.jsx("div",{className:"flex items-center gap-2",children:Ne}),e[197]=Ne,e[198]=Se):Se=e[198];let _e;e[199]!==ve||e[200]!==Se?(_e=s.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[ve,Se]}),e[199]=ve,e[200]=Se,e[201]=_e):_e=e[201];let Ce;e[202]!==O||e[203]!==I||e[204]!==U||e[205]!==je||e[206]!==_e?(Ce=s.jsx("main",{className:"flex-1 px-6 py-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[O,I,U,je,_e]})}),e[202]=O,e[203]=I,e[204]=U,e[205]=je,e[206]=_e,e[207]=Ce):Ce=e[207];let js;e[208]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx(rt,{}),e[208]=js):js=e[208];let we;e[209]!==Ce?(we=s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[rs,Ce,js]}),e[209]=Ce,e[210]=we):we=e[210];let bs;e[211]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsx(Xs,{children:"Eliminar Caso"}),e[211]=bs):bs=e[211];const As=D?.id;let De;e[212]!==As?(De=s.jsxs("strong",{children:["#",As]}),e[212]=As,e[213]=De):De=e[213];let ys;e[214]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx("br",{}),e[214]=ys):ys=e[214];const zs=D?.name;let Te;e[215]!==zs?(Te=s.jsx("span",{className:"text-gray-600",children:zs}),e[215]=zs,e[216]=Te):Te=e[216];let Fe;e[217]!==De||e[218]!==Te?(Fe=s.jsxs(Js,{children:[bs,s.jsxs(dt,{children:["¿Está seguro que desea eliminar el caso ",De,"?",ys,Te]})]}),e[217]=De,e[218]=Te,e[219]=Fe):Fe=e[219];let vs;e[220]===Symbol.for("react.memo_cache_sentinel")?(vs=s.jsx(f,{variant:"outline",onClick:()=>Ue(!1),children:"Cancelar"}),e[220]=vs):vs=e[220];let ke;e[221]!==Ds?(ke=s.jsxs(xt,{className:"gap-2",children:[vs,s.jsx(f,{variant:"destructive",onClick:Ds,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]}),e[221]=Ds,e[222]=ke):ke=e[222];let Ee;e[223]!==Fe||e[224]!==ke?(Ee=s.jsxs(Qs,{className:"sm:max-w-[425px]",children:[Fe,ke]}),e[223]=Fe,e[224]=ke,e[225]=Ee):Ee=e[225];let Ae;e[226]!==Cs||e[227]!==Ee?(Ae=s.jsx(Ws,{open:Cs,onOpenChange:Ue,children:Ee}),e[226]=Cs,e[227]=Ee,e[228]=Ae):Ae=e[228];const Vs=o?.id;let ze;e[229]!==Vs?(ze=s.jsxs("span",{className:"text-[#2c4370]",children:["Caso #",Vs]}),e[229]=Vs,e[230]=ze):ze=e[230];const Ps=`px-2 py-0.5 rounded-full text-[10px] font-semibold ${o?Ks(o.status):""}`,Hs=o?.status_name;let Ve;e[231]!==Ps||e[232]!==Hs?(Ve=s.jsx("span",{className:Ps,children:Hs}),e[231]=Ps,e[232]=Hs,e[233]=Ve):Ve=e[233];let Pe;e[234]!==ze||e[235]!==Ve?(Pe=s.jsx(Js,{children:s.jsxs(Xs,{className:"flex items-center gap-2",children:[ze,Ve]})}),e[234]=ze,e[235]=Ve,e[236]=Pe):Pe=e[236];let He;e[237]!==g||e[238]!==o?(He=o&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:o.name})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Prioridad"}),s.jsx("span",{className:"font-medium",children:o.priority_name})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Entidad"}),s.jsx("span",{className:"font-medium",children:o.entity_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Fecha de Apertura"}),s.jsx("span",{className:"font-medium",children:o.date?new Date(o.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Última Actualización"}),s.jsx("span",{className:"font-medium",children:o.date_mod?new Date(o.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Solicitante"}),s.jsx("span",{className:"font-medium",children:o.requester_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Asignado a"}),s.jsx("span",{className:"font-medium",children:o.assigned_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded col-span-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Categoría"}),s.jsx("span",{className:"font-medium",children:o.category_name||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsx(f,{variant:"outline",size:"sm",onClick:()=>Ge(!1),className:"h-8 text-xs",children:"Cerrar"}),g()&&s.jsx(f,{size:"sm",onClick:()=>{Ge(!1),_.visit(`/soporte/casos/${o.id}/editar`)},className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Editar Caso"})]})]}),e[237]=g,e[238]=o,e[239]=He):He=e[239];let Oe;e[240]!==Pe||e[241]!==He?(Oe=s.jsxs(Qs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[Pe,He]}),e[240]=Pe,e[241]=He,e[242]=Oe):Oe=e[242];let Ie;e[243]!==Oe||e[244]!==ws?(Ie=s.jsx(Ws,{open:ws,onOpenChange:Ge,children:Oe}),e[243]=Oe,e[244]=ws,e[245]=Ie):Ie=e[245];let Ns;return e[246]!==we||e[247]!==Ae||e[248]!==Ie?(Ns=s.jsxs(s.Fragment,{children:[as,we,Ae,Ie]}),e[246]=we,e[247]=Ae,e[248]=Ie,e[249]=Ns):Ns=e[249],Ns}function yt(y){return s.jsx(i,{value:y.id.toString(),children:y.completename},y.id)}function vt(y){return s.jsx(i,{value:y.id.toString(),children:y.fullname},y.id)}function Nt(y){switch(y){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-yellow-100 text-yellow-800";case 4:return"bg-orange-100 text-orange-800";case 5:return"bg-green-100 text-green-800";case 6:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}export{Mt as default};
