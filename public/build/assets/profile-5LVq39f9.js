import{c as be,u as _e,a as E,j as t,r as we,H as Se}from"./app-BZYeC8hH.js";import{G as Pe,a as Ce}from"./glpi-footer-kV7LmBDz.js";import{c as je,B as Fe}from"./button-DCQXuhUh.js";import{I as de}from"./input-k0NuEC0U.js";import{L as he}from"./label-DBihxqQe.js";import{U as ue}from"./user-DjMaefCU.js";import{P as ke}from"./phone-a8Eeg8Ia.js";/* empty css            */import"./index-R8KoWc6Z.js";import"./index-C2Es4S-G.js";import"./index-H75CNXkm.js";import"./index-C4UAplEZ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Le=je("Camera",Ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],De=je("Mail",Ae);function Je(ge){const e=be.c(99),{flash:R}=ge,{auth:ye}=_e().props,a=ye.user,le=a.name||"",re=a.email||"",ie=a.phone||"";let M;e[0]!==le||e[1]!==re||e[2]!==ie?(M={name:le,email:re,phone:ie},e[0]=le,e[1]=re,e[2]=ie,e[3]=M):M=e[3];const[s,ne]=E.useState(M),[G,Ne]=E.useState(a.avatar?`/storage/${a.avatar}`:null),[U,xe]=E.useState(null),[q,ce]=E.useState(!1);let T;e[4]===Symbol.for("react.memo_cache_sentinel")?(T={},e[4]=T):T=e[4];const[l,fe]=E.useState(T),pe=E.useRef(null);let $;e[5]===Symbol.for("react.memo_cache_sentinel")?($=i=>{const r=i.target.files?.[0];if(r){xe(r);const H=new FileReader;H.onloadend=()=>{Ne(H.result)},H.readAsDataURL(r)}},e[5]=$):$=e[5];const ve=$;let z;e[6]!==U||e[7]!==s.email||e[8]!==s.name||e[9]!==s.phone?(z=i=>{i.preventDefault(),ce(!0),fe({});const r=new FormData;r.append("name",s.name),r.append("email",s.email),r.append("phone",s.phone),r.append("_method","PATCH"),U&&r.append("avatar",U),we.post("/settings/profile",r,{forceFormData:!0,onSuccess:()=>{ce(!1),xe(null)},onError:H=>{fe(H),ce(!1)}})},e[6]=U,e[7]=s.email,e[8]=s.name,e[9]=s.phone,e[10]=z):z=e[10];const me=z;let B;e[11]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(Se,{title:"Mi Perfil - HelpDesk HUV"}),e[11]=B):B=e[11];let V;e[12]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(Pe,{breadcrumb:t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Inicio"}),t.jsx("span",{className:"text-gray-400",children:"/"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Mi Perfil"})]})}),e[12]=V):V=e[12];let J;e[13]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsxs("div",{className:"px-6 py-4 border-b",children:[t.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Mi Perfil"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Actualiza tu información personal"})]}),e[13]=J):J=e[13];let n;e[14]!==R?(n=R?.success&&t.jsx("div",{className:"mx-6 mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-green-700",children:R.success})}),e[14]=R,e[15]=n):n=e[15];let c;e[16]!==G?(c=t.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden border-4 border-white shadow-lg",children:G?t.jsx("img",{src:G,alt:"Avatar",className:"w-full h-full object-cover"}):t.jsx(ue,{className:"w-12 h-12 text-gray-400"})}),e[16]=G,e[17]=c):c=e[17];let K;e[18]===Symbol.for("react.memo_cache_sentinel")?(K=()=>pe.current?.click(),e[18]=K):K=e[18];let O,Q;e[19]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("button",{type:"button",onClick:K,className:"absolute bottom-0 right-0 w-8 h-8 bg-[#2c4370] text-white rounded-full flex items-center justify-center shadow-md hover:bg-[#3d5583] transition-colors",children:t.jsx(Le,{className:"w-4 h-4"})}),Q=t.jsx("input",{ref:pe,type:"file",accept:"image/*",onChange:ve,className:"hidden"}),e[19]=O,e[20]=Q):(O=e[19],Q=e[20]);let m;e[21]!==c?(m=t.jsxs("div",{className:"relative",children:[c,O,Q]}),e[21]=c,e[22]=m):m=e[22];let o;e[23]!==a.name?(o=t.jsx("p",{className:"font-medium text-gray-900",children:a.name}),e[23]=a.name,e[24]=o):o=e[24];let d;e[25]!==a.role?(d=t.jsx("p",{className:"text-sm text-gray-500",children:a.role}),e[25]=a.role,e[26]=d):d=e[26];let h;e[27]!==a.username?(h=t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["@",a.username]}),e[27]=a.username,e[28]=h):h=e[28];let x;e[29]!==o||e[30]!==d||e[31]!==h?(x=t.jsxs("div",{children:[o,d,h]}),e[29]=o,e[30]=d,e[31]=h,e[32]=x):x=e[32];let f;e[33]!==m||e[34]!==x?(f=t.jsxs("div",{className:"flex items-center gap-6",children:[m,x]}),e[33]=m,e[34]=x,e[35]=f):f=e[35];let p;e[36]!==l.avatar?(p=l.avatar&&t.jsx("p",{className:"text-sm text-red-600",children:l.avatar}),e[36]=l.avatar,e[37]=p):p=e[37];let W;e[38]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsxs(he,{htmlFor:"name",className:"flex items-center gap-2",children:[t.jsx(ue,{className:"w-4 h-4 text-gray-400"}),"Nombre Completo"]}),e[38]=W):W=e[38];let u;e[39]!==s?(u=i=>ne({...s,name:i.target.value}),e[39]=s,e[40]=u):u=e[40];let j;e[41]!==s.name||e[42]!==u?(j=t.jsx(de,{id:"name",value:s.name,onChange:u,placeholder:"Tu nombre completo",required:!0}),e[41]=s.name,e[42]=u,e[43]=j):j=e[43];let g;e[44]!==l.name?(g=l.name&&t.jsx("p",{className:"text-sm text-red-600",children:l.name}),e[44]=l.name,e[45]=g):g=e[45];let y;e[46]!==j||e[47]!==g?(y=t.jsxs("div",{className:"space-y-2",children:[W,j,g]}),e[46]=j,e[47]=g,e[48]=y):y=e[48];let X;e[49]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs(he,{htmlFor:"email",className:"flex items-center gap-2",children:[t.jsx(De,{className:"w-4 h-4 text-gray-400"}),"Correo Electrónico"]}),e[49]=X):X=e[49];let N;e[50]!==s?(N=i=>ne({...s,email:i.target.value}),e[50]=s,e[51]=N):N=e[51];let v;e[52]!==s.email||e[53]!==N?(v=t.jsx(de,{id:"email",type:"email",value:s.email,onChange:N,placeholder:"tu@email.com",required:!0}),e[52]=s.email,e[53]=N,e[54]=v):v=e[54];let b;e[55]!==l.email?(b=l.email&&t.jsx("p",{className:"text-sm text-red-600",children:l.email}),e[55]=l.email,e[56]=b):b=e[56];let _;e[57]!==v||e[58]!==b?(_=t.jsxs("div",{className:"space-y-2",children:[X,v,b]}),e[57]=v,e[58]=b,e[59]=_):_=e[59];let Y;e[60]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(he,{htmlFor:"phone",className:"flex items-center gap-2",children:[t.jsx(ke,{className:"w-4 h-4 text-gray-400"}),"Teléfono"]}),e[60]=Y):Y=e[60];let w;e[61]!==s?(w=i=>ne({...s,phone:i.target.value}),e[61]=s,e[62]=w):w=e[62];let S;e[63]!==s.phone||e[64]!==w?(S=t.jsx(de,{id:"phone",type:"tel",value:s.phone,onChange:w,placeholder:"Ej: 3001234567"}),e[63]=s.phone,e[64]=w,e[65]=S):S=e[65];let P;e[66]!==l.phone?(P=l.phone&&t.jsx("p",{className:"text-sm text-red-600",children:l.phone}),e[66]=l.phone,e[67]=P):P=e[67];let C;e[68]!==S||e[69]!==P?(C=t.jsxs("div",{className:"space-y-2",children:[Y,S,P]}),e[68]=S,e[69]=P,e[70]=C):C=e[70];let Z;e[71]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Información de la cuenta"}),e[71]=Z):Z=e[71];let ee;e[72]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("span",{className:"text-gray-500",children:"Usuario:"}),e[72]=ee):ee=e[72];let F;e[73]!==a.username?(F=t.jsxs("div",{children:[ee,t.jsx("span",{className:"ml-2 font-medium",children:a.username})]}),e[73]=a.username,e[74]=F):F=e[74];let te;e[75]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("span",{className:"text-gray-500",children:"Rol:"}),e[75]=te):te=e[75];let k;e[76]!==a.role?(k=t.jsxs("div",{children:[te,t.jsx("span",{className:"ml-2 font-medium",children:a.role})]}),e[76]=a.role,e[77]=k):k=e[77];let I;e[78]!==F||e[79]!==k?(I=t.jsxs("div",{className:"pt-4 border-t space-y-3",children:[Z,t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[F,k]})]}),e[78]=F,e[79]=k,e[80]=I):I=e[80];const oe=q?"Guardando...":"Guardar Cambios";let L;e[81]!==q||e[82]!==oe?(L=t.jsx("div",{className:"pt-4 flex justify-end",children:t.jsx(Fe,{type:"submit",disabled:q,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white px-8",children:oe})}),e[81]=q,e[82]=oe,e[83]=L):L=e[83];let A;e[84]!==me||e[85]!==f||e[86]!==p||e[87]!==y||e[88]!==_||e[89]!==C||e[90]!==I||e[91]!==L?(A=t.jsxs("form",{onSubmit:me,className:"p-6 space-y-6",children:[f,p,y,_,C,I,L]}),e[84]=me,e[85]=f,e[86]=p,e[87]=y,e[88]=_,e[89]=C,e[90]=I,e[91]=L,e[92]=A):A=e[92];let D;e[93]!==n||e[94]!==A?(D=t.jsx("main",{className:"flex-1 px-6 py-6",children:t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[J,n,A]})})}),e[93]=n,e[94]=A,e[95]=D):D=e[95];let se;e[96]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(Ce,{}),e[96]=se):se=e[96];let ae;return e[97]!==D?(ae=t.jsxs(t.Fragment,{children:[B,t.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[V,D,se]})]}),e[97]=D,e[98]=ae):ae=e[98],ae}export{Je as default};
