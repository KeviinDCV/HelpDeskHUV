import{c as tt,R as f,j as s,r as _,H as lt}from"./app-DhPLCHDL.js";import{G as at,S as rt,a as it}from"./glpi-footer-vhNgwf7R.js";import{T as b,c as Is,d as j,A as ct,a as nt,b as ot,e as dt,f as xt,C as mt}from"./table-DO6Tf3ZD.js";import{c as Ys,B as x}from"./button-3aMpnSah.js";import{I as Ls}from"./input-DsLx0vJq.js";import{a as Xs,D as Js,b as ht,c as gt,d as Qs,e as Ws}from"./dialog-BYjm9xao.js";import{S as $e,a as Re,b as Be,c as qe,d as i}from"./select-BdACTX1n.js";import{X as ut}from"./x-BPjd0usj.js";import{C as ft,a as jt}from"./chevrons-up-down-DFeX20xA.js";import{S as pt}from"./square-pen-DWMecDUR.js";/* empty css            */import"./index-CYvuj88M.js";import"./index-CgJdsbjo.js";import"./index-Dchzk-6X.js";import"./index-C1R3O0ol.js";import"./index-BD8Pd8yE.js";import"./check-Foa3km-e.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],bt=Ys("Filter",yt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Nt=Ys("Trash2",vt);function Bt(p){const e=tt.c(246),{tickets:r,categories:Ss,technicians:_s,filters:t,auth:y}=p,[S,Os]=f.useState(t.search||""),[Cs,Ue]=f.useState(!1),[D,Ms]=f.useState(null),[ws,Ge]=f.useState(!1),[o,Zs]=f.useState(null),[T,et]=f.useState(!1),[m,$s]=f.useState(t.status||""),[h,Rs]=f.useState(t.priority||""),[g,Bs]=f.useState(t.category||""),[u,qs]=f.useState(t.assigned||""),[v,Us]=f.useState(t.date_from||""),[N,Gs]=f.useState(t.date_to||""),C=m&&m!=="all"||h&&h!=="all"||g&&g!=="all"||u&&u!=="all"||v||N;let Ke;e[0]!==y.user.id||e[1]!==y.user.role?(Ke=a=>y.user.role==="Administrador"?!0:y.user.role==="Técnico"?a.users_id_recipient===y.user.id:!1,e[0]=y.user.id,e[1]=y.user.role,e[2]=Ke):Ke=e[2];const Oe=Ke;let Xe;e[3]!==y.user.role?(Xe=()=>y.user.role==="Administrador"||y.user.role==="Técnico",e[3]=y.user.role,e[4]=Xe):Xe=e[4];const d=Xe;let Je;e[5]===Symbol.for("react.memo_cache_sentinel")?(Je=a=>{Ms(a),Ue(!0)},e[5]=Je):Je=e[5];const st=Je;let Qe;e[6]!==D?(Qe=()=>{D&&_.delete(`/soporte/casos/${D.id}`,{preserveScroll:!0,onSuccess:()=>{Ue(!1),Ms(null)}})},e[6]=D,e[7]=Qe):Qe=e[7];const Ds=Qe;let We;e[8]!==t?(We=a=>{const l=t.sort===a&&t.direction==="asc"?"desc":"asc";_.get("/soporte/casos",{...t,sort:a,direction:l},{preserveState:!1,preserveScroll:!0})},e[8]=t,e[9]=We):We=e[9];const c=We;let Ye;e[10]!==t?(Ye=a=>{a&&_.get(a,t,{preserveState:!0,preserveScroll:!0})},e[10]=t,e[11]=Ye):Ye=e[11];const w=Ye;let Ze;e[12]!==u||e[13]!==g||e[14]!==v||e[15]!==N||e[16]!==t||e[17]!==h||e[18]!==S||e[19]!==m?(Ze=()=>{_.get("/soporte/casos",{...t,search:S,status:m==="all"?"":m,priority:h==="all"?"":h,category:g==="all"?"":g,assigned:u==="all"?"":u,date_from:v,date_to:N,page:1},{preserveState:!1,preserveScroll:!0})},e[12]=u,e[13]=g,e[14]=v,e[15]=N,e[16]=t,e[17]=h,e[18]=S,e[19]=m,e[20]=Ze):Ze=e[20];const k=Ze;let es;e[21]!==t?(es=a=>{_.get("/soporte/casos",{...t,per_page:a,page:1},{preserveState:!1,preserveScroll:!0})},e[21]=t,e[22]=es):es=e[22];const Ts=es;let ss;e[23]!==u||e[24]!==g||e[25]!==v||e[26]!==N||e[27]!==t||e[28]!==h||e[29]!==S||e[30]!==m?(ss=()=>{_.get("/soporte/casos",{...t,search:S,status:m==="all"?"":m,priority:h==="all"?"":h,category:g==="all"?"":g,assigned:u==="all"?"":u,date_from:v,date_to:N,page:1},{preserveState:!1,preserveScroll:!0})},e[23]=u,e[24]=g,e[25]=v,e[26]=N,e[27]=t,e[28]=h,e[29]=S,e[30]=m,e[31]=ss):ss=e[31];const ks=ss;let ts;e[32]!==t.direction||e[33]!==t.per_page||e[34]!==t.sort?(ts=()=>{$s(""),Rs(""),Bs(""),qs(""),Us(""),Gs(""),Os(""),_.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction,page:1},{preserveState:!1,preserveScroll:!0})},e[32]=t.direction,e[33]=t.per_page,e[34]=t.sort,e[35]=ts):ts=e[35];const Fs=ts;let ls;e[36]!==t.direction||e[37]!==t.sort?(ls=a=>t.sort!==a?s.jsx(ft,{className:"h-3 w-3 ml-1 text-gray-400"}):t.direction==="asc"?s.jsx(ct,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):s.jsx(nt,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[36]=t.direction,e[37]=t.sort,e[38]=ls):ls=e[38];const n=ls,Ks=Ct;let as;e[39]===Symbol.for("react.memo_cache_sentinel")?(as=s.jsx(lt,{title:"HelpDesk HUV - Casos"}),e[39]=as):as=e[39];let rs;e[40]===Symbol.for("react.memo_cache_sentinel")?(rs=s.jsx(at,{breadcrumb:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Inicio"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"text-gray-600",children:"Soporte"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Casos"})]})}),e[40]=rs):rs=e[40];let is;e[41]===Symbol.for("react.memo_cache_sentinel")?(is=s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Casos"}),e[41]=is):is=e[41];let cs;e[42]===Symbol.for("react.memo_cache_sentinel")?(cs=a=>Os(a.target.value),e[42]=cs):cs=e[42];let F;e[43]!==k?(F=a=>{a.key==="Enter"&&k()},e[43]=k,e[44]=F):F=e[44];let E;e[45]!==S||e[46]!==F?(E=s.jsx(Ls,{type:"text",placeholder:"Buscar...",className:"w-64 pr-10 h-9",value:S,onChange:cs,onKeyDown:F}),e[45]=S,e[46]=F,e[47]=E):E=e[47];let ns;e[48]===Symbol.for("react.memo_cache_sentinel")?(ns=s.jsx(rt,{className:"h-4 w-4"}),e[48]=ns):ns=e[48];let A;e[49]!==k?(A=s.jsx(x,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:k,children:ns}),e[49]=k,e[50]=A):A=e[50];let z;e[51]!==E||e[52]!==A?(z=s.jsxs("div",{className:"relative",children:[E,A]}),e[51]=E,e[52]=A,e[53]=z):z=e[53];let V;e[54]!==T?(V=()=>et(!T),e[54]=T,e[55]=V):V=e[55];const Es=`h-9 ${C?"border-[#2c4370] text-[#2c4370]":""}`;let os;e[56]===Symbol.for("react.memo_cache_sentinel")?(os=s.jsx(bt,{className:"h-4 w-4 mr-1"}),e[56]=os):os=e[56];let H;e[57]!==C?(H=C&&s.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"}),e[57]=C,e[58]=H):H=e[58];let P;e[59]!==V||e[60]!==Es||e[61]!==H?(P=s.jsxs(x,{variant:"outline",size:"sm",onClick:V,className:Es,children:[os,"Filtros",H]}),e[59]=V,e[60]=Es,e[61]=H,e[62]=P):P=e[62];let ds;e[63]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(x,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9",children:"Exportar"}),e[63]=ds):ds=e[63];let I;e[64]!==z||e[65]!==P?(I=s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[is,s.jsxs("div",{className:"flex items-center gap-3",children:[z,P,ds]})]})}),e[64]=z,e[65]=P,e[66]=I):I=e[66];let L;e[67]!==ks||e[68]!==u||e[69]!==Ss||e[70]!==g||e[71]!==Fs||e[72]!==v||e[73]!==N||e[74]!==C||e[75]!==h||e[76]!==T||e[77]!==m||e[78]!==_s?(L=T&&s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Estado"}),s.jsxs($e,{value:m,onValueChange:$s,children:[s.jsx(Re,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todos"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),s.jsx(i,{value:"1",children:"Nuevo"}),s.jsx(i,{value:"2",children:"En curso (asignado)"}),s.jsx(i,{value:"3",children:"En curso (planificado)"}),s.jsx(i,{value:"4",children:"En espera"}),s.jsx(i,{value:"5",children:"Resuelto"}),s.jsx(i,{value:"6",children:"Cerrado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Prioridad"}),s.jsxs($e,{value:h,onValueChange:Rs,children:[s.jsx(Re,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todas"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),s.jsx(i,{value:"1",children:"Muy baja"}),s.jsx(i,{value:"2",children:"Baja"}),s.jsx(i,{value:"3",children:"Media"}),s.jsx(i,{value:"4",children:"Alta"}),s.jsx(i,{value:"5",children:"Muy alta"}),s.jsx(i,{value:"6",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Asignado a"}),s.jsxs($e,{value:u,onValueChange:qs,children:[s.jsx(Re,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todos"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),_s.map(_t)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Categoría"}),s.jsxs($e,{value:g,onValueChange:Bs,children:[s.jsx(Re,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todas"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),Ss.map(St)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Desde"}),s.jsx(Ls,{type:"date",value:v,onChange:a=>Us(a.target.value),className:"h-8 text-xs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Hasta"}),s.jsx(Ls,{type:"date",value:N,onChange:a=>Gs(a.target.value),className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[C&&s.jsxs(x,{variant:"ghost",size:"sm",onClick:Fs,className:"h-8 text-xs text-gray-600",children:[s.jsx(ut,{className:"h-3 w-3 mr-1"}),"Limpiar filtros"]}),s.jsx(x,{size:"sm",onClick:ks,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar filtros"})]})]}),e[67]=ks,e[68]=u,e[69]=Ss,e[70]=g,e[71]=Fs,e[72]=v,e[73]=N,e[74]=C,e[75]=h,e[76]=T,e[77]=m,e[78]=_s,e[79]=L):L=e[79];let xs;e[80]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsx("span",{className:"text-sm text-gray-600",children:"Mostrar"}),e[80]=xs):xs=e[80];let O;e[81]!==t.per_page?(O=t.per_page.toString(),e[81]=t.per_page,e[82]=O):O=e[82];let ms;e[83]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsx(Re,{className:"w-20 h-8",children:s.jsx(Be,{placeholder:"15"})}),e[83]=ms):ms=e[83];let hs;e[84]===Symbol.for("react.memo_cache_sentinel")?(hs=s.jsxs(qe,{children:[s.jsx(i,{value:"15",children:"15"}),s.jsx(i,{value:"20",children:"20"}),s.jsx(i,{value:"50",children:"50"}),s.jsx(i,{value:"100",children:"100"})]}),e[84]=hs):hs=e[84];let M;e[85]!==Ts||e[86]!==O?(M=s.jsxs($e,{value:O,onValueChange:Ts,children:[ms,hs]}),e[85]=Ts,e[86]=O,e[87]=M):M=e[87];let gs;e[88]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx("span",{className:"text-sm text-gray-600",children:"elementos"}),e[88]=gs):gs=e[88];let $;e[89]!==M?($=s.jsxs("div",{className:"flex items-center gap-3",children:[xs,M,gs]}),e[89]=M,e[90]=$):$=e[90];let R;e[91]!==r.data.length?(R=s.jsx("span",{className:"font-medium",children:r.data.length}),e[91]=r.data.length,e[92]=R):R=e[92];let B;e[93]!==r.total?(B=s.jsx("span",{className:"font-medium",children:r.total}),e[93]=r.total,e[94]=B):B=e[94];let q;e[95]!==R||e[96]!==B?(q=s.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",R," de"," ",B," casos"]}),e[95]=R,e[96]=B,e[97]=q):q=e[97];let U;e[98]!==$||e[99]!==q?(U=s.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b flex items-center justify-between",children:[$,q]}),e[98]=$,e[99]=q,e[100]=U):U=e[100];let G;e[101]!==c?(G=()=>c("id"),e[101]=c,e[102]=G):G=e[102];let K;e[103]!==n?(K=s.jsxs("div",{className:"flex items-center",children:["ID",n("id")]}),e[103]=n,e[104]=K):K=e[104];let X;e[105]!==G||e[106]!==K?(X=s.jsx(b,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100 w-16",onClick:G,children:K}),e[105]=G,e[106]=K,e[107]=X):X=e[107];let J;e[108]!==c?(J=()=>c("name"),e[108]=c,e[109]=J):J=e[109];let Q;e[110]!==n?(Q=s.jsxs("div",{className:"flex items-center",children:["Título",n("name")]}),e[110]=n,e[111]=Q):Q=e[111];let W;e[112]!==J||e[113]!==Q?(W=s.jsx(b,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:J,children:Q}),e[112]=J,e[113]=Q,e[114]=W):W=e[114];let Y;e[115]!==c?(Y=()=>c("status"),e[115]=c,e[116]=Y):Y=e[116];let Z;e[117]!==n?(Z=s.jsxs("div",{className:"flex items-center",children:["Estado",n("status")]}),e[117]=n,e[118]=Z):Z=e[118];let ee;e[119]!==Y||e[120]!==Z?(ee=s.jsx(b,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:Y,children:Z}),e[119]=Y,e[120]=Z,e[121]=ee):ee=e[121];let se;e[122]!==c?(se=()=>c("priority"),e[122]=c,e[123]=se):se=e[123];let te;e[124]!==n?(te=s.jsxs("div",{className:"flex items-center",children:["Prioridad",n("priority")]}),e[124]=n,e[125]=te):te=e[125];let le;e[126]!==se||e[127]!==te?(le=s.jsx(b,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:se,children:te}),e[126]=se,e[127]=te,e[128]=le):le=e[128];let ae;e[129]!==c?(ae=()=>c("entity_name"),e[129]=c,e[130]=ae):ae=e[130];let re;e[131]!==n?(re=s.jsxs("div",{className:"flex items-center",children:["Entidad",n("entity_name")]}),e[131]=n,e[132]=re):re=e[132];let ie;e[133]!==ae||e[134]!==re?(ie=s.jsx(b,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ae,children:re}),e[133]=ae,e[134]=re,e[135]=ie):ie=e[135];let ce;e[136]!==c?(ce=()=>c("date"),e[136]=c,e[137]=ce):ce=e[137];let ne;e[138]!==n?(ne=s.jsxs("div",{className:"flex items-center",children:["Fecha de apertura",n("date")]}),e[138]=n,e[139]=ne):ne=e[139];let oe;e[140]!==ce||e[141]!==ne?(oe=s.jsx(b,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ce,children:ne}),e[140]=ce,e[141]=ne,e[142]=oe):oe=e[142];let de;e[143]!==c?(de=()=>c("date_mod"),e[143]=c,e[144]=de):de=e[144];let xe;e[145]!==n?(xe=s.jsxs("div",{className:"flex items-center",children:["Última actualización",n("date_mod")]}),e[145]=n,e[146]=xe):xe=e[146];let me;e[147]!==de||e[148]!==xe?(me=s.jsx(b,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:de,children:xe}),e[147]=de,e[148]=xe,e[149]=me):me=e[149];let us,fs,js;e[150]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsx(b,{className:"font-semibold text-gray-900 text-xs",children:"Solicitante"}),fs=s.jsx(b,{className:"font-semibold text-gray-900 text-xs",children:"Asignado a"}),js=s.jsx(b,{className:"font-semibold text-gray-900 text-xs",children:"Categoría"}),e[150]=us,e[151]=fs,e[152]=js):(us=e[150],fs=e[151],js=e[152]);let he;e[153]!==d?(he=d()&&s.jsx(b,{className:"font-semibold text-gray-900 text-xs text-center w-24",children:"Acciones"}),e[153]=d,e[154]=he):he=e[154];let ge;e[155]!==X||e[156]!==W||e[157]!==ee||e[158]!==le||e[159]!==ie||e[160]!==oe||e[161]!==me||e[162]!==he?(ge=s.jsx(ot,{children:s.jsxs(Is,{className:"bg-gray-50",children:[X,W,ee,le,ie,oe,me,us,fs,js,he]})}),e[155]=X,e[156]=W,e[157]=ee,e[158]=le,e[159]=ie,e[160]=oe,e[161]=me,e[162]=he,e[163]=ge):ge=e[163];let ue;if(e[164]!==Oe||e[165]!==d||e[166]!==r.data){let a;e[168]!==Oe||e[169]!==d?(a=l=>s.jsxs(Is,{className:"hover:bg-gray-50",children:[s.jsx(j,{className:"text-xs font-medium",children:l.id}),s.jsx(j,{className:"font-medium text-xs",children:s.jsx("button",{onClick:()=>{Zs(l),Ge(!0)},className:"text-[#2c4370] hover:underline block truncate max-w-md text-left",title:l.name,children:l.name||"(Sin título)"})}),s.jsx(j,{className:"text-xs",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${Ks(l.status)}`,children:l.status_name})}),s.jsx(j,{className:"text-xs",children:l.priority_name}),s.jsx(j,{className:"text-xs",children:l.entity_name||"-"}),s.jsx(j,{className:"text-xs text-gray-600",children:l.date?new Date(l.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(j,{className:"text-xs text-gray-600",children:l.date_mod?new Date(l.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(j,{className:"text-xs",children:l.requester_name||"-"}),s.jsx(j,{className:"text-xs",children:l.assigned_name||"-"}),s.jsx(j,{className:"text-xs",children:l.category_name||"-"}),d()&&s.jsx(j,{className:"text-xs",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(x,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>_.visit(`/soporte/casos/${l.id}/editar`),title:"Editar",children:s.jsx(pt,{className:"h-3.5 w-3.5"})}),Oe(l)&&s.jsx(x,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",onClick:()=>st(l),title:"Eliminar",children:s.jsx(Nt,{className:"h-3.5 w-3.5"})})]})})]},l.id),e[168]=Oe,e[169]=d,e[170]=a):a=e[170],ue=r.data.map(a),e[164]=Oe,e[165]=d,e[166]=r.data,e[167]=ue}else ue=e[167];let fe;e[171]!==d||e[172]!==r.data.length?(fe=r.data.length===0&&s.jsx(Is,{children:s.jsx(j,{colSpan:d()?11:10,className:"text-center py-8 text-gray-500",children:"No se encontraron casos"})}),e[171]=d,e[172]=r.data.length,e[173]=fe):fe=e[173];let je;e[174]!==ue||e[175]!==fe?(je=s.jsxs(dt,{children:[ue,fe]}),e[174]=ue,e[175]=fe,e[176]=je):je=e[176];let pe;e[177]!==ge||e[178]!==je?(pe=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xt,{children:[ge,je]})}),e[177]=ge,e[178]=je,e[179]=pe):pe=e[179];let ye;e[180]!==r.current_page?(ye=s.jsx("span",{className:"font-medium",children:r.current_page}),e[180]=r.current_page,e[181]=ye):ye=e[181];let be;e[182]!==r.last_page?(be=s.jsx("span",{className:"font-medium",children:r.last_page}),e[182]=r.last_page,e[183]=be):be=e[183];let ve;e[184]!==ye||e[185]!==be?(ve=s.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",ye," de"," ",be]}),e[184]=ye,e[185]=be,e[186]=ve):ve=e[186];let Ne;if(e[187]!==w||e[188]!==r.links){let a;e[190]!==w||e[191]!==r.links.length?(a=(l,Me)=>Me===0?s.jsx(x,{variant:"outline",size:"sm",disabled:!l.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>l.url&&w(l.url),children:s.jsx(mt,{className:"h-4 w-4"})},Me):Me===r.links.length-1?s.jsx(x,{variant:"outline",size:"sm",disabled:!l.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>l.url&&w(l.url),children:s.jsx(jt,{className:"h-4 w-4"})},Me):s.jsx(x,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,className:l.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white",onClick:()=>l.url&&w(l.url),children:s.jsx("span",{dangerouslySetInnerHTML:{__html:l.label}})},Me),e[190]=w,e[191]=r.links.length,e[192]=a):a=e[192],Ne=r.links.map(a),e[187]=w,e[188]=r.links,e[189]=Ne}else Ne=e[189];let Se;e[193]!==Ne?(Se=s.jsx("div",{className:"flex items-center gap-2",children:Ne}),e[193]=Ne,e[194]=Se):Se=e[194];let _e;e[195]!==ve||e[196]!==Se?(_e=s.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[ve,Se]}),e[195]=ve,e[196]=Se,e[197]=_e):_e=e[197];let Ce;e[198]!==I||e[199]!==L||e[200]!==U||e[201]!==pe||e[202]!==_e?(Ce=s.jsx("main",{className:"flex-1 px-6 py-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[I,L,U,pe,_e]})}),e[198]=I,e[199]=L,e[200]=U,e[201]=pe,e[202]=_e,e[203]=Ce):Ce=e[203];let ps;e[204]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsx(it,{}),e[204]=ps):ps=e[204];let we;e[205]!==Ce?(we=s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[rs,Ce,ps]}),e[205]=Ce,e[206]=we):we=e[206];let ys;e[207]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx(Xs,{children:"Eliminar Caso"}),e[207]=ys):ys=e[207];const As=D?.id;let De;e[208]!==As?(De=s.jsxs("strong",{children:["#",As]}),e[208]=As,e[209]=De):De=e[209];let bs;e[210]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsx("br",{}),e[210]=bs):bs=e[210];const zs=D?.name;let Te;e[211]!==zs?(Te=s.jsx("span",{className:"text-gray-600",children:zs}),e[211]=zs,e[212]=Te):Te=e[212];let ke;e[213]!==De||e[214]!==Te?(ke=s.jsxs(Js,{children:[ys,s.jsxs(ht,{children:["¿Está seguro que desea eliminar el caso ",De,"?",bs,Te]})]}),e[213]=De,e[214]=Te,e[215]=ke):ke=e[215];let vs;e[216]===Symbol.for("react.memo_cache_sentinel")?(vs=s.jsx(x,{variant:"outline",onClick:()=>Ue(!1),children:"Cancelar"}),e[216]=vs):vs=e[216];let Fe;e[217]!==Ds?(Fe=s.jsxs(gt,{className:"gap-2",children:[vs,s.jsx(x,{variant:"destructive",onClick:Ds,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]}),e[217]=Ds,e[218]=Fe):Fe=e[218];let Ee;e[219]!==ke||e[220]!==Fe?(Ee=s.jsxs(Qs,{className:"sm:max-w-[425px]",children:[ke,Fe]}),e[219]=ke,e[220]=Fe,e[221]=Ee):Ee=e[221];let Ae;e[222]!==Cs||e[223]!==Ee?(Ae=s.jsx(Ws,{open:Cs,onOpenChange:Ue,children:Ee}),e[222]=Cs,e[223]=Ee,e[224]=Ae):Ae=e[224];const Vs=o?.id;let ze;e[225]!==Vs?(ze=s.jsxs("span",{className:"text-[#2c4370]",children:["Caso #",Vs]}),e[225]=Vs,e[226]=ze):ze=e[226];const Hs=`px-2 py-0.5 rounded-full text-[10px] font-semibold ${o?Ks(o.status):""}`,Ps=o?.status_name;let Ve;e[227]!==Hs||e[228]!==Ps?(Ve=s.jsx("span",{className:Hs,children:Ps}),e[227]=Hs,e[228]=Ps,e[229]=Ve):Ve=e[229];let He;e[230]!==ze||e[231]!==Ve?(He=s.jsx(Js,{children:s.jsxs(Xs,{className:"flex items-center gap-2",children:[ze,Ve]})}),e[230]=ze,e[231]=Ve,e[232]=He):He=e[232];let Pe;e[233]!==d||e[234]!==o?(Pe=o&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:o.name})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Prioridad"}),s.jsx("span",{className:"font-medium",children:o.priority_name})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Entidad"}),s.jsx("span",{className:"font-medium",children:o.entity_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Fecha de Apertura"}),s.jsx("span",{className:"font-medium",children:o.date?new Date(o.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Última Actualización"}),s.jsx("span",{className:"font-medium",children:o.date_mod?new Date(o.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Solicitante"}),s.jsx("span",{className:"font-medium",children:o.requester_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Asignado a"}),s.jsx("span",{className:"font-medium",children:o.assigned_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded col-span-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Categoría"}),s.jsx("span",{className:"font-medium",children:o.category_name||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsx(x,{variant:"outline",size:"sm",onClick:()=>Ge(!1),className:"h-8 text-xs",children:"Cerrar"}),d()&&s.jsx(x,{size:"sm",onClick:()=>{Ge(!1),_.visit(`/soporte/casos/${o.id}/editar`)},className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Editar Caso"})]})]}),e[233]=d,e[234]=o,e[235]=Pe):Pe=e[235];let Ie;e[236]!==He||e[237]!==Pe?(Ie=s.jsxs(Qs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[He,Pe]}),e[236]=He,e[237]=Pe,e[238]=Ie):Ie=e[238];let Le;e[239]!==Ie||e[240]!==ws?(Le=s.jsx(Ws,{open:ws,onOpenChange:Ge,children:Ie}),e[239]=Ie,e[240]=ws,e[241]=Le):Le=e[241];let Ns;return e[242]!==we||e[243]!==Ae||e[244]!==Le?(Ns=s.jsxs(s.Fragment,{children:[as,we,Ae,Le]}),e[242]=we,e[243]=Ae,e[244]=Le,e[245]=Ns):Ns=e[245],Ns}function St(p){return s.jsx(i,{value:p.id.toString(),children:p.completename},p.id)}function _t(p){return s.jsx(i,{value:p.id.toString(),children:p.fullname},p.id)}function Ct(p){switch(p){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-yellow-100 text-yellow-800";case 4:return"bg-orange-100 text-orange-800";case 5:return"bg-green-100 text-green-800";case 6:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}export{Bt as default};
