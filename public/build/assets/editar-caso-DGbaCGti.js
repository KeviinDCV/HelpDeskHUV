import{c as qe,e as Me,j as t,r as Pe,H as ke}from"./app-BJBlDemD.js";import{G as ze,a as Oe}from"./glpi-footer-CH3kkeLU.js";import{B as we}from"./button-BaGVI9f4.js";import{I as Ne}from"./input-B7muddwK.js";import{L as n}from"./label-BgcLO0ew.js";import{T as Re}from"./textarea-CRi3JKr_.js";import{S as Ve,a as Be,b as Ge,c as He,d as r}from"./select-xFfBaRx-.js";import{S as Le}from"./searchable-select-Ch1rYKe0.js";/* empty css            */import"./index-CKX-i0tl.js";import"./index-DBkmAa2V.js";import"./index-CKhsOhdX.js";import"./index-5a3OkFP4.js";import"./check-RTwYO4DR.js";function ct(o){const e=qe.c(144),{ticket:s,locations:be,categories:Se}=o,Ce=Ke,Fe=s.name||"",Ee=s.content||"";let m;e[0]!==s.date?(m=Ce(s.date),e[0]=s.date,e[1]=m):m=e[1];let d;e[2]!==s.time_to_resolve?(d=Ce(s.time_to_resolve),e[2]=s.time_to_resolve,e[3]=d):d=e[3];let x;e[4]!==s.internal_time_to_resolve?(x=Ce(s.internal_time_to_resolve),e[4]=s.internal_time_to_resolve,e[5]=x):x=e[5];let h;e[6]!==s.status?(h=s.status.toString(),e[6]=s.status,e[7]=h):h=e[7];let _;e[8]!==s.priority?(_=s.priority.toString(),e[8]=s.priority,e[9]=_):_=e[9];let f;e[10]!==s.locations_id?(f=s.locations_id?.toString()||"",e[10]=s.locations_id,e[11]=f):f=e[11];let u;e[12]!==s.itilcategories_id?(u=s.itilcategories_id?.toString()||"",e[12]=s.itilcategories_id,e[13]=u):u=e[13];let W;e[14]!==Fe||e[15]!==Ee||e[16]!==m||e[17]!==d||e[18]!==x||e[19]!==h||e[20]!==_||e[21]!==f||e[22]!==u?(W={name:Fe,content:Ee,date:m,time_to_resolve:d,internal_time_to_resolve:x,status:h,priority:_,locations_id:f,itilcategories_id:u},e[14]=Fe,e[15]=Ee,e[16]=m,e[17]=d,e[18]=x,e[19]=h,e[20]=_,e[21]=f,e[22]=u,e[23]=W):W=e[23];const{data:l,setData:a,processing:X,errors:c}=Me(W);let Y;e[24]!==l||e[25]!==s.id?(Y=i=>{i.preventDefault(),Pe.put(`/soporte/casos/${s.id}`,l,{onSuccess:Je})},e[24]=l,e[25]=s.id,e[26]=Y):Y=e[26];const Ie=Y,De=`Editar Caso #${s.id} - HelpDesk HUV`;let p;e[27]!==De?(p=t.jsx(ke,{title:De}),e[27]=De,e[28]=p):p=e[28];let Z,ee,te,se,le,ae;e[29]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("span",{className:"text-gray-600",children:"Inicio"}),ee=t.jsx("span",{className:"text-gray-400",children:"/"}),te=t.jsx("span",{className:"text-gray-600",children:"Soporte"}),se=t.jsx("span",{className:"text-gray-400",children:"/"}),le=t.jsx("span",{className:"text-gray-600",children:"Casos"}),ae=t.jsx("span",{className:"text-gray-400",children:"/"}),e[29]=Z,e[30]=ee,e[31]=te,e[32]=se,e[33]=le,e[34]=ae):(Z=e[29],ee=e[30],te=e[31],se=e[32],le=e[33],ae=e[34]);let j;e[35]!==s.id?(j=t.jsx(ze,{breadcrumb:t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Z,ee,te,se,le,ae,t.jsxs("span",{className:"font-medium text-gray-900",children:["Editar #",s.id]})]})}),e[35]=s.id,e[36]=j):j=e[36];let v;e[37]!==s.id?(v=t.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["Editar Caso #",s.id]}),e[37]=s.id,e[38]=v):v=e[38];let ie;e[39]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Modifique los datos del caso"}),e[39]=ie):ie=e[39];let g;e[40]!==v?(g=t.jsxs("div",{className:"px-6 py-4 border-b",children:[v,ie]}),e[40]=v,e[41]=g):g=e[41];let re;e[42]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(n,{htmlFor:"name",className:"text-xs",children:"Título *"}),e[42]=re):re=e[42];let y;e[43]!==a?(y=i=>a("name",i.target.value),e[43]=a,e[44]=y):y=e[44];let N;e[45]!==l.name||e[46]!==y?(N=t.jsx(Ne,{id:"name",value:l.name,onChange:y,placeholder:"Título del caso",required:!0,className:"mt-1 h-8 text-sm"}),e[45]=l.name,e[46]=y,e[47]=N):N=e[47];let b;e[48]!==c.name?(b=c.name&&t.jsx("p",{className:"text-red-600 text-xs mt-0.5",children:c.name}),e[48]=c.name,e[49]=b):b=e[49];let S;e[50]!==N||e[51]!==b?(S=t.jsxs("div",{className:"md:col-span-4",children:[re,N,b]}),e[50]=N,e[51]=b,e[52]=S):S=e[52];let oe;e[53]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(n,{htmlFor:"date",className:"text-xs",children:"Fecha Apertura *"}),e[53]=oe):oe=e[53];let C;e[54]!==a?(C=i=>a("date",i.target.value),e[54]=a,e[55]=C):C=e[55];let F;e[56]!==l.date||e[57]!==C?(F=t.jsxs("div",{children:[oe,t.jsx(Ne,{id:"date",type:"datetime-local",value:l.date,onChange:C,required:!0,className:"mt-1 h-8 text-xs"})]}),e[56]=l.date,e[57]=C,e[58]=F):F=e[58];let ne;e[59]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(n,{htmlFor:"status",className:"text-xs",children:"Estado *"}),e[59]=ne):ne=e[59];let E;e[60]!==a?(E=i=>a("status",i),e[60]=a,e[61]=E):E=e[61];let ce;e[62]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(Be,{className:"mt-1 h-8 text-xs",children:t.jsx(Ge,{})}),e[62]=ce):ce=e[62];let me;e[63]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs(He,{children:[t.jsx(r,{value:"1",children:"Nuevo"}),t.jsx(r,{value:"2",children:"En curso (asignado)"}),t.jsx(r,{value:"3",children:"En curso (planificado)"}),t.jsx(r,{value:"4",children:"En espera"}),t.jsx(r,{value:"5",children:"Resuelto"}),t.jsx(r,{value:"6",children:"Cerrado"})]}),e[63]=me):me=e[63];let I;e[64]!==l.status||e[65]!==E?(I=t.jsxs("div",{children:[ne,t.jsxs(Ve,{value:l.status,onValueChange:E,children:[ce,me]})]}),e[64]=l.status,e[65]=E,e[66]=I):I=e[66];let de;e[67]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(n,{htmlFor:"priority",className:"text-xs",children:"Prioridad *"}),e[67]=de):de=e[67];let D;e[68]!==a?(D=i=>a("priority",i),e[68]=a,e[69]=D):D=e[69];let xe;e[70]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(Be,{className:"mt-1 h-8 text-xs",children:t.jsx(Ge,{})}),e[70]=xe):xe=e[70];let he;e[71]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsxs(He,{children:[t.jsx(r,{value:"1",children:"Muy baja"}),t.jsx(r,{value:"2",children:"Baja"}),t.jsx(r,{value:"3",children:"Media"}),t.jsx(r,{value:"4",children:"Alta"}),t.jsx(r,{value:"5",children:"Muy alta"}),t.jsx(r,{value:"6",children:"Urgente"})]}),e[71]=he):he=e[71];let T;e[72]!==l.priority||e[73]!==D?(T=t.jsxs("div",{children:[de,t.jsxs(Ve,{value:l.priority,onValueChange:D,children:[xe,he]})]}),e[72]=l.priority,e[73]=D,e[74]=T):T=e[74];let _e;e[75]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(n,{htmlFor:"locations_id",className:"text-xs",children:"Localización"}),e[75]=_e):_e=e[75];let w;e[76]!==be?(w=be.map(Ue),e[76]=be,e[77]=w):w=e[77];let V;e[78]!==a?(V=i=>a("locations_id",i),e[78]=a,e[79]=V):V=e[79];let B;e[80]!==l.locations_id||e[81]!==w||e[82]!==V?(B=t.jsxs("div",{children:[_e,t.jsx(Le,{options:w,value:l.locations_id,onValueChange:V,placeholder:"Seleccione...",searchPlaceholder:"Buscar ubicación...",className:"mt-1"})]}),e[80]=l.locations_id,e[81]=w,e[82]=V,e[83]=B):B=e[83];let fe;e[84]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(n,{htmlFor:"itilcategories_id",className:"text-xs",children:"Categoría"}),e[84]=fe):fe=e[84];let G;e[85]!==Se?(G=Se.map(Ae),e[85]=Se,e[86]=G):G=e[86];let H;e[87]!==a?(H=i=>a("itilcategories_id",i),e[87]=a,e[88]=H):H=e[88];let L;e[89]!==l.itilcategories_id||e[90]!==G||e[91]!==H?(L=t.jsxs("div",{className:"md:col-span-4",children:[fe,t.jsx(Le,{options:G,value:l.itilcategories_id,onValueChange:H,placeholder:"Seleccione una categoría...",searchPlaceholder:"Buscar categoría...",className:"mt-1"})]}),e[89]=l.itilcategories_id,e[90]=G,e[91]=H,e[92]=L):L=e[92];let ue;e[93]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(n,{htmlFor:"time_to_resolve",className:"text-xs text-gray-500",children:"Tiempo Solución (Opcional)"}),e[93]=ue):ue=e[93];let P;e[94]!==a?(P=i=>a("time_to_resolve",i.target.value),e[94]=a,e[95]=P):P=e[95];let q;e[96]!==l.time_to_resolve||e[97]!==P?(q=t.jsxs("div",{className:"md:col-span-2",children:[ue,t.jsx(Ne,{id:"time_to_resolve",type:"datetime-local",value:l.time_to_resolve,onChange:P,className:"mt-1 h-8 text-xs"})]}),e[96]=l.time_to_resolve,e[97]=P,e[98]=q):q=e[98];let pe;e[99]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(n,{htmlFor:"internal_time_to_resolve",className:"text-xs text-gray-500",children:"Tiempo Interno (Opcional)"}),e[99]=pe):pe=e[99];let M;e[100]!==a?(M=i=>a("internal_time_to_resolve",i.target.value),e[100]=a,e[101]=M):M=e[101];let k;e[102]!==l.internal_time_to_resolve||e[103]!==M?(k=t.jsxs("div",{className:"md:col-span-2",children:[pe,t.jsx(Ne,{id:"internal_time_to_resolve",type:"datetime-local",value:l.internal_time_to_resolve,onChange:M,className:"mt-1 h-8 text-xs"})]}),e[102]=l.internal_time_to_resolve,e[103]=M,e[104]=k):k=e[104];let je;e[105]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(n,{htmlFor:"content",className:"text-xs",children:"Descripción *"}),e[105]=je):je=e[105];let z;e[106]!==a?(z=i=>a("content",i.target.value),e[106]=a,e[107]=z):z=e[107];let O;e[108]!==l.content||e[109]!==z?(O=t.jsx(Re,{id:"content",value:l.content,onChange:z,placeholder:"Detalle el caso...",required:!0,rows:5,className:"mt-1 text-sm"}),e[108]=l.content,e[109]=z,e[110]=O):O=e[110];let R;e[111]!==c.content?(R=c.content&&t.jsx("p",{className:"text-red-600 text-xs mt-0.5",children:c.content}),e[111]=c.content,e[112]=R):R=e[112];let $;e[113]!==O||e[114]!==R?($=t.jsxs("div",{className:"md:col-span-4",children:[je,O,R]}),e[113]=O,e[114]=R,e[115]=$):$=e[115];let A;e[116]!==S||e[117]!==F||e[118]!==I||e[119]!==T||e[120]!==B||e[121]!==L||e[122]!==q||e[123]!==k||e[124]!==$?(A=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[S,F,I,T,B,L,q,k,$]}),e[116]=S,e[117]=F,e[118]=I,e[119]=T,e[120]=B,e[121]=L,e[122]=q,e[123]=k,e[124]=$,e[125]=A):A=e[125];let ve;e[126]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(we,{type:"button",variant:"ghost",size:"sm",onClick:$e,className:"h-8 text-xs",children:"Cancelar"}),e[126]=ve):ve=e[126];const Te=X?"Guardando...":"Guardar Cambios";let U;e[127]!==X||e[128]!==Te?(U=t.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2 pt-2 border-t",children:[ve,t.jsx(we,{type:"submit",disabled:X,size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs px-6",children:Te})]}),e[127]=X,e[128]=Te,e[129]=U):U=e[129];let J;e[130]!==Ie||e[131]!==A||e[132]!==U?(J=t.jsxs("form",{onSubmit:Ie,className:"p-4",children:[A,U]}),e[130]=Ie,e[131]=A,e[132]=U,e[133]=J):J=e[133];let K;e[134]!==g||e[135]!==J?(K=t.jsx("main",{className:"flex-1 px-6 py-6",children:t.jsx("div",{className:"max-w-5xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[g,J]})})}),e[134]=g,e[135]=J,e[136]=K):K=e[136];let ge;e[137]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(Oe,{}),e[137]=ge):ge=e[137];let Q;e[138]!==j||e[139]!==K?(Q=t.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[j,K,ge]}),e[138]=j,e[139]=K,e[140]=Q):Q=e[140];let ye;return e[141]!==p||e[142]!==Q?(ye=t.jsxs(t.Fragment,{children:[p,Q]}),e[141]=p,e[142]=Q,e[143]=ye):ye=e[143],ye}function $e(){return Pe.visit("/soporte/casos")}function Ae(o){return{value:o.id.toString(),label:o.completename}}function Ue(o){return{value:o.id.toString(),label:o.completename}}function Je(){}function Ke(o){return o?new Date(o).toISOString().slice(0,16):""}export{ct as default};
