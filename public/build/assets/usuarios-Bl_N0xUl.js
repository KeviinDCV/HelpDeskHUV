import{c as sa,R as p,j as s,r as N,H as ta,L as Kt}from"./app-DznkLLzB.js";import{G as aa,S as la,a as ra}from"./glpi-footer-TMZJ9Xqh.js";import{F as ia,T as D,a as oa,b as Xt,c as T,d as ca,e as na}from"./table-BzQsEUJf.js";import{B as j}from"./button-fLvCKGGt.js";import{I as y}from"./input-C3RzEeTz.js";import{L as w}from"./label-b_PHZ4TE.js";import{D as ma,a as da,b as xa,c as ha,d as fa,e as pa}from"./dialog-wzEb56cX.js";import{S as gt,a as ut,b as jt,c as vt,d as f}from"./select-UBMIiejS.js";import{P as ga}from"./plus-DtGGHcdQ.js";import{C as ua,a as ja}from"./chevrons-up-down-DL7FcN0U.js";import{A as va,a as ba,C as _a}from"./chevron-left-CGDLaIZs.js";import{X as Na}from"./index--pubsUCo.js";import{E as Qt}from"./eye-off-DizlmWmT.js";import{E as Wt}from"./eye-A3w6OvbC.js";/* empty css            */import"./file-text-BYX0PiNA.js";import"./monitor-O0QXRdBs.js";import"./index-U30EEP_o.js";import"./loader-circle-Bvyz0jNu.js";import"./index-BzVyp6oy.js";import"./index-DWGxkO96.js";import"./check-D2AA3HEV.js";function Ba(bt){const e=sa.c(371),{users:o,filters:t,auth:v}=bt,[b,Gt]=p.useState(t.search||""),[U,Yt]=p.useState(!1),[d,Ot]=p.useState(t.role||"all"),[x,qt]=p.useState(t.is_active||"all"),[g,Bt]=p.useState(t.date_from||""),[u,Jt]=p.useState(t.date_to||""),S=d&&d!=="all"||x&&x!=="all"||g||u,[_t,Nt]=p.useState(!1),[h,yt]=p.useState(!1),[Us,wt]=p.useState(null);let As;e[0]===Symbol.for("react.memo_cache_sentinel")?(As={username:"",name:"",email:"",phone:"",role:"Técnico",is_active:!0,password:"",password_confirmation:""},e[0]=As):As=e[0];const[l,_]=p.useState(As);let Es;e[1]===Symbol.for("react.memo_cache_sentinel")?(Es={},e[1]=Es):Es=e[1];const[i,A]=p.useState(Es),[C,St]=p.useState(!1),[F,Ct]=p.useState(!1),[k,Ds]=p.useState(!1);let $s;e[2]!==t.date_from||e[3]!==t.date_to||e[4]!==t.direction||e[5]!==t.is_active||e[6]!==t.per_page||e[7]!==t.role||e[8]!==t.search||e[9]!==t.sort?($s=a=>{const r=t.sort===a&&t.direction==="asc"?"desc":"asc",m={per_page:t.per_page,sort:a,direction:r};t.search&&(m.search=t.search),t.role&&t.role!=="all"&&(m.role=t.role),t.is_active&&t.is_active!=="all"&&(m.is_active=t.is_active),t.date_from&&(m.date_from=t.date_from),t.date_to&&(m.date_to=t.date_to),N.get("/administracion/usuarios",m,{preserveState:!1})},e[2]=t.date_from,e[3]=t.date_to,e[4]=t.direction,e[5]=t.is_active,e[6]=t.per_page,e[7]=t.role,e[8]=t.search,e[9]=t.sort,e[10]=$s):$s=e[10];const c=$s;let Is;e[11]!==g||e[12]!==u||e[13]!==t.direction||e[14]!==t.per_page||e[15]!==t.sort||e[16]!==d||e[17]!==b||e[18]!==x?(Is=()=>{const a={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};b&&(a.search=b),d&&d!=="all"&&(a.role=d),x&&x!=="all"&&(a.is_active=x),g&&(a.date_from=g),u&&(a.date_to=u),N.get("/administracion/usuarios",a,{preserveState:!1})},e[11]=g,e[12]=u,e[13]=t.direction,e[14]=t.per_page,e[15]=t.sort,e[16]=d,e[17]=b,e[18]=x,e[19]=Is):Is=e[19];const E=Is;let zs;e[20]!==g||e[21]!==u||e[22]!==t.direction||e[23]!==t.per_page||e[24]!==t.sort||e[25]!==d||e[26]!==b||e[27]!==x?(zs=()=>{const a={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};b&&(a.search=b),d&&d!=="all"&&(a.role=d),x&&x!=="all"&&(a.is_active=x),g&&(a.date_from=g),u&&(a.date_to=u),N.get("/administracion/usuarios",a,{preserveState:!1,replace:!0})},e[20]=g,e[21]=u,e[22]=t.direction,e[23]=t.per_page,e[24]=t.sort,e[25]=d,e[26]=b,e[27]=x,e[28]=zs):zs=e[28];const Ft=zs;let Rs;e[29]!==t.direction||e[30]!==t.per_page||e[31]!==t.sort?(Rs=()=>{Ot("all"),qt("all"),Bt(""),Jt(""),Gt(""),N.get("/administracion/usuarios",{per_page:t.per_page,sort:t.sort,direction:t.direction,page:1},{preserveState:!1,replace:!0})},e[29]=t.direction,e[30]=t.per_page,e[31]=t.sort,e[32]=Rs):Rs=e[32];const kt=Rs;let Ls;e[33]!==t.date_from||e[34]!==t.date_to||e[35]!==t.direction||e[36]!==t.is_active||e[37]!==t.role||e[38]!==t.search||e[39]!==t.sort?(Ls=()=>{const a=new URLSearchParams;a.append("sort",t.sort),a.append("direction",t.direction),t.search&&a.append("search",t.search),t.role&&t.role!=="all"&&a.append("role",t.role),t.is_active&&t.is_active!=="all"&&a.append("is_active",t.is_active),t.date_from&&a.append("date_from",t.date_from),t.date_to&&a.append("date_to",t.date_to),window.location.href=`/administracion/usuarios/export?${a}`},e[33]=t.date_from,e[34]=t.date_to,e[35]=t.direction,e[36]=t.is_active,e[37]=t.role,e[38]=t.search,e[39]=t.sort,e[40]=Ls):Ls=e[40];const Dt=Ls;let Ps;e[41]!==t.direction||e[42]!==t.sort?(Ps=a=>t.sort!==a?s.jsx(ua,{className:"h-3 w-3 ml-1 text-gray-400"}):t.direction==="asc"?s.jsx(va,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):s.jsx(ba,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[41]=t.direction,e[42]=t.sort,e[43]=Ps):Ps=e[43];const n=Ps,Zt=ya;let Ms;e[44]===Symbol.for("react.memo_cache_sentinel")?(Ms=()=>{yt(!0),wt(null),_({username:"",name:"",email:"",phone:"",role:"Técnico",is_active:!0,password:"",password_confirmation:""}),A({}),St(!1),Ct(!1),Nt(!0)},e[44]=Ms):Ms=e[44];const ea=Ms;let Hs;e[45]!==v.user.role?(Hs=a=>{v.user.role==="Administrador"&&(yt(!1),wt(a),_({username:a.username,name:a.name,email:a.email,phone:"",role:a.role,is_active:a.is_active,password:"",password_confirmation:""}),A({}),St(!1),Ct(!1),Nt(!0))},e[45]=v.user.role,e[46]=Hs):Hs=e[46];const Ts=Hs;let Vs;e[47]===Symbol.for("react.memo_cache_sentinel")?(Vs=()=>{Nt(!1),yt(!1),wt(null),_({username:"",name:"",email:"",phone:"",role:"Técnico",is_active:!0,password:"",password_confirmation:""}),A({})},e[47]=Vs):Vs=e[47];const Gs=Vs;let Os;e[48]!==Us||e[49]!==l||e[50]!==h?(Os=a=>{a.preventDefault(),Ds(!0),A({}),h?N.post("/administracion/usuarios",l,{preserveScroll:!0,onSuccess:()=>{Gs(),Ds(!1)},onError:r=>{A(r),Ds(!1)}}):Us&&N.put(`/administracion/usuarios/${Us.id}`,l,{preserveScroll:!0,onSuccess:()=>{Gs(),Ds(!1)},onError:r=>{A(r),Ds(!1)}})},e[48]=Us,e[49]=l,e[50]=h,e[51]=Os):Os=e[51];const Tt=Os;let qs;e[52]===Symbol.for("react.memo_cache_sentinel")?(qs=s.jsx(ta,{title:"Usuarios - HelpDesk HUV"}),e[52]=qs):qs=e[52];let Bs;e[53]===Symbol.for("react.memo_cache_sentinel")?(Bs=s.jsx(aa,{breadcrumb:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Kt,{href:"/dashboard",className:"text-gray-600 hover:text-[#2c4370] hover:underline",children:"Inicio"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx(Kt,{href:"/administracion/usuarios",className:"text-gray-600 hover:text-[#2c4370] hover:underline",children:"Administración"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Usuarios"})]})}),e[53]=Bs):Bs=e[53];let Js;e[54]===Symbol.for("react.memo_cache_sentinel")?(Js=s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Usuarios"}),e[54]=Js):Js=e[54];let Ks;e[55]===Symbol.for("react.memo_cache_sentinel")?(Ks=a=>Gt(a.target.value),e[55]=Ks):Ks=e[55];let $;e[56]!==E?($=a=>{a.key==="Enter"&&E()},e[56]=E,e[57]=$):$=e[57];let I;e[58]!==b||e[59]!==$?(I=s.jsx(y,{type:"text",placeholder:"Buscar...",className:"w-full sm:w-64 pr-10 h-9",value:b,onChange:Ks,onKeyDown:$}),e[58]=b,e[59]=$,e[60]=I):I=e[60];let Xs;e[61]===Symbol.for("react.memo_cache_sentinel")?(Xs=s.jsx(la,{className:"h-4 w-4"}),e[61]=Xs):Xs=e[61];let z;e[62]!==E?(z=s.jsx(j,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:E,children:Xs}),e[62]=E,e[63]=z):z=e[63];let R;e[64]!==I||e[65]!==z?(R=s.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[I,z]}),e[64]=I,e[65]=z,e[66]=R):R=e[66];let L;e[67]!==U?(L=()=>Yt(!U),e[67]=U,e[68]=L):L=e[68];const Ut=`h-9 flex-1 sm:flex-initial ${S?"border-[#2c4370] text-[#2c4370]":""}`;let Qs,Ws;e[69]===Symbol.for("react.memo_cache_sentinel")?(Qs=s.jsx(ia,{className:"h-4 w-4 sm:mr-1"}),Ws=s.jsx("span",{className:"hidden sm:inline",children:"Filtros"}),e[69]=Qs,e[70]=Ws):(Qs=e[69],Ws=e[70]);let P;e[71]!==S?(P=S&&s.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs w-5 h-5 flex items-center justify-center",children:"!"}),e[71]=S,e[72]=P):P=e[72];let M;e[73]!==L||e[74]!==Ut||e[75]!==P?(M=s.jsxs(j,{variant:"outline",size:"sm",onClick:L,className:Ut,children:[Qs,Ws,P]}),e[73]=L,e[74]=Ut,e[75]=P,e[76]=M):M=e[76];let H;e[77]!==v.user.role?(H=v.user.role==="Administrador"&&s.jsxs(j,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white h-9 flex-1 sm:flex-initial",onClick:ea,children:[s.jsx(ga,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Crear"})]}),e[77]=v.user.role,e[78]=H):H=e[78];let Ys,Zs;e[79]===Symbol.for("react.memo_cache_sentinel")?(Ys=s.jsx("span",{className:"hidden sm:inline",children:"Exportar"}),Zs=s.jsx("span",{className:"sm:hidden",children:"Excel"}),e[79]=Ys,e[80]=Zs):(Ys=e[79],Zs=e[80]);let V;e[81]!==Dt?(V=s.jsxs(j,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9 flex-1 sm:flex-initial",onClick:Dt,children:[Ys,Zs]}),e[81]=Dt,e[82]=V):V=e[82];let G;e[83]!==M||e[84]!==H||e[85]!==V?(G=s.jsxs("div",{className:"flex items-center gap-2",children:[M,H,V]}),e[83]=M,e[84]=H,e[85]=V,e[86]=G):G=e[86];let O;e[87]!==R||e[88]!==G?(O=s.jsx("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[Js,s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[R,G]})]})}),e[87]=R,e[88]=G,e[89]=O):O=e[89];let q;e[90]!==Ft||e[91]!==kt||e[92]!==g||e[93]!==u||e[94]!==S||e[95]!==d||e[96]!==U||e[97]!==x?(q=U&&s.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Rol"}),s.jsxs(gt,{value:d,onValueChange:Ot,children:[s.jsx(ut,{className:"h-8 text-xs",children:s.jsx(jt,{placeholder:"Todos"})}),s.jsxs(vt,{children:[s.jsx(f,{value:"all",children:"Todos"}),s.jsx(f,{value:"Administrador",children:"Administrador"}),s.jsx(f,{value:"Técnico",children:"Técnico"}),s.jsx(f,{value:"Usuario",children:"Usuario"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Estado"}),s.jsxs(gt,{value:x,onValueChange:qt,children:[s.jsx(ut,{className:"h-8 text-xs",children:s.jsx(jt,{placeholder:"Todos"})}),s.jsxs(vt,{children:[s.jsx(f,{value:"all",children:"Todos"}),s.jsx(f,{value:"1",children:"Activo"}),s.jsx(f,{value:"0",children:"Inactivo"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Desde"}),s.jsx(y,{type:"date",value:g,onChange:a=>Bt(a.target.value),className:"h-8 text-xs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Hasta"}),s.jsx(y,{type:"date",value:u,onChange:a=>Jt(a.target.value),className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-3",children:[S&&s.jsxs(j,{variant:"ghost",size:"sm",onClick:kt,className:"h-8 text-xs text-gray-600",children:[s.jsx(Na,{className:"h-3 w-3 mr-1"})," Limpiar"]}),s.jsx(j,{size:"sm",onClick:Ft,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar"})]})]}),e[90]=Ft,e[91]=kt,e[92]=g,e[93]=u,e[94]=S,e[95]=d,e[96]=U,e[97]=x,e[98]=q):q=e[98];let et;e[99]===Symbol.for("react.memo_cache_sentinel")?(et=s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Mostrar"}),e[99]=et):et=e[99];let B;e[100]!==t.per_page?(B=t.per_page.toString(),e[100]=t.per_page,e[101]=B):B=e[101];let J;e[102]!==t.direction||e[103]!==t.search||e[104]!==t.sort?(J=a=>{N.get("/administracion/usuarios",{per_page:a,sort:t.sort,direction:t.direction,search:t.search},{preserveState:!1})},e[102]=t.direction,e[103]=t.search,e[104]=t.sort,e[105]=J):J=e[105];let st;e[106]===Symbol.for("react.memo_cache_sentinel")?(st=s.jsx(ut,{className:"w-16 sm:w-20 h-7 sm:h-8 text-xs sm:text-sm",children:s.jsx(jt,{})}),e[106]=st):st=e[106];let tt;e[107]===Symbol.for("react.memo_cache_sentinel")?(tt=s.jsxs(vt,{children:[s.jsx(f,{value:"10",children:"10"}),s.jsx(f,{value:"15",children:"15"}),s.jsx(f,{value:"25",children:"25"}),s.jsx(f,{value:"50",children:"50"}),s.jsx(f,{value:"100",children:"100"})]}),e[107]=tt):tt=e[107];let K;e[108]!==B||e[109]!==J?(K=s.jsxs(gt,{value:B,onValueChange:J,children:[st,tt]}),e[108]=B,e[109]=J,e[110]=K):K=e[110];let at;e[111]===Symbol.for("react.memo_cache_sentinel")?(at=s.jsx("span",{className:"text-xs sm:text-sm text-gray-600 hidden sm:inline",children:"elementos"}),e[111]=at):at=e[111];let X;e[112]!==K?(X=s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[et,K,at]}),e[112]=K,e[113]=X):X=e[113];let Q;e[114]!==o.data.length?(Q=s.jsx("span",{className:"font-medium",children:o.data.length}),e[114]=o.data.length,e[115]=Q):Q=e[115];let W;e[116]!==o.total?(W=s.jsx("span",{className:"font-medium",children:o.total}),e[116]=o.total,e[117]=W):W=e[117];let Y;e[118]!==Q||e[119]!==W?(Y=s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[Q," de"," ",W]}),e[118]=Q,e[119]=W,e[120]=Y):Y=e[120];let Z;e[121]!==X||e[122]!==Y?(Z=s.jsxs("div",{className:"px-3 sm:px-6 py-2 sm:py-3 bg-gray-50 border-b flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[X,Y]}),e[121]=X,e[122]=Y,e[123]=Z):Z=e[123];let ee;e[124]!==c?(ee=()=>c("id"),e[124]=c,e[125]=ee):ee=e[125];let se;e[126]!==n?(se=s.jsxs("div",{className:"flex items-center",children:["ID",n("id")]}),e[126]=n,e[127]=se):se=e[127];let te;e[128]!==ee||e[129]!==se?(te=s.jsx(D,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100 w-16",onClick:ee,children:se}),e[128]=ee,e[129]=se,e[130]=te):te=e[130];let ae;e[131]!==c?(ae=()=>c("username"),e[131]=c,e[132]=ae):ae=e[132];let le;e[133]!==n?(le=s.jsxs("div",{className:"flex items-center",children:["Usuario",n("username")]}),e[133]=n,e[134]=le):le=e[134];let re;e[135]!==ae||e[136]!==le?(re=s.jsx(D,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ae,children:le}),e[135]=ae,e[136]=le,e[137]=re):re=e[137];let ie;e[138]!==c?(ie=()=>c("name"),e[138]=c,e[139]=ie):ie=e[139];let oe;e[140]!==n?(oe=s.jsxs("div",{className:"flex items-center",children:["Nombre Completo",n("name")]}),e[140]=n,e[141]=oe):oe=e[141];let ce;e[142]!==ie||e[143]!==oe?(ce=s.jsx(D,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ie,children:oe}),e[142]=ie,e[143]=oe,e[144]=ce):ce=e[144];let ne;e[145]!==c?(ne=()=>c("email"),e[145]=c,e[146]=ne):ne=e[146];let me;e[147]!==n?(me=s.jsxs("div",{className:"flex items-center",children:["Email",n("email")]}),e[147]=n,e[148]=me):me=e[148];let de;e[149]!==ne||e[150]!==me?(de=s.jsx(D,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ne,children:me}),e[149]=ne,e[150]=me,e[151]=de):de=e[151];let xe;e[152]!==c?(xe=()=>c("role"),e[152]=c,e[153]=xe):xe=e[153];let he;e[154]!==n?(he=s.jsxs("div",{className:"flex items-center",children:["Rol",n("role")]}),e[154]=n,e[155]=he):he=e[155];let fe;e[156]!==xe||e[157]!==he?(fe=s.jsx(D,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:xe,children:he}),e[156]=xe,e[157]=he,e[158]=fe):fe=e[158];let lt;e[159]===Symbol.for("react.memo_cache_sentinel")?(lt=s.jsx(D,{className:"font-semibold text-gray-900 text-xs",children:"Activo"}),e[159]=lt):lt=e[159];let pe;e[160]!==c?(pe=()=>c("created_at"),e[160]=c,e[161]=pe):pe=e[161];let ge;e[162]!==n?(ge=s.jsxs("div",{className:"flex items-center",children:["Fecha de Creación",n("created_at")]}),e[162]=n,e[163]=ge):ge=e[163];let ue;e[164]!==pe||e[165]!==ge?(ue=s.jsx(D,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:pe,children:ge}),e[164]=pe,e[165]=ge,e[166]=ue):ue=e[166];let je;e[167]!==te||e[168]!==re||e[169]!==ce||e[170]!==de||e[171]!==fe||e[172]!==ue?(je=s.jsx(oa,{children:s.jsxs(Xt,{className:"bg-gray-50",children:[te,re,ce,de,fe,lt,ue]})}),e[167]=te,e[168]=re,e[169]=ce,e[170]=de,e[171]=fe,e[172]=ue,e[173]=je):je=e[173];let ve;if(e[174]!==v.user.role||e[175]!==Ts||e[176]!==o.data){let a;e[178]!==v.user.role||e[179]!==Ts?(a=(r,m)=>s.jsxs(Xt,{className:`hover:bg-gray-50 ${v.user.role==="Administrador"?"cursor-pointer":""}`,onDoubleClick:()=>Ts(r),children:[s.jsx(T,{className:"text-xs font-medium",children:r.id}),s.jsx(T,{className:"font-medium text-xs text-[#2c4370]",children:r.username||"-"}),s.jsx(T,{className:"text-xs",children:s.jsxs("div",{className:"flex items-center gap-2",children:[r.avatar?s.jsx("img",{src:`/storage/${r.avatar}`,alt:r.name,className:"w-6 h-6 object-cover"}):s.jsx("div",{className:"w-6 h-6 bg-gray-200 flex items-center justify-center text-[10px] font-medium text-gray-600",children:r.name?.charAt(0)?.toUpperCase()||"U"}),r.name||"-"]})}),s.jsx(T,{className:"text-xs",children:r.email||"-"}),s.jsx(T,{className:"text-xs",children:s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-[10px] font-medium ${r.role==="Administrador"?"bg-purple-100 text-purple-800":r.role==="Técnico"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:r.role})}),s.jsx(T,{className:"text-xs",children:s.jsxs(j,{size:"sm",variant:"ghost",className:`h-6 px-3 text-[10px] font-semibold transition-colors duration-200 ${r.is_active?"bg-green-100 text-green-700 hover:bg-green-200 hover:text-green-800":"bg-red-100 text-red-700 hover:bg-red-200 hover:text-red-800"}`,onClick:Vt=>Zt(Vt,r.id),children:[s.jsx("span",{className:`mr-1.5 h-1.5 w-1.5 ${r.is_active?"bg-green-500":"bg-red-500"}`}),r.is_active?"Activo":"Inactivo"]})}),s.jsx(T,{className:"text-xs text-gray-600",children:r.created_at?new Date(r.created_at).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]},`${r.id}-${m}`),e[178]=v.user.role,e[179]=Ts,e[180]=a):a=e[180],ve=o.data.map(a),e[174]=v.user.role,e[175]=Ts,e[176]=o.data,e[177]=ve}else ve=e[177];let be;e[181]!==ve?(be=s.jsx(ca,{children:ve}),e[181]=ve,e[182]=be):be=e[182];let _e;e[183]!==je||e[184]!==be?(_e=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(na,{children:[je,be]})}),e[183]=je,e[184]=be,e[185]=_e):_e=e[185];let Ne;e[186]!==o.current_page||e[187]!==o.last_page?(Ne=s.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 order-2 sm:order-1",children:["Página ",o.current_page," de ",o.last_page]}),e[186]=o.current_page,e[187]=o.last_page,e[188]=Ne):Ne=e[188];let ye;if(e[189]!==o.links){let a;e[191]!==o.links.length?(a=(r,m)=>{const Vt=m===0||m===o.links.length-1||r.active;return m===0?s.jsx(j,{variant:"outline",size:"sm",disabled:!r.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50 h-8 w-8 p-0",onClick:()=>r.url&&N.visit(r.url),children:s.jsx(_a,{className:"h-4 w-4"})},m):m===o.links.length-1?s.jsx(j,{variant:"outline",size:"sm",disabled:!r.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50 h-8 w-8 p-0",onClick:()=>r.url&&N.visit(r.url),children:s.jsx(ja,{className:"h-4 w-4"})},m):s.jsx(j,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,className:`${Vt?"":"hidden sm:inline-flex"} h-8 min-w-[32px] px-2 text-xs sm:text-sm ${r.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white"}`,onClick:()=>r.url&&N.visit(r.url),children:r.label},m)},e[191]=o.links.length,e[192]=a):a=e[192],ye=o.links.map(a),e[189]=o.links,e[190]=ye}else ye=e[190];let we;e[193]!==ye?(we=s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 order-1 sm:order-2 flex-wrap justify-center",children:ye}),e[193]=ye,e[194]=we):we=e[194];let Se;e[195]!==Ne||e[196]!==we?(Se=s.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-t flex flex-col sm:flex-row items-center justify-between gap-3",children:[Ne,we]}),e[195]=Ne,e[196]=we,e[197]=Se):Se=e[197];let Ce;e[198]!==O||e[199]!==q||e[200]!==Z||e[201]!==_e||e[202]!==Se?(Ce=s.jsx("main",{className:"flex-1 px-3 sm:px-6 py-4 sm:py-6",children:s.jsxs("div",{className:"bg-white shadow border border-gray-200",children:[O,q,Z,_e,Se]})}),e[198]=O,e[199]=q,e[200]=Z,e[201]=_e,e[202]=Se,e[203]=Ce):Ce=e[203];let rt;e[204]===Symbol.for("react.memo_cache_sentinel")?(rt=s.jsx(ra,{}),e[204]=rt):rt=e[204];let Fe;e[205]!==Ce?(Fe=s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[Bs,Ce,rt]}),e[205]=Ce,e[206]=Fe):Fe=e[206];const At=h?"Nuevo Usuario":"Editar Usuario";let ke;e[207]!==At?(ke=s.jsx(ma,{children:At}),e[207]=At,e[208]=ke):ke=e[208];const Et=h?"Completa la información para crear un nuevo usuario. Los campos con * son obligatorios.":"Modifica los datos del usuario. Los campos con * son obligatorios.";let De;e[209]!==Et?(De=s.jsx(da,{children:Et}),e[209]=Et,e[210]=De):De=e[210];let Te;e[211]!==ke||e[212]!==De?(Te=s.jsxs(xa,{children:[ke,De]}),e[211]=ke,e[212]=De,e[213]=Te):Te=e[213];let it;e[214]===Symbol.for("react.memo_cache_sentinel")?(it=s.jsx(w,{htmlFor:"username",children:"Usuario *"}),e[214]=it):it=e[214];let Ue;e[215]!==l?(Ue=a=>_({...l,username:a.target.value}),e[215]=l,e[216]=Ue):Ue=e[216];let Ae;e[217]!==l.username||e[218]!==Ue?(Ae=s.jsx(y,{id:"username",value:l.username,onChange:Ue,placeholder:"ej: jperez",required:!0}),e[217]=l.username,e[218]=Ue,e[219]=Ae):Ae=e[219];let Ee;e[220]!==i.username?(Ee=i.username&&s.jsx("p",{className:"text-xs text-red-600",children:i.username}),e[220]=i.username,e[221]=Ee):Ee=e[221];let $e;e[222]!==Ae||e[223]!==Ee?($e=s.jsxs("div",{className:"grid gap-2",children:[it,Ae,Ee]}),e[222]=Ae,e[223]=Ee,e[224]=$e):$e=e[224];let ot;e[225]===Symbol.for("react.memo_cache_sentinel")?(ot=s.jsx(w,{htmlFor:"role",children:"Rol *"}),e[225]=ot):ot=e[225];let Ie;e[226]!==l?(Ie=a=>_({...l,role:a}),e[226]=l,e[227]=Ie):Ie=e[227];let ct;e[228]===Symbol.for("react.memo_cache_sentinel")?(ct=s.jsx(ut,{children:s.jsx(jt,{})}),e[228]=ct):ct=e[228];let nt;e[229]===Symbol.for("react.memo_cache_sentinel")?(nt=s.jsxs(vt,{children:[s.jsx(f,{value:"Administrador",children:"Administrador"}),s.jsx(f,{value:"Técnico",children:"Técnico"}),s.jsx(f,{value:"Usuario",children:"Usuario"})]}),e[229]=nt):nt=e[229];let ze;e[230]!==l.role||e[231]!==Ie?(ze=s.jsxs(gt,{value:l.role,onValueChange:Ie,children:[ct,nt]}),e[230]=l.role,e[231]=Ie,e[232]=ze):ze=e[232];let Re;e[233]!==i.role?(Re=i.role&&s.jsx("p",{className:"text-xs text-red-600",children:i.role}),e[233]=i.role,e[234]=Re):Re=e[234];let Le;e[235]!==ze||e[236]!==Re?(Le=s.jsxs("div",{className:"grid gap-2",children:[ot,ze,Re]}),e[235]=ze,e[236]=Re,e[237]=Le):Le=e[237];let Pe;e[238]!==$e||e[239]!==Le?(Pe=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[$e,Le]}),e[238]=$e,e[239]=Le,e[240]=Pe):Pe=e[240];let mt;e[241]===Symbol.for("react.memo_cache_sentinel")?(mt=s.jsx(w,{htmlFor:"name",children:"Nombre Completo *"}),e[241]=mt):mt=e[241];let Me;e[242]!==l?(Me=a=>_({...l,name:a.target.value}),e[242]=l,e[243]=Me):Me=e[243];let He;e[244]!==l.name||e[245]!==Me?(He=s.jsx(y,{id:"name",value:l.name,onChange:Me,placeholder:"ej: Juan Pérez García",required:!0}),e[244]=l.name,e[245]=Me,e[246]=He):He=e[246];let Ve;e[247]!==i.name?(Ve=i.name&&s.jsx("p",{className:"text-xs text-red-600",children:i.name}),e[247]=i.name,e[248]=Ve):Ve=e[248];let Ge;e[249]!==He||e[250]!==Ve?(Ge=s.jsxs("div",{className:"grid gap-2",children:[mt,He,Ve]}),e[249]=He,e[250]=Ve,e[251]=Ge):Ge=e[251];let dt;e[252]===Symbol.for("react.memo_cache_sentinel")?(dt=s.jsx(w,{htmlFor:"email",children:"Email *"}),e[252]=dt):dt=e[252];let Oe;e[253]!==l?(Oe=a=>_({...l,email:a.target.value}),e[253]=l,e[254]=Oe):Oe=e[254];let qe;e[255]!==l.email||e[256]!==Oe?(qe=s.jsx(y,{id:"email",type:"email",value:l.email,onChange:Oe,placeholder:"ej: jperez@huv.gov.co",required:!0}),e[255]=l.email,e[256]=Oe,e[257]=qe):qe=e[257];let Be;e[258]!==i.email?(Be=i.email&&s.jsx("p",{className:"text-xs text-red-600",children:i.email}),e[258]=i.email,e[259]=Be):Be=e[259];let Je;e[260]!==qe||e[261]!==Be?(Je=s.jsxs("div",{className:"grid gap-2",children:[dt,qe,Be]}),e[260]=qe,e[261]=Be,e[262]=Je):Je=e[262];let xt;e[263]===Symbol.for("react.memo_cache_sentinel")?(xt=s.jsx(w,{htmlFor:"phone",children:"Teléfono"}),e[263]=xt):xt=e[263];let Ke;e[264]!==l?(Ke=a=>_({...l,phone:a.target.value}),e[264]=l,e[265]=Ke):Ke=e[265];let Xe;e[266]!==l.phone||e[267]!==Ke?(Xe=s.jsx(y,{id:"phone",type:"tel",value:l.phone,onChange:Ke,placeholder:"ej: 3001234567"}),e[266]=l.phone,e[267]=Ke,e[268]=Xe):Xe=e[268];let Qe;e[269]!==i.phone?(Qe=i.phone&&s.jsx("p",{className:"text-xs text-red-600",children:i.phone}),e[269]=i.phone,e[270]=Qe):Qe=e[270];let We;e[271]!==Xe||e[272]!==Qe?(We=s.jsxs("div",{className:"grid gap-2",children:[xt,Xe,Qe]}),e[271]=Xe,e[272]=Qe,e[273]=We):We=e[273];let Ye;e[274]!==Je||e[275]!==We?(Ye=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Je,We]}),e[274]=Je,e[275]=We,e[276]=Ye):Ye=e[276];let ht;e[277]===Symbol.for("react.memo_cache_sentinel")?(ht=s.jsx(w,{htmlFor:"is_active",children:"Estado"}),e[277]=ht):ht=e[277];let Ze;e[278]!==l?(Ze=a=>_({...l,is_active:a.target.checked}),e[278]=l,e[279]=Ze):Ze=e[279];let es;e[280]!==l.is_active||e[281]!==Ze?(es=s.jsx("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:Ze,className:"h-4 w-4 border-gray-300"}),e[280]=l.is_active,e[281]=Ze,e[282]=es):es=e[282];const $t=`text-sm font-medium ${l.is_active?"text-green-600":"text-red-600"}`,It=l.is_active?"Activo":"Inactivo";let ss;e[283]!==$t||e[284]!==It?(ss=s.jsx("span",{className:$t,children:It}),e[283]=$t,e[284]=It,e[285]=ss):ss=e[285];let ts;e[286]!==es||e[287]!==ss?(ts=s.jsxs("div",{className:"grid gap-2",children:[ht,s.jsxs("div",{className:"flex items-center gap-2",children:[es,ss]})]}),e[286]=es,e[287]=ss,e[288]=ts):ts=e[288];const zt=h?"Contraseña *":"Cambiar Contraseña (opcional)";let as;e[289]!==zt?(as=s.jsx("p",{className:"text-sm text-gray-600 mb-3 font-medium",children:zt}),e[289]=zt,e[290]=as):as=e[290];const Rt=h?"Contraseña":"Nueva Contraseña";let ls;e[291]!==Rt?(ls=s.jsx(w,{htmlFor:"password",children:Rt}),e[291]=Rt,e[292]=ls):ls=e[292];const Lt=C?"text":"password";let rs;e[293]!==l?(rs=a=>_({...l,password:a.target.value}),e[293]=l,e[294]=rs):rs=e[294];const Pt=h?"Mínimo 8 caracteres":"Dejar en blanco para mantener la actual";let is;e[295]!==l.password||e[296]!==h||e[297]!==Lt||e[298]!==rs||e[299]!==Pt?(is=s.jsx(y,{id:"password",type:Lt,value:l.password,onChange:rs,placeholder:Pt,required:h}),e[295]=l.password,e[296]=h,e[297]=Lt,e[298]=rs,e[299]=Pt,e[300]=is):is=e[300];let os;e[301]!==C?(os=()=>St(!C),e[301]=C,e[302]=os):os=e[302];let cs;e[303]!==C?(cs=C?s.jsx(Qt,{className:"w-4 h-4"}):s.jsx(Wt,{className:"w-4 h-4"}),e[303]=C,e[304]=cs):cs=e[304];let ns;e[305]!==os||e[306]!==cs?(ns=s.jsx("button",{type:"button",onClick:os,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:cs}),e[305]=os,e[306]=cs,e[307]=ns):ns=e[307];let ms;e[308]!==is||e[309]!==ns?(ms=s.jsxs("div",{className:"relative",children:[is,ns]}),e[308]=is,e[309]=ns,e[310]=ms):ms=e[310];let ds;e[311]!==i.password?(ds=i.password&&s.jsx("p",{className:"text-xs text-red-600",children:i.password}),e[311]=i.password,e[312]=ds):ds=e[312];let xs;e[313]!==ls||e[314]!==ms||e[315]!==ds?(xs=s.jsxs("div",{className:"grid gap-2",children:[ls,ms,ds]}),e[313]=ls,e[314]=ms,e[315]=ds,e[316]=xs):xs=e[316];let ft;e[317]===Symbol.for("react.memo_cache_sentinel")?(ft=s.jsx(w,{htmlFor:"password_confirmation",children:"Confirmar Contraseña"}),e[317]=ft):ft=e[317];const Mt=F?"text":"password";let hs;e[318]!==l?(hs=a=>_({...l,password_confirmation:a.target.value}),e[318]=l,e[319]=hs):hs=e[319];let fs;e[320]!==l.password_confirmation||e[321]!==h||e[322]!==Mt||e[323]!==hs?(fs=s.jsx(y,{id:"password_confirmation",type:Mt,value:l.password_confirmation,onChange:hs,placeholder:"Repite la contraseña",required:h}),e[320]=l.password_confirmation,e[321]=h,e[322]=Mt,e[323]=hs,e[324]=fs):fs=e[324];let ps;e[325]!==F?(ps=()=>Ct(!F),e[325]=F,e[326]=ps):ps=e[326];let gs;e[327]!==F?(gs=F?s.jsx(Qt,{className:"w-4 h-4"}):s.jsx(Wt,{className:"w-4 h-4"}),e[327]=F,e[328]=gs):gs=e[328];let us;e[329]!==ps||e[330]!==gs?(us=s.jsx("button",{type:"button",onClick:ps,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:gs}),e[329]=ps,e[330]=gs,e[331]=us):us=e[331];let js;e[332]!==fs||e[333]!==us?(js=s.jsxs("div",{className:"relative",children:[fs,us]}),e[332]=fs,e[333]=us,e[334]=js):js=e[334];let vs;e[335]!==i.password_confirmation?(vs=i.password_confirmation&&s.jsx("p",{className:"text-xs text-red-600",children:i.password_confirmation}),e[335]=i.password_confirmation,e[336]=vs):vs=e[336];let bs;e[337]!==js||e[338]!==vs?(bs=s.jsxs("div",{className:"grid gap-2",children:[ft,js,vs]}),e[337]=js,e[338]=vs,e[339]=bs):bs=e[339];let _s;e[340]!==xs||e[341]!==bs?(_s=s.jsxs("div",{className:"grid gap-4",children:[xs,bs]}),e[340]=xs,e[341]=bs,e[342]=_s):_s=e[342];let Ns;e[343]!==as||e[344]!==_s?(Ns=s.jsxs("div",{className:"border-t pt-4",children:[as,_s]}),e[343]=as,e[344]=_s,e[345]=Ns):Ns=e[345];let ys;e[346]!==Ye||e[347]!==ts||e[348]!==Ns||e[349]!==Pe||e[350]!==Ge?(ys=s.jsxs("div",{className:"grid gap-4 py-4",children:[Pe,Ge,Ye,ts,Ns]}),e[346]=Ye,e[347]=ts,e[348]=Ns,e[349]=Pe,e[350]=Ge,e[351]=ys):ys=e[351];let ws;e[352]!==k?(ws=s.jsx(j,{type:"button",variant:"outline",onClick:Gs,disabled:k,children:"Cancelar"}),e[352]=k,e[353]=ws):ws=e[353];const Ht=k?"Guardando...":h?"Crear Usuario":"Guardar Cambios";let Ss;e[354]!==k||e[355]!==Ht?(Ss=s.jsx(j,{type:"submit",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white",disabled:k,children:Ht}),e[354]=k,e[355]=Ht,e[356]=Ss):Ss=e[356];let Cs;e[357]!==ws||e[358]!==Ss?(Cs=s.jsxs(ha,{children:[ws,Ss]}),e[357]=ws,e[358]=Ss,e[359]=Cs):Cs=e[359];let Fs;e[360]!==Tt||e[361]!==ys||e[362]!==Cs||e[363]!==Te?(Fs=s.jsx(fa,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:s.jsxs("form",{onSubmit:Tt,children:[Te,ys,Cs]})}),e[360]=Tt,e[361]=ys,e[362]=Cs,e[363]=Te,e[364]=Fs):Fs=e[364];let ks;e[365]!==_t||e[366]!==Fs?(ks=s.jsx(pa,{open:_t,onOpenChange:Gs,children:Fs}),e[365]=_t,e[366]=Fs,e[367]=ks):ks=e[367];let pt;return e[368]!==ks||e[369]!==Fe?(pt=s.jsxs(s.Fragment,{children:[qs,Fe,ks]}),e[368]=ks,e[369]=Fe,e[370]=pt):pt=e[370],pt}function ya(bt,e){bt.stopPropagation(),N.post(`/administracion/usuarios/${e}/toggle-active`,{},{preserveScroll:!0,preserveState:!0})}export{Ba as default};
