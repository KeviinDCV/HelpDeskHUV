import{a as A,j as t,u as Oe,H as se,r as Le,c as he}from"./app-B_AdFHxQ.js";import{a as $,B as Pe}from"./button-RV_ZW570.js";import{g as te}from"./index-DKtf60Sy.js";import{X as De}from"./x-D8LCGsG-.js";import{E as Re}from"./eye-BdNP2xRR.js";import{C as Te,F as ie}from"./file-text-CiSZJdL6.js";import{A as ke}from"./arrow-left-D0EDIEpF.js";import{M as Fe}from"./monitor-DChohFxy.js";import{C as Me}from"./cpu-BpH-8nUY.js";/* empty css            *//**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],ae=$("Accessibility",Ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],Be=$("AlignJustify",$e);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],He=$("CircleHelp",qe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]],Ge=$("Contrast",ze);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],Ye=$("MousePointer2",We);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Je=$("RotateCcw",Ve);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ke=$("Send",Xe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Qe=$("Type",Ze);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],tt=$("ZoomIn",et);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ot=$("ZoomOut",rt);let re={},ge;function ee(r={}){re={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...r}}function d(r){return r?re[r]:re}function nt(r){ge=r}function T(){return ge}let Z={};function J(r,e){Z[r]=e}function q(r){var e;(e=Z[r])==null||e.call(Z)}function st(){Z={}}function X(r,e,o,s){return(r/=s/2)<1?o/2*r*r+e:-o/2*(--r*(r-2)-1)+e}function ve(r){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return r.flatMap(o=>{const s=o.matches(e),n=Array.from(o.querySelectorAll(e));return[...s?[o]:[],...n]}).filter(o=>getComputedStyle(o).pointerEvents!=="none"&&lt(o))}function xe(r){if(!r||at(r))return;const e=d("smoothScroll"),o=r.offsetHeight>window.innerHeight;r.scrollIntoView({behavior:!e||it(r)?"auto":"smooth",inline:"center",block:o?"start":"center"})}function it(r){if(!r||!r.parentElement)return;const e=r.parentElement;return e.scrollHeight>e.clientHeight}function at(r){const e=r.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function lt(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)}let Q={};function L(r,e){Q[r]=e}function u(r){return r?Q[r]:Q}function le(){Q={}}function ct(r,e,o,s){let n=u("__activeStagePosition");const c=n||o.getBoundingClientRect(),p=s.getBoundingClientRect(),x=X(r,c.x,p.x-c.x,e),l=X(r,c.y,p.y-c.y,e),m=X(r,c.width,p.width-c.width,e),h=X(r,c.height,p.height-c.height,e);n={x,y:l,width:m,height:h},be(n),L("__activeStagePosition",n)}function fe(r){if(!r)return;const e=r.getBoundingClientRect(),o={x:e.x,y:e.y,width:e.width,height:e.height};L("__activeStagePosition",o),be(o)}function dt(){const r=u("__activeStagePosition"),e=u("__overlaySvg");if(!r)return;if(!e){console.warn("No stage svg found.");return}const o=window.innerWidth,s=window.innerHeight;e.setAttribute("viewBox",`0 0 ${o} ${s}`)}function pt(r){const e=ut(r);document.body.appendChild(e),Ee(e,o=>{o.target.tagName==="path"&&q("overlayClick")}),L("__overlaySvg",e)}function be(r){const e=u("__overlaySvg");if(!e){pt(r);return}const o=e.firstElementChild;if(o?.tagName!=="path")throw new Error("no path element found in stage svg");o.setAttribute("d",ye(r))}function ut(r){const e=window.innerWidth,o=window.innerHeight,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.classList.add("driver-overlay","driver-overlay-animated"),s.setAttribute("viewBox",`0 0 ${e} ${o}`),s.setAttribute("xmlSpace","preserve"),s.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),s.setAttribute("version","1.1"),s.setAttribute("preserveAspectRatio","xMinYMin slice"),s.style.fillRule="evenodd",s.style.clipRule="evenodd",s.style.strokeLinejoin="round",s.style.strokeMiterlimit="2",s.style.zIndex="10000",s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.width="100%",s.style.height="100%";const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",ye(r)),n.style.fill=d("overlayColor")||"rgb(0,0,0)",n.style.opacity=`${d("overlayOpacity")}`,n.style.pointerEvents="auto",n.style.cursor="auto",s.appendChild(n),s}function ye(r){const e=window.innerWidth,o=window.innerHeight,s=d("stagePadding")||0,n=d("stageRadius")||0,c=r.width+s*2,p=r.height+s*2,x=Math.min(n,c/2,p/2),l=Math.floor(Math.max(x,0)),m=r.x-s+l,h=r.y-s,f=c-l*2,a=p-l*2;return`M${e},0L0,0L0,${o}L${e},${o}L${e},0Z
    M${m},${h} h${f} a${l},${l} 0 0 1 ${l},${l} v${a} a${l},${l} 0 0 1 -${l},${l} h-${f} a${l},${l} 0 0 1 -${l},-${l} v-${a} a${l},${l} 0 0 1 ${l},-${l} z`}function mt(){const r=u("__overlaySvg");r&&r.remove()}function ht(){const r=document.getElementById("driver-dummy-element");if(r)return r;let e=document.createElement("div");return e.id="driver-dummy-element",e.style.width="0",e.style.height="0",e.style.pointerEvents="none",e.style.opacity="0",e.style.position="fixed",e.style.top="50%",e.style.left="50%",document.body.appendChild(e),e}function ce(r){const{element:e}=r;let o=typeof e=="function"?e():typeof e=="string"?document.querySelector(e):e;o||(o=ht()),vt(o,r)}function gt(){const r=u("__activeElement"),e=u("__activeStep");r&&(fe(r),dt(),Se(r,e))}function vt(r,e){var o;const s=Date.now(),n=u("__activeStep"),c=u("__activeElement")||r,p=!c||c===r,x=r.id==="driver-dummy-element",l=c.id==="driver-dummy-element",m=d("animate"),h=e.onHighlightStarted||d("onHighlightStarted"),f=e?.onHighlighted||d("onHighlighted"),a=n?.onDeselected||d("onDeselected"),i=d(),g=u();!p&&a&&a(l?void 0:c,n,{config:i,state:g,driver:T()}),h&&h(x?void 0:r,e,{config:i,state:g,driver:T()});const b=!p&&m;let v=!1;wt(),L("previousStep",n),L("previousElement",c),L("activeStep",e),L("activeElement",r);const y=()=>{if(u("__transitionCallback")!==y)return;const C=Date.now()-s,N=400-C<=400/2;e.popover&&N&&!v&&b&&(de(r,e),v=!0),d("animate")&&C<400?ct(C,400,c,r):(fe(r),f&&f(x?void 0:r,e,{config:d(),state:u(),driver:T()}),L("__transitionCallback",void 0),L("__previousStep",n),L("__previousElement",c),L("__activeStep",e),L("__activeElement",r)),window.requestAnimationFrame(y)};L("__transitionCallback",y),window.requestAnimationFrame(y),xe(r),!b&&e.popover&&de(r,e),c.classList.remove("driver-active-element","driver-no-interaction"),c.removeAttribute("aria-haspopup"),c.removeAttribute("aria-expanded"),c.removeAttribute("aria-controls"),((o=e.disableActiveInteraction)!=null?o:d("disableActiveInteraction"))&&r.classList.add("driver-no-interaction"),r.classList.add("driver-active-element"),r.setAttribute("aria-haspopup","dialog"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-controls","driver-popover-content")}function xt(){var r;(r=document.getElementById("driver-dummy-element"))==null||r.remove(),document.querySelectorAll(".driver-active-element").forEach(e=>{e.classList.remove("driver-active-element","driver-no-interaction"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-controls")})}function V(){const r=u("__resizeTimeout");r&&window.cancelAnimationFrame(r),L("__resizeTimeout",window.requestAnimationFrame(gt))}function ft(r){var e;if(!u("isInitialized")||!(r.key==="Tab"||r.keyCode===9))return;const o=u("__activeElement"),s=(e=u("popover"))==null?void 0:e.wrapper,n=ve([...s?[s]:[],...o?[o]:[]]),c=n[0],p=n[n.length-1];if(r.preventDefault(),r.shiftKey){const x=n[n.indexOf(document.activeElement)-1]||p;x?.focus()}else{const x=n[n.indexOf(document.activeElement)+1]||c;x?.focus()}}function we(r){var e;((e=d("allowKeyboardControl"))==null||e)&&(r.key==="Escape"?q("escapePress"):r.key==="ArrowRight"?q("arrowRightPress"):r.key==="ArrowLeft"&&q("arrowLeftPress"))}function Ee(r,e,o){const s=(n,c)=>{const p=n.target;r.contains(p)&&((!o||o(p))&&(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation()),c?.(n))};document.addEventListener("pointerdown",s,!0),document.addEventListener("mousedown",s,!0),document.addEventListener("pointerup",s,!0),document.addEventListener("mouseup",s,!0),document.addEventListener("click",n=>{s(n,e)},!0)}function bt(){window.addEventListener("keyup",we,!1),window.addEventListener("keydown",ft,!1),window.addEventListener("resize",V),window.addEventListener("scroll",V)}function yt(){window.removeEventListener("keyup",we),window.removeEventListener("resize",V),window.removeEventListener("scroll",V)}function wt(){const r=u("popover");r&&(r.wrapper.style.display="none")}function de(r,e){var o,s;let n=u("popover");n&&document.body.removeChild(n.wrapper),n=Ct(),document.body.appendChild(n.wrapper);const{title:c,description:p,showButtons:x,disableButtons:l,showProgress:m,nextBtnText:h=d("nextBtnText")||"Next &rarr;",prevBtnText:f=d("prevBtnText")||"&larr; Previous",progressText:a=d("progressText")||"{current} of {total}"}=e.popover||{};n.nextButton.innerHTML=h,n.previousButton.innerHTML=f,n.progress.innerHTML=a,c?(n.title.innerHTML=c,n.title.style.display="block"):n.title.style.display="none",p?(n.description.innerHTML=p,n.description.style.display="block"):n.description.style.display="none";const i=x||d("showButtons"),g=m||d("showProgress")||!1,b=i?.includes("next")||i?.includes("previous")||g;n.closeButton.style.display=i.includes("close")?"block":"none",b?(n.footer.style.display="flex",n.progress.style.display=g?"block":"none",n.nextButton.style.display=i.includes("next")?"block":"none",n.previousButton.style.display=i.includes("previous")?"block":"none"):n.footer.style.display="none";const v=l||d("disableButtons")||[];v!=null&&v.includes("next")&&(n.nextButton.disabled=!0,n.nextButton.classList.add("driver-popover-btn-disabled")),v!=null&&v.includes("previous")&&(n.previousButton.disabled=!0,n.previousButton.classList.add("driver-popover-btn-disabled")),v!=null&&v.includes("close")&&(n.closeButton.disabled=!0,n.closeButton.classList.add("driver-popover-btn-disabled"));const y=n.wrapper;y.style.display="block",y.style.left="",y.style.top="",y.style.bottom="",y.style.right="",y.id="driver-popover-content",y.setAttribute("role","dialog"),y.setAttribute("aria-labelledby","driver-popover-title"),y.setAttribute("aria-describedby","driver-popover-description");const C=n.arrow;C.className="driver-popover-arrow";const N=((o=e.popover)==null?void 0:o.popoverClass)||d("popoverClass")||"";y.className=`driver-popover ${N}`.trim(),Ee(n.wrapper,F=>{var H,z,G;const w=F.target,I=((H=e.popover)==null?void 0:H.onNextClick)||d("onNextClick"),O=((z=e.popover)==null?void 0:z.onPrevClick)||d("onPrevClick"),k=((G=e.popover)==null?void 0:G.onCloseClick)||d("onCloseClick");if(w.closest(".driver-popover-next-btn"))return I?I(r,e,{config:d(),state:u(),driver:T()}):q("nextClick");if(w.closest(".driver-popover-prev-btn"))return O?O(r,e,{config:d(),state:u(),driver:T()}):q("prevClick");if(w.closest(".driver-popover-close-btn"))return k?k(r,e,{config:d(),state:u(),driver:T()}):q("closeClick")},F=>!(n!=null&&n.description.contains(F))&&!(n!=null&&n.title.contains(F))&&typeof F.className=="string"&&F.className.includes("driver-popover")),L("popover",n);const j=((s=e.popover)==null?void 0:s.onPopoverRender)||d("onPopoverRender");j&&j(n,{config:d(),state:u(),driver:T()}),Se(r,e),xe(y);const _=r.classList.contains("driver-dummy-element"),E=ve([y,..._?[]:[r]]);E.length>0&&E[0].focus()}function Ce(){const r=u("popover");if(!(r!=null&&r.wrapper))return;const e=r.wrapper.getBoundingClientRect(),o=d("stagePadding")||0,s=d("popoverOffset")||0;return{width:e.width+o+s,height:e.height+o+s,realWidth:e.width,realHeight:e.height}}function pe(r,e){const{elementDimensions:o,popoverDimensions:s,popoverPadding:n,popoverArrowDimensions:c}=e;return r==="start"?Math.max(Math.min(o.top-n,window.innerHeight-s.realHeight-c.width),c.width):r==="end"?Math.max(Math.min(o.top-s?.realHeight+o.height+n,window.innerHeight-s?.realHeight-c.width),c.width):r==="center"?Math.max(Math.min(o.top+o.height/2-s?.realHeight/2,window.innerHeight-s?.realHeight-c.width),c.width):0}function ue(r,e){const{elementDimensions:o,popoverDimensions:s,popoverPadding:n,popoverArrowDimensions:c}=e;return r==="start"?Math.max(Math.min(o.left-n,window.innerWidth-s.realWidth-c.width),c.width):r==="end"?Math.max(Math.min(o.left-s?.realWidth+o.width+n,window.innerWidth-s?.realWidth-c.width),c.width):r==="center"?Math.max(Math.min(o.left+o.width/2-s?.realWidth/2,window.innerWidth-s?.realWidth-c.width),c.width):0}function Se(r,e){const o=u("popover");if(!o)return;const{align:s="start",side:n="left"}=e?.popover||{},c=s,p=r.id==="driver-dummy-element"?"over":n,x=d("stagePadding")||0,l=Ce(),m=o.arrow.getBoundingClientRect(),h=r.getBoundingClientRect(),f=h.top-l.height;let a=f>=0;const i=window.innerHeight-(h.bottom+l.height);let g=i>=0;const b=h.left-l.width;let v=b>=0;const y=window.innerWidth-(h.right+l.width);let C=y>=0;const N=!a&&!g&&!v&&!C;let j=p;if(p==="top"&&a?C=v=g=!1:p==="bottom"&&g?C=v=a=!1:p==="left"&&v?C=a=g=!1:p==="right"&&C&&(v=a=g=!1),p==="over"){const _=window.innerWidth/2-l.realWidth/2,E=window.innerHeight/2-l.realHeight/2;o.wrapper.style.left=`${_}px`,o.wrapper.style.right="auto",o.wrapper.style.top=`${E}px`,o.wrapper.style.bottom="auto"}else if(N){const _=window.innerWidth/2-l?.realWidth/2,E=10;o.wrapper.style.left=`${_}px`,o.wrapper.style.right="auto",o.wrapper.style.bottom=`${E}px`,o.wrapper.style.top="auto"}else if(v){const _=Math.min(b,window.innerWidth-l?.realWidth-m.width),E=pe(c,{elementDimensions:h,popoverDimensions:l,popoverPadding:x,popoverArrowDimensions:m});o.wrapper.style.left=`${_}px`,o.wrapper.style.top=`${E}px`,o.wrapper.style.bottom="auto",o.wrapper.style.right="auto",j="left"}else if(C){const _=Math.min(y,window.innerWidth-l?.realWidth-m.width),E=pe(c,{elementDimensions:h,popoverDimensions:l,popoverPadding:x,popoverArrowDimensions:m});o.wrapper.style.right=`${_}px`,o.wrapper.style.top=`${E}px`,o.wrapper.style.bottom="auto",o.wrapper.style.left="auto",j="right"}else if(a){const _=Math.min(f,window.innerHeight-l.realHeight-m.width);let E=ue(c,{elementDimensions:h,popoverDimensions:l,popoverPadding:x,popoverArrowDimensions:m});o.wrapper.style.top=`${_}px`,o.wrapper.style.left=`${E}px`,o.wrapper.style.bottom="auto",o.wrapper.style.right="auto",j="top"}else if(g){const _=Math.min(i,window.innerHeight-l?.realHeight-m.width);let E=ue(c,{elementDimensions:h,popoverDimensions:l,popoverPadding:x,popoverArrowDimensions:m});o.wrapper.style.left=`${E}px`,o.wrapper.style.bottom=`${_}px`,o.wrapper.style.top="auto",o.wrapper.style.right="auto",j="bottom"}N?o.arrow.classList.add("driver-popover-arrow-none"):Et(c,j,r)}function Et(r,e,o){const s=u("popover");if(!s)return;const n=o.getBoundingClientRect(),c=Ce(),p=s.arrow,x=c.width,l=window.innerWidth,m=n.width,h=n.left,f=c.height,a=window.innerHeight,i=n.top,g=n.height;p.className="driver-popover-arrow";let b=e,v=r;if(e==="top"?(h+m<=0?(b="right",v="end"):h+m-x<=0&&(b="top",v="start"),h>=l?(b="left",v="end"):h+x>=l&&(b="top",v="end")):e==="bottom"?(h+m<=0?(b="right",v="start"):h+m-x<=0&&(b="bottom",v="start"),h>=l?(b="left",v="start"):h+x>=l&&(b="bottom",v="end")):e==="left"?(i+g<=0?(b="bottom",v="end"):i+g-f<=0&&(b="left",v="start"),i>=a?(b="top",v="end"):i+f>=a&&(b="left",v="end")):e==="right"&&(i+g<=0?(b="bottom",v="start"):i+g-f<=0&&(b="right",v="start"),i>=a?(b="top",v="start"):i+f>=a&&(b="right",v="end")),!b)p.classList.add("driver-popover-arrow-none");else{p.classList.add(`driver-popover-arrow-side-${b}`),p.classList.add(`driver-popover-arrow-align-${v}`);const y=o.getBoundingClientRect(),C=p.getBoundingClientRect(),N=d("stagePadding")||0,j=y.left-N<window.innerWidth&&y.right+N>0&&y.top-N<window.innerHeight&&y.bottom+N>0;e==="bottom"&&j&&(C.x>y.x&&C.x+C.width<y.x+y.width?s.wrapper.style.transform="translateY(0)":(p.classList.remove(`driver-popover-arrow-align-${v}`),p.classList.add("driver-popover-arrow-none"),s.wrapper.style.transform=`translateY(-${N/2}px)`))}}function Ct(){const r=document.createElement("div");r.classList.add("driver-popover");const e=document.createElement("div");e.classList.add("driver-popover-arrow");const o=document.createElement("header");o.id="driver-popover-title",o.classList.add("driver-popover-title"),o.style.display="none",o.innerText="Popover Title";const s=document.createElement("div");s.id="driver-popover-description",s.classList.add("driver-popover-description"),s.style.display="none",s.innerText="Popover description is here";const n=document.createElement("button");n.type="button",n.classList.add("driver-popover-close-btn"),n.setAttribute("aria-label","Close"),n.innerHTML="&times;";const c=document.createElement("footer");c.classList.add("driver-popover-footer");const p=document.createElement("span");p.classList.add("driver-popover-progress-text"),p.innerText="";const x=document.createElement("span");x.classList.add("driver-popover-navigation-btns");const l=document.createElement("button");l.type="button",l.classList.add("driver-popover-prev-btn"),l.innerHTML="&larr; Previous";const m=document.createElement("button");return m.type="button",m.classList.add("driver-popover-next-btn"),m.innerHTML="Next &rarr;",x.appendChild(l),x.appendChild(m),c.appendChild(p),c.appendChild(x),r.appendChild(n),r.appendChild(e),r.appendChild(o),r.appendChild(s),r.appendChild(c),{wrapper:r,arrow:e,title:o,description:s,footer:c,previousButton:l,nextButton:m,closeButton:n,footerButtons:x,progress:p}}function St(){var r;const e=u("popover");e&&((r=e.wrapper.parentElement)==null||r.removeChild(e.wrapper))}function Nt(r={}){ee(r);function e(){d("allowClose")&&h()}function o(){const a=d("overlayClickBehavior");if(d("allowClose")&&a==="close"){h();return}if(typeof a=="function"){const i=u("__activeStep"),g=u("__activeElement");a(g,i,{config:d(),state:u(),driver:T()});return}a==="nextStep"&&s()}function s(){const a=u("activeIndex"),i=d("steps")||[];if(typeof a>"u")return;const g=a+1;i[g]?m(g):h()}function n(){const a=u("activeIndex"),i=d("steps")||[];if(typeof a>"u")return;const g=a-1;i[g]?m(g):h()}function c(a){(d("steps")||[])[a]?m(a):h()}function p(){var a;if(u("__transitionCallback"))return;const i=u("activeIndex"),g=u("__activeStep"),b=u("__activeElement");if(typeof i>"u"||typeof g>"u"||typeof u("activeIndex")>"u")return;const v=((a=g.popover)==null?void 0:a.onPrevClick)||d("onPrevClick");if(v)return v(b,g,{config:d(),state:u(),driver:T()});n()}function x(){var a;if(u("__transitionCallback"))return;const i=u("activeIndex"),g=u("__activeStep"),b=u("__activeElement");if(typeof i>"u"||typeof g>"u")return;const v=((a=g.popover)==null?void 0:a.onNextClick)||d("onNextClick");if(v)return v(b,g,{config:d(),state:u(),driver:T()});s()}function l(){u("isInitialized")||(L("isInitialized",!0),document.body.classList.add("driver-active",d("animate")?"driver-fade":"driver-simple"),bt(),J("overlayClick",o),J("escapePress",e),J("arrowLeftPress",p),J("arrowRightPress",x))}function m(a=0){var i,g,b,v,y,C,N,j;const _=d("steps");if(!_){console.error("No steps to drive through"),h();return}if(!_[a]){h();return}L("__activeOnDestroyed",document.activeElement),L("activeIndex",a);const E=_[a],F=_[a+1],H=_[a-1],z=((i=E.popover)==null?void 0:i.doneBtnText)||d("doneBtnText")||"Done",G=d("allowClose"),w=typeof((g=E.popover)==null?void 0:g.showProgress)<"u"?(b=E.popover)==null?void 0:b.showProgress:d("showProgress"),I=(((v=E.popover)==null?void 0:v.progressText)||d("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${a+1}`).replace("{{total}}",`${_.length}`),O=((y=E.popover)==null?void 0:y.showButtons)||d("showButtons"),k=["next","previous",...G?["close"]:[]].filter(S=>!(O!=null&&O.length)||O.includes(S)),W=((C=E.popover)==null?void 0:C.onNextClick)||d("onNextClick"),R=((N=E.popover)==null?void 0:N.onPrevClick)||d("onPrevClick"),D=((j=E.popover)==null?void 0:j.onCloseClick)||d("onCloseClick");ce({...E,popover:{showButtons:k,nextBtnText:F?void 0:z,disableButtons:[...H?[]:["previous"]],showProgress:w,progressText:I,onNextClick:W||(()=>{F?m(a+1):h()}),onPrevClick:R||(()=>{m(a-1)}),onCloseClick:D||(()=>{h()}),...E?.popover||{}}})}function h(a=!0){const i=u("__activeElement"),g=u("__activeStep"),b=u("__activeOnDestroyed"),v=d("onDestroyStarted");if(a&&v){const N=!i||i?.id==="driver-dummy-element";v(N?void 0:i,g,{config:d(),state:u(),driver:T()});return}const y=g?.onDeselected||d("onDeselected"),C=d("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),yt(),St(),xt(),mt(),st(),le(),i&&g){const N=i.id==="driver-dummy-element";y&&y(N?void 0:i,g,{config:d(),state:u(),driver:T()}),C&&C(N?void 0:i,g,{config:d(),state:u(),driver:T()})}b&&b.focus()}const f={isActive:()=>u("isInitialized")||!1,refresh:V,drive:(a=0)=>{l(),m(a)},setConfig:ee,setSteps:a=>{le(),ee({...d(),steps:a})},getConfig:d,getState:u,getActiveIndex:()=>u("activeIndex"),isFirstStep:()=>u("activeIndex")===0,isLastStep:()=>{const a=d("steps")||[],i=u("activeIndex");return i!==void 0&&i===a.length-1},getActiveStep:()=>u("activeStep"),getActiveElement:()=>u("activeElement"),getPreviousElement:()=>u("previousElement"),getPreviousStep:()=>u("previousStep"),moveNext:s,movePrevious:n,moveTo:c,hasNextStep:()=>{const a=d("steps")||[],i=u("activeIndex");return i!==void 0&&!!a[i+1]},hasPreviousStep:()=>{const a=d("steps")||[],i=u("activeIndex");return i!==void 0&&!!a[i-1]},highlight:a=>{l(),ce({...a,popover:a.popover?{showButtons:[],showProgress:!1,progressText:"",...a.popover}:void 0})},destroy:()=>{h(!1)}};return nt(f),f}const me={fontSize:100,highContrast:!1,grayscale:!1,textSpacing:!1,largeCursor:!1,readingGuide:!1};function _t(){const[r,e]=A.useState(!1),[o,s]=A.useState(me),[n,c]=A.useState(0);A.useEffect(()=>{const f=localStorage.getItem("accessibility_settings");if(f){const a=JSON.parse(f);s(a),p(a)}},[]),A.useEffect(()=>{localStorage.setItem("accessibility_settings",JSON.stringify(o)),p(o)},[o]),A.useEffect(()=>{if(!o.readingGuide)return;const f=a=>{c(a.clientY)};return window.addEventListener("mousemove",f),()=>window.removeEventListener("mousemove",f)},[o.readingGuide]);const p=f=>{const a=document.documentElement;a.style.fontSize=`${f.fontSize}%`,f.highContrast?a.classList.add("high-contrast"):a.classList.remove("high-contrast"),f.grayscale?a.classList.add("grayscale-mode"):a.classList.remove("grayscale-mode"),f.textSpacing?a.classList.add("text-spacing"):a.classList.remove("text-spacing"),f.largeCursor?a.classList.add("large-cursor"):a.classList.remove("large-cursor")},x=()=>{o.fontSize<150&&s({...o,fontSize:o.fontSize+10})},l=()=>{o.fontSize>80&&s({...o,fontSize:o.fontSize-10})},m=f=>{f!=="fontSize"&&s({...o,[f]:!o[f]})},h=()=>{s(me)};return t.jsxs(t.Fragment,{children:[t.jsx("style",{children:`
                /* Alto contraste - Modo oscuro con colores institucionales */
                .high-contrast {
                    --hc-bg: #000000;
                    --hc-bg-secondary: #0a1628;
                    --hc-text: #ffffff;
                    --hc-text-secondary: #93c5fd;
                    --hc-border: #60a5fa;
                    --hc-link: #67e8f9;
                    --hc-button-bg: #1e3a5f;
                    --hc-button-text: #ffffff;
                    --hc-input-bg: #0a1628;
                    --hc-accent: #60a5fa;
                }
                
                .high-contrast,
                .high-contrast body {
                    background-color: var(--hc-bg) !important;
                    color: var(--hc-text) !important;
                }
                
                /* Contenedores y cards */
                .high-contrast div,
                .high-contrast section,
                .high-contrast article,
                .high-contrast aside,
                .high-contrast main,
                .high-contrast header,
                .high-contrast footer,
                .high-contrast nav {
                    background-color: var(--hc-bg) !important;
                    color: var(--hc-text) !important;
                    border-color: var(--hc-border) !important;
                }
                
                /* Cards y paneles con fondo */
                .high-contrast [class*="bg-white"],
                .high-contrast [class*="bg-gray"],
                .high-contrast [class*="bg-slate"],
                .high-contrast [class*="bg-blue"],
                .high-contrast [class*="bg-green"],
                .high-contrast [class*="bg-red"],
                .high-contrast [class*="bg-yellow"],
                .high-contrast [class*="bg-orange"] {
                    background-color: var(--hc-bg-secondary) !important;
                    color: var(--hc-text) !important;
                }
                
                /* Textos - asegurar visibilidad */
                .high-contrast p,
                .high-contrast span,
                .high-contrast label,
                .high-contrast h1,
                .high-contrast h2,
                .high-contrast h3,
                .high-contrast h4,
                .high-contrast h5,
                .high-contrast h6,
                .high-contrast li,
                .high-contrast td,
                .high-contrast th {
                    color: var(--hc-text) !important;
                }
                
                /* Textos secundarios/grises - azul claro para contraste */
                .high-contrast [class*="text-gray"],
                .high-contrast [class*="text-slate"],
                .high-contrast [class*="text-zinc"],
                .high-contrast [class*="text-neutral"] {
                    color: var(--hc-text-secondary) !important;
                }
                
                /* Enlaces */
                .high-contrast a {
                    color: var(--hc-link) !important;
                    text-decoration: underline !important;
                }
                
                .high-contrast a:hover,
                .high-contrast a:focus {
                    color: #ffffff !important;
                    background-color: var(--hc-accent) !important;
                    outline: 2px solid var(--hc-accent) !important;
                }
                
                /* Botones */
                .high-contrast button,
                .high-contrast [role="button"],
                .high-contrast input[type="submit"],
                .high-contrast input[type="button"] {
                    background-color: var(--hc-button-bg) !important;
                    color: var(--hc-button-text) !important;
                    border: 2px solid var(--hc-border) !important;
                }
                
                .high-contrast button:hover,
                .high-contrast button:focus,
                .high-contrast [role="button"]:hover,
                .high-contrast [role="button"]:focus {
                    background-color: var(--hc-accent) !important;
                    color: #000000 !important;
                    outline: 3px solid var(--hc-accent) !important;
                }
                
                /* Inputs */
                .high-contrast input,
                .high-contrast textarea,
                .high-contrast select {
                    background-color: var(--hc-input-bg) !important;
                    color: var(--hc-text) !important;
                    border: 2px solid var(--hc-border) !important;
                }
                
                .high-contrast input::placeholder,
                .high-contrast textarea::placeholder {
                    color: #6b7280 !important;
                }
                
                .high-contrast input:focus,
                .high-contrast textarea:focus,
                .high-contrast select:focus {
                    outline: 3px solid var(--hc-accent) !important;
                    border-color: var(--hc-accent) !important;
                }
                
                /* Im√°genes - agregar borde para visibilidad */
                .high-contrast img {
                    border: 2px solid var(--hc-border) !important;
                }
                
                /* Iconos SVG */
                .high-contrast svg {
                    color: var(--hc-text) !important;
                    fill: currentColor !important;
                }
                
                /* Bordes generales */
                .high-contrast [class*="border"] {
                    border-color: var(--hc-border) !important;
                }
                
                /* Sombras - eliminar para claridad */
                .high-contrast [class*="shadow"] {
                    box-shadow: none !important;
                    border: 2px solid var(--hc-border) !important;
                }
                
                /* Badges y etiquetas */
                .high-contrast [class*="badge"],
                .high-contrast [class*="tag"],
                .high-contrast [class*="chip"] {
                    background-color: var(--hc-accent) !important;
                    color: #000000 !important;
                    border: 1px solid var(--hc-border) !important;
                }

                /* Escala de grises */
                .grayscale-mode {
                    filter: grayscale(100%) !important;
                }
                
                /* Espaciado de texto - mejora legibilidad */
                .text-spacing {
                    letter-spacing: 0.12em !important;
                    word-spacing: 0.16em !important;
                }
                
                .text-spacing p,
                .text-spacing span,
                .text-spacing div,
                .text-spacing label,
                .text-spacing input,
                .text-spacing textarea,
                .text-spacing button {
                    line-height: 1.8 !important;
                    letter-spacing: 0.12em !important;
                    word-spacing: 0.16em !important;
                }
                
                /* Cursor grande */
                .large-cursor, .large-cursor * {
                    cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 24 24' fill='black' stroke='white' stroke-width='1'%3E%3Cpath d='M4 4l7 19 2.5-7.5L21 13z'/%3E%3C/svg%3E") 0 0, auto !important;
                }
                
                /* Gu√≠a de lectura */
                .reading-guide-line {
                    position: fixed;
                    left: 0;
                    right: 0;
                    height: 40px;
                    background: rgba(96, 165, 250, 0.25);
                    pointer-events: none;
                    z-index: 9998;
                    border-top: 2px solid #60a5fa;
                    border-bottom: 2px solid #60a5fa;
                }
            `}),o.readingGuide&&t.jsx("div",{className:"reading-guide-line",style:{top:n-20}}),t.jsx("button",{id:"accessibility-button",onClick:()=>e(!r),className:"fixed left-4 bottom-4 z-[9999] w-14 h-14 bg-[#2d3e5e] hover:bg-[#3d5583] text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-300","aria-label":"Men√∫ de accesibilidad",title:"Opciones de accesibilidad",children:t.jsx(ae,{className:"w-7 h-7"})}),r&&t.jsxs("div",{className:"fixed left-4 bottom-20 z-[9999] w-80 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden animate-in slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"bg-[#2d3e5e] text-white px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ae,{className:"w-5 h-5"}),t.jsx("span",{className:"font-semibold",children:"Accesibilidad"})]}),t.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Cerrar men√∫",children:t.jsx(De,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[t.jsx(Qe,{className:"w-4 h-4"}),"Tama√±o de texto"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:l,disabled:o.fontSize<=80,className:"flex-1 py-2 px-3 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-1 transition-colors","aria-label":"Reducir tama√±o de texto",children:[t.jsx(ot,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:"A-"})]}),t.jsxs("span",{className:"w-16 text-center font-medium text-gray-700",children:[o.fontSize,"%"]}),t.jsxs("button",{onClick:x,disabled:o.fontSize>=150,className:"flex-1 py-2 px-3 bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg flex items-center justify-center gap-1 transition-colors","aria-label":"Aumentar tama√±o de texto",children:[t.jsx(tt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:"A+"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("button",{onClick:()=>m("highContrast"),className:`w-full py-3 px-4 rounded-lg flex items-center gap-3 transition-all ${o.highContrast?"bg-[#2d3e5e] text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,"aria-pressed":o.highContrast,children:[t.jsx(Ge,{className:"w-5 h-5"}),t.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Alto contraste"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${o.highContrast?"bg-white/20":"bg-gray-200"}`,children:o.highContrast?"ON":"OFF"})]}),t.jsxs("button",{onClick:()=>m("grayscale"),className:`w-full py-3 px-4 rounded-lg flex items-center gap-3 transition-all ${o.grayscale?"bg-[#2d3e5e] text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,"aria-pressed":o.grayscale,children:[t.jsx(Re,{className:"w-5 h-5"}),t.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Escala de grises"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${o.grayscale?"bg-white/20":"bg-gray-200"}`,children:o.grayscale?"ON":"OFF"})]}),t.jsxs("button",{onClick:()=>m("textSpacing"),className:`w-full py-3 px-4 rounded-lg flex items-center gap-3 transition-all ${o.textSpacing?"bg-[#2d3e5e] text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,"aria-pressed":o.textSpacing,children:[t.jsx(Be,{className:"w-5 h-5"}),t.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Espaciado de texto"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${o.textSpacing?"bg-white/20":"bg-gray-200"}`,children:o.textSpacing?"ON":"OFF"})]}),t.jsxs("button",{onClick:()=>m("largeCursor"),className:`w-full py-3 px-4 rounded-lg flex items-center gap-3 transition-all ${o.largeCursor?"bg-[#2d3e5e] text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,"aria-pressed":o.largeCursor,children:[t.jsx(Ye,{className:"w-5 h-5"}),t.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Cursor grande"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${o.largeCursor?"bg-white/20":"bg-gray-200"}`,children:o.largeCursor?"ON":"OFF"})]}),t.jsxs("button",{onClick:()=>m("readingGuide"),className:`w-full py-3 px-4 rounded-lg flex items-center gap-3 transition-all ${o.readingGuide?"bg-[#2d3e5e] text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,"aria-pressed":o.readingGuide,children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:t.jsx("div",{className:"w-5 h-1 bg-current rounded"})}),t.jsx("span",{className:"flex-1 text-left text-sm font-medium",children:"Gu√≠a de lectura"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${o.readingGuide?"bg-white/20":"bg-gray-200"}`,children:o.readingGuide?"ON":"OFF"})]})]}),t.jsxs("button",{onClick:h,className:"w-full py-2.5 px-4 border-2 border-gray-300 hover:border-gray-400 rounded-lg flex items-center justify-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[t.jsx(Je,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Restablecer todo"})]}),t.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Las preferencias se guardan autom√°ticamente"})]})]})]})}async function At(){if(typeof window>"u"||!window.puter)throw new Error("Puter.js no est√° cargado");try{await window.puter.auth.isSignedIn()||(console.log("Puter: Usuario no autenticado, creando sesi√≥n temporal..."),await window.puter.auth.signIn({attempt_temp_user_creation:!0}),console.log("Puter: Sesi√≥n temporal creada exitosamente"))}catch(r){console.warn("Puter: Error en autenticaci√≥n autom√°tica:",r)}}async function jt(r,e={}){if(typeof window>"u"||!window.puter)throw new Error("Puter.js no est√° cargado");await At();const s={...{model:"gpt-5-nano",stream:!1,max_tokens:500,temperature:.1},...e};try{const n=await window.puter.ai.chat(r,s);if(n&&n.message&&n.message.content)return n.message.content;if(typeof n=="string")return n;throw new Error("Respuesta inv√°lida de Puter.js")}catch(n){throw console.error("Error en Puter.js:",n),n}}function It(){return typeof window<"u"&&!!window.puter}const Ot={computer:"Computador",monitor:"Monitor",printer:"Impresora",phone:"Tel√©fono",network:"Red / Internet",software:"Programa / Sistema",other:"Otro"};function Ht(){const{props:r}=Oe(),e=r.flash,o=new URLSearchParams(window.location.search).get("from")==="dashboard",[s,n]=A.useState(!1),[c,p]=A.useState([{role:"assistant",content:`¬°Hola! üëã Soy Evarisbot, tu asistente para reportar problemas t√©cnicos en el Hospital.

Puedes empezar dici√©ndome tu nombre o directamente cont√°ndome el problema que tienes. ¬øC√≥mo te puedo ayudar?`}]),[x,l]=A.useState(""),[m,h]=A.useState(!1),[f,a]=A.useState([]),[i,g]=A.useState({reporter_name:"",reporter_position:"",reporter_service:"",reporter_extension:"",reporter_email:"",name:"",content:"",priority:"3",device_type:"",equipment_ecom:"",itilcategories_id:""}),b=A.useRef(null),v=A.useRef(null),y=A.useRef(null),C=A.useRef(null);A.useEffect(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[c]);const N=()=>{Nt({showProgress:!1,animate:!0,allowClose:!0,overlayColor:"rgba(0, 0, 0, 0.7)",stagePadding:8,nextBtnText:"Siguiente",prevBtnText:"Anterior",doneBtnText:"Entendido",steps:[{element:"#chat-header",popover:{title:"Bienvenido a Evarisbot",description:"Soy tu asistente virtual para reportar problemas t√©cnicos en el Hospital. Te guiar√© paso a paso para crear tu reporte de manera f√°cil y r√°pida.",side:"bottom",align:"center"}},{element:"#chat-messages",popover:{title:"√Årea de Conversaci√≥n",description:"Aqu√≠ ver√°s nuestra conversaci√≥n. Te har√© preguntas sobre tu problema y t√∫ solo responde de forma natural, como si hablaras con un compa√±ero.",side:"right",align:"center"}},{element:"#chat-input",popover:{title:"Escribe tu mensaje",description:`Escribe aqu√≠ tus respuestas. Puedes contarme:
‚Ä¢ Tu nombre y cargo
‚Ä¢ Qu√© problema tienes
‚Ä¢ En qu√© equipo o sistema

Presiona Enter o el bot√≥n azul para enviar.`,side:"top",align:"center"}},{element:"#summary-panel",popover:{title:"Resumen en Tiempo Real",description:"Mientras conversamos, ir√© completando este resumen autom√°ticamente. As√≠ podr√°s ver qu√© informaci√≥n ya tenemos y qu√© falta.",side:"left",align:"center"}},{element:"#submit-button",popover:{title:"Enviar tu Reporte",description:"Cuando el formulario est√© completo, este bot√≥n se activar√°. Haz clic para enviar tu reporte y recibir√°s un n√∫mero de caso para dar seguimiento.",side:"top",align:"center"}},{element:"#help-button",popover:{title:"¬øNecesitas ayuda?",description:"Si en cualquier momento necesitas ver este tutorial de nuevo, solo haz clic en este bot√≥n. ¬°Estoy aqu√≠ para ayudarte!",side:"left",align:"center"}},{element:"#accessibility-button",popover:{title:"Opciones de Accesibilidad",description:`Aqu√≠ puedes ajustar la visualizaci√≥n seg√∫n tus necesidades:
‚Ä¢ Aumentar o reducir el tama√±o del texto
‚Ä¢ Activar alto contraste
‚Ä¢ Espaciado de texto para mejor lectura
‚Ä¢ Cursor grande
‚Ä¢ Gu√≠a de lectura`,side:"right",align:"center"}}],onDestroyed:()=>{localStorage.setItem("helpdesk_tour_completed","true")}}).drive()};A.useEffect(()=>{if(!localStorage.getItem("helpdesk_tour_completed")){const I=setTimeout(()=>{N()},1e3);return()=>clearTimeout(I)}},[]);const j=()=>i.reporter_name&&i.reporter_position&&i.reporter_service&&i.name&&i.content,_=()=>{j()&&(n(!0),p(w=>[...w,{role:"assistant",content:"üì§ Enviando tu reporte... Por favor espera un momento."}]),Le.post("/reportar",{...i},{onSuccess:()=>{g({reporter_name:"",reporter_position:"",reporter_service:"",reporter_extension:"",reporter_email:"",name:"",content:"",priority:"3",device_type:"",equipment_ecom:"",itilcategories_id:""}),a([]),p([{role:"assistant",content:"¬°Hola! üëã Soy Evarisbot. Puedes empezar dici√©ndome tu nombre o cont√°ndome el problema. ¬øC√≥mo te puedo ayudar?"}]),n(!1)},onError:()=>{n(!1),p(w=>[...w,{role:"assistant",content:"‚ùå Hubo un problema al enviar. Por favor, intenta de nuevo."}])}}))},E=async()=>{if(!x.trim()||m)return;const w=x.trim();l(""),p(I=>[...I,{role:"user",content:w}]),h(!0),z();try{if(!It())throw new Error("Puter.js no est√° disponible");const I=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),k=await(await fetch("/chatbot-system-data",{method:"GET",headers:{Accept:"application/json","X-CSRF-TOKEN":I||""},credentials:"include"})).json(),R=[{role:"system",content:H(i,f,k.ecomList||[],k.categories||[])},...c.slice(-4).map(P=>({role:P.role,content:P.content})),{role:"user",content:w}],D=await jt(R,{model:"gpt-4o-mini",temperature:.01,max_tokens:500});console.log("Puter.js response:",D);const S=F(D);if(console.log("Parsed response:",S),S.fields&&typeof S.fields=="object"&&Object.keys(S.fields).length>0){console.log("Fields received:",S.fields);const P=[...f],Ne=["valor","valor1","valor2","dato_del_usuario","valor que dijo el usuario","titulo del problema","descripcion detallada","pendiente",""],M={...S.fields};M.reporter_extension&&typeof M.reporter_extension=="string"&&M.reporter_extension.toLowerCase().includes("ecom")&&(M.equipment_ecom||(M.equipment_ecom=M.reporter_extension.toLowerCase()),M.reporter_extension=""),M.device_type==="software"&&(M.device_type="computer");const U={...i};Object.entries(M).forEach(([B,Y])=>{if(Y&&typeof Y=="string"){const oe=Y.trim().toLowerCase();if(oe&&!Ne.includes(oe)){const ne=i[B]||"";(!ne||Y.trim().length>ne.length)&&(U[B]=Y.trim(),P.includes(B)||P.push(B))}}}),g(U),a(P);const _e=U.reporter_name&&U.reporter_position&&U.reporter_service&&U.name&&U.content,Ae=["computer","monitor"],je=U.equipment_ecom&&U.equipment_ecom.trim()!=="",Ie=Ae.includes(U.device_type||"")&&!je;_e&&!Ie?p(B=>[...B,{role:"assistant",content:'‚úÖ ¬°Listo! Tu reporte est√° completo. Revisa los datos y haz clic en "Enviar Reporte".'}]):S.message&&S.message.trim()&&p(B=>[...B,{role:"assistant",content:S.message}])}else S.message&&S.message.trim()&&p(P=>[...P,{role:"assistant",content:S.message}])}catch(I){console.error("Error en Puter.js:",I),p(O=>[...O,{role:"assistant",content:"Error de conexi√≥n. Verifica tu internet."}])}finally{h(!1),requestAnimationFrame(()=>C.current?.focus())}},F=w=>{let I={},O=w;const k=["reporter_name","reporter_position","reporter_service","reporter_extension","name","content","device_type","equipment_ecom","priority","itilcategories_id"],W=w.match(/\{FIELDS\}(.*?)\{\/FIELDS\}/si);if(W)try{const R=W[1].trim(),D=JSON.parse(R);typeof D=="object"&&(I=Object.fromEntries(Object.entries(D).filter(([S])=>k.includes(S)))),O=w.replace(/\{FIELDS\}.*?\{\/FIELDS\}/si,"").trim()}catch(R){console.error("Error parsing FIELDS:",R)}else{const R=w.match(/\{[^{}]*"[a-z_]+"\s*:\s*"[^"]*"[^{}]*\}/si);if(R)try{const D=JSON.parse(R[0]);if(typeof D=="object"){const S=Object.fromEntries(Object.entries(D).filter(([P])=>k.includes(P)));Object.keys(S).length>0&&(I=S,O=w.replace(R[0],"").trim())}}catch(D){console.error("Error parsing JSON:",D)}}return O=O.replace(/\{[^}]*\}/g,"").replace(/\s+/g," ").trim(),O||(O="Entendido. ¬øAlgo m√°s que necesites?"),{message:O,fields:I}},H=(w,I,O,k)=>{const R=Object.entries(w).filter(([S,P])=>P&&P!=="").map(([S,P])=>`${S}: "${P}"`).join(", ")||"Ninguno";O.slice(0,15).join(", ");const D=k.map(S=>`  - ${S.id} = ${S.name}`).join(`
`);return`Eres Evarisbot, asistente del Hospital Universitario del Valle para reportar problemas t√©cnicos.

DATOS YA CAPTURADOS: ${R}

=== REGLA #1 - LA M√ÅS IMPORTANTE ===
CADA VEZ que el usuario te diga algo (nombre, cargo, √°rea, extensi√≥n, problema), tu respuesta DEBE empezar con:
{FIELDS}{"campo": "valor"}{/FIELDS}

NO EXISTE NINGUNA EXCEPCI√ìN A ESTA REGLA. Si el usuario te da informaci√≥n, SIEMPRE usa {FIELDS}.

=== INSTRUCCI√ìN CR√çTICA - LEE ESTO PRIMERO ===
1. ANTES de pedir cualquier dato, VERIFICA si ya est√° en "DATOS YA CAPTURADOS"
2. Si "reporter_name" ya tiene valor ‚Üí NO pidas el nombre de nuevo
3. Si "reporter_position" ya tiene valor ‚Üí NO pidas el cargo de nuevo
4. Si "reporter_service" ya tiene valor ‚Üí NO pidas el √°rea de nuevo
5. Si "reporter_extension" ya tiene valor ‚Üí NO pidas la extensi√≥n de nuevo
6. Si "name" y "content" ya tienen valor ‚Üí NO pidas el problema de nuevo
7. EXTRAE TODOS los datos del mensaje del usuario EN UNA SOLA RESPUESTA
8. Si el usuario da m√∫ltiples datos, capt√∫ralos TODOS en el JSON

=== FORMATO OBLIGATORIO - MUY IMPORTANTE ===
SIEMPRE que el usuario proporcione CUALQUIER dato, debes responder con este formato EXACTO:
{FIELDS}{"campo1": "valor1", "campo2": "valor2"}{/FIELDS}
Mensaje breve aqu√≠.

CR√çTICO - EJEMPLOS DE LO QUE DEBES HACER:
Usuario: "Administrativo"
‚úÖ CORRECTO: {FIELDS}{"reporter_position": "Administrativo"}{/FIELDS} Perfecto. ¬øCu√°l es tu √°rea o servicio?
‚ùå INCORRECTO: Perfecto. ¬øCu√°l es tu √°rea o servicio?

Usuario: "Gesti√≥n de la informaci√≥n"
‚úÖ CORRECTO: {FIELDS}{"reporter_service": "Gesti√≥n de la informaci√≥n"}{/FIELDS} Entendido. ¬øCu√°l es tu extensi√≥n telef√≥nica?
‚ùå INCORRECTO: Entendido. ¬øCu√°l es tu extensi√≥n telef√≥nica?

Usuario: "1319"
‚úÖ CORRECTO: {FIELDS}{"reporter_extension": "1319"}{/FIELDS} Gracias. ¬øCu√°l es el problema que tienes?
‚ùå INCORRECTO: Gracias. ¬øCu√°l es el problema que tienes?

REGLA ABSOLUTA: Si el usuario te da informaci√≥n, SIEMPRE empieza tu respuesta con {FIELDS}...{/FIELDS}

=== CAMPOS A CAPTURAR ===
1. reporter_name: Nombre completo del REPORTANTE (quien reporta el problema)
2. reporter_position: Cargo del reportante (Administrativo/M√©dico/Enfermero/T√©cnico/Auxiliar/Otro)
3. reporter_service: √Årea/Servicio del reportante (Urgencias/UCI/Laboratorio/Farmacia/etc)
4. reporter_extension: Extensi√≥n telef√≥nica del reportante (4 d√≠gitos)
5. name: T√≠tulo corto del problema
6. content: Descripci√≥n COMPLETA del problema (incluye si es de usuario externo/paciente)
7. device_type: computer|printer|monitor|phone|network|other
8. equipment_ecom: C√≥digo ECOM (SOLO si es computer/monitor Y el equipo est√° EN el hospital)
9. itilcategories_id: ID de categor√≠a (ver lista abajo)
10. priority: 3 (siempre)

=== VERIFICACI√ìN DE DATOS ANTES DE PREGUNTAR ===
ANTES de hacer cualquier pregunta, verifica qu√© datos YA TIENES en "DATOS YA CAPTURADOS":

SI YA TIENES:
- reporter_name, reporter_position, reporter_service, reporter_extension, name, content
- Y device_type NO es "computer" ni "monitor"
‚Üí {FIELDS}{}{/FIELDS} ¬°Listo! Revisa los datos y env√≠a el reporte.

SI YA TIENES:
- reporter_name, reporter_position="Usuario externo", reporter_service="N/A", name, content
- Y NO tienes reporter_extension
‚Üí {FIELDS}{"reporter_extension": "N/A"}{/FIELDS} ¬°Listo! Revisa los datos y env√≠a el reporte.

SI YA TIENES:
- reporter_name, reporter_position, reporter_service, reporter_extension, name, content
- Y device_type es "computer" o "monitor" pero NO tienes equipment_ecom
‚Üí Pide ECOM: "¬øCu√°l es el c√≥digo ECOM del equipo? (Etiqueta en el CPU)"

SI YA TIENES:
- reporter_name, reporter_position="Usuario externo", reporter_service="N/A"
- Pero NO tienes name ni content
‚Üí Pide problema: "¬øCu√°l es el problema que tienes?"

SI YA TIENES:
- reporter_name, reporter_position, reporter_service, reporter_extension
- Pero NO tienes name ni content
‚Üí Pide problema: "¬øCu√°l es el problema que tienes?"

SI YA TIENES:
- reporter_name, reporter_position, reporter_service
- Pero NO tienes reporter_extension
- Y reporter_position NO es "Usuario externo"
‚Üí Pide extensi√≥n: "¬øCu√°l es tu extensi√≥n telef√≥nica?"

SI YA TIENES:
- reporter_name, reporter_position
- Pero NO tienes reporter_service
- Y reporter_position NO es "Usuario externo"
‚Üí Pide √°rea: "¬øCu√°l es tu √°rea o servicio?"

SI YA TIENES:
- reporter_name
- Pero NO tienes reporter_position
‚Üí Pide cargo: "¬øCu√°l es tu cargo?"

SI NO TIENES reporter_name:
‚Üí Pide nombre: "¬øCu√°l es tu nombre completo?"

=== FLUJO FLEXIBLE (NO R√çGIDO) ===
OPCI√ìN A - Usuario empieza con su nombre:
1. Captura nombre ‚Üí Pide cargo
2. Captura cargo ‚Üí Pide √°rea/servicio
3. Captura servicio ‚Üí Pide extensi√≥n
4. Captura extensi√≥n ‚Üí Pide problema

OPCI√ìN B - Usuario empieza describiendo el problema:
1. Captura el problema (name, content, device_type, category)
2. Luego pide: "Entendido. ¬øCu√°l es tu nombre completo?"
3. Contin√∫a con cargo, servicio, extensi√≥n

OPCI√ìN C - Usuario da todo junto:
1. Extrae TODO lo que diga en un solo JSON
2. Pide solo lo que falte seg√∫n la VERIFICACI√ìN DE DATOS

=== DETECCI√ìN DE USUARIOS EXTERNOS ===
Si el usuario dice que es:
- "Usuario del HUV", "Paciente", "Usuario externo", "No trabajo aqu√≠", "Soy paciente"
‚Üí Es un USUARIO EXTERNO (no es empleado del hospital)

CUANDO DETECTES UN USUARIO EXTERNO:
1. Captura: {FIELDS}{"reporter_position": "Usuario externo", "reporter_service": "N/A"}{/FIELDS}
2. NO pidas cargo ni √°rea (ya los llenaste)
3. Contin√∫a pidiendo el problema
4. NO pidas extensi√≥n (usuarios externos no tienen)
5. Cuando pidas extensi√≥n y diga "no tengo", captura: {FIELDS}{"reporter_extension": "N/A"}{/FIELDS}

EJEMPLO CORRECTO - Usuario externo:
Usuario: "Soy paciente del HUV"
{FIELDS}{"reporter_position": "Usuario externo", "reporter_service": "N/A"}{/FIELDS}
Entendido. ¬øCu√°l es el problema que tienes?

Usuario: "No puedo ingresar a la p√°gina de citas"
{FIELDS}{"name": "...", "content": "...", "device_type": "other", "itilcategories_id": "2", "reporter_extension": "N/A"}{/FIELDS}
¬°Listo! Revisa los datos y env√≠a el reporte.

=== DETECCI√ìN DE CONTEXTO ===
Si el usuario menciona:
- "usuario del HUV", "paciente", "persona externa", "alguien de afuera", "usuario no puede ingresar"
‚Üí El problema es de alguien EXTERNO al hospital
‚Üí En content agrega: "Problema reportado por usuario externo/paciente"
‚Üí NO pidas ECOM (no aplica para usuarios externos)
‚Üí device_type = "other"

Si el problema es:
- P√°gina web, portal, sistema online, citas online, registro online
‚Üí NO pidas ECOM (problemas web no requieren ECOM del equipo del usuario)
‚Üí device_type = "other"

=== CU√ÅNDO PEDIR ECOM ===
SOLO pide ECOM si:
1. device_type es "computer" o "monitor"
2. Y el problema es en un equipo DENTRO del hospital
3. Y el usuario NO dice "no tiene ECOM" o "sin ECOM"

NO pidas ECOM si:
- device_type es "printer", "phone", "network", "other"
- El problema es de un usuario externo/paciente
- El problema es en p√°gina web/portal online
- El usuario dice "no tiene ECOM" o "sin ECOM"

Si el usuario dice "no tiene ECOM":
{FIELDS}{"equipment_ecom": "N/A"}{/FIELDS}
¬°Listo! Revisa los datos y env√≠a el reporte.

=== CATEGOR√çAS DISPONIBLES (itilcategories_id) ===
${D}

=== GU√çA DE CLASIFICACI√ìN - MUY IMPORTANTE ===
ANALIZA las palabras clave del problema y selecciona la categor√≠a correcta:

CATEGOR√çA 2 (Software):
- Problemas con PROGRAMAS: SAP, Excel, Word, Outlook, navegador
- Problemas con SISTEMAS WEB: p√°ginas web, portales, sistemas online, citas online
- Problemas de ACCESO: no puede ingresar, clave incorrecta, usuario bloqueado
- Problemas de DATOS: actualizar datos, cambiar informaci√≥n, registros
- Errores de APLICACIONES: no abre, se cierra, error al guardar

CATEGOR√çA 14 (Redes):
- Problemas de CONEXI√ìN: sin internet, sin red, no conecta, WiFi no funciona
- Problemas de RED F√çSICA: cable desconectado, puerto de red
- Problemas de VELOCIDAD: internet lento, conexi√≥n intermitente
- SUBCATEGOR√çAS de configuraci√≥n de dispositivos de red:
  - "Configuraci√≥n switch" ‚Üí configuraci√≥n o problemas de switch de red
  - "Configuraci√≥n plato de wifi" ‚Üí configuraci√≥n o problemas de access point / plato WiFi
  - "Configuraci√≥n router" ‚Üí configuraci√≥n o problemas de router
  - "Configuraci√≥n Telefonia IP" ‚Üí configuraci√≥n de telefon√≠a IP en red

CATEGOR√çA 1 (Hardware):
- Problemas F√çSICOS del equipo: no enciende, apagado, pantalla negra
- Problemas de RENDIMIENTO: computador lento, se congela, pantalla azul
- Problemas de COMPONENTES: teclado, mouse, monitor f√≠sico da√±ado

CATEGOR√çA 6 (Equipos de Escritorio):
- Problemas espec√≠ficos de COMPUTADORES DE ESCRITORIO (torres/desktop)
- Solo usar si el problema es claramente de un PC de escritorio espec√≠fico

CATEGOR√çA 11 (Port√°tiles):
- Problemas espec√≠ficos de LAPTOPS/PORT√ÅTILES
- Solo usar si el usuario menciona expl√≠citamente "port√°til" o "laptop"

CATEGOR√çA 12 (Impresoras):
- Problemas de IMPRESI√ìN: no imprime, atasco de papel, toner
- Problemas de IMPRESORA F√çSICA: da√±ada, desconectada

CATEGOR√çA: Configuraci√≥n Telefonia IP (subcategor√≠a de Redes):
- Problemas de TEL√âFONO IP: sin tono, no suena, llamadas, extensi√≥n telef√≥nica IP
- Configuraci√≥n de tel√©fonos IP en la red

CATEGOR√çA 18 (Servinte):
- Problemas espec√≠ficos del SISTEMA SERVINTE del hospital

EJEMPLOS DE CLASIFICACI√ìN CORRECTA:
- "Actualizaci√≥n de datos en p√°gina de citas" ‚Üí CATEGOR√çA 2 (Software) - es un sistema web
- "Usuario no puede ingresar al portal" ‚Üí CATEGOR√çA 2 (Software) - problema de acceso web
- "Sin internet" ‚Üí CATEGOR√çA 14 (Redes) - problema de conexi√≥n
- "SAP no abre" ‚Üí CATEGOR√çA 2 (Software) - problema de aplicaci√≥n
- "Computador no enciende" ‚Üí CATEGOR√çA 1 (Hardware) - problema f√≠sico
- "Impresora no imprime" ‚Üí CATEGOR√çA 12 (Impresoras)
- "Tel√©fono sin tono" ‚Üí Redes > Configuraci√≥n Telefonia IP

REGLA CR√çTICA: Si el problema es de una P√ÅGINA WEB, PORTAL ONLINE, o SISTEMA WEB ‚Üí SIEMPRE usar CATEGOR√çA 2 (Software)

=== EJEMPLOS DE RESPUESTAS CORRECTAS ===

Ejemplo 1 - Usuario empieza con nombre:
Usuario: "Mi nombre es Juan P√©rez"
{FIELDS}{"reporter_name": "Juan P√©rez"}{/FIELDS}
Gracias Juan. ¬øCu√°l es tu cargo?

Usuario: "Administrativo"
{FIELDS}{"reporter_position": "Administrativo"}{/FIELDS}
Perfecto. ¬øCu√°l es tu √°rea o servicio?

Usuario: "Gesti√≥n de la informaci√≥n"
{FIELDS}{"reporter_service": "Gesti√≥n de la informaci√≥n"}{/FIELDS}
Entendido. ¬øCu√°l es tu extensi√≥n telef√≥nica?

Usuario: "No tengo"
{FIELDS}{"reporter_extension": "N/A"}{/FIELDS}
Gracias. ¬øCu√°l es el problema que tienes?

Ejemplo 2 - Usuario empieza con problema:
Usuario: "Un paciente no puede ingresar a la p√°gina de citas"
{FIELDS}{"name": "Paciente no puede ingresar a p√°gina de citas", "content": "Usuario externo reporta que no puede ingresar a la p√°gina de citas del hospital", "device_type": "other", "itilcategories_id": "2"}{/FIELDS}
Entendido. ¬øCu√°l es tu nombre completo?

Usuario: "Kevin David"
{FIELDS}{"reporter_name": "Kevin David"}{/FIELDS}
Gracias Kevin. ¬øCu√°l es tu cargo?

Usuario: "Administrativo"
{FIELDS}{"reporter_position": "Administrativo"}{/FIELDS}
Perfecto. ¬øCu√°l es tu √°rea o servicio?

Usuario: "De gesti√≥n de la informaci√≥n"
{FIELDS}{"reporter_service": "Gesti√≥n de la informaci√≥n"}{/FIELDS}
Entendido. ¬øCu√°l es tu extensi√≥n telef√≥nica?

Usuario: "No tengo"
{FIELDS}{"reporter_extension": "N/A"}{/FIELDS}
¬°Listo! Revisa los datos y env√≠a el reporte.

Ejemplo 2B - Usuario da nombre primero, luego problema:
Usuario: "Kevin David Chavarro"
{FIELDS}{"reporter_name": "Kevin David Chavarro"}{/FIELDS}
Gracias Kevin. ¬øCu√°l es tu cargo?

Usuario: "Administrativo"
{FIELDS}{"reporter_position": "Administrativo"}{/FIELDS}
Perfecto. ¬øCu√°l es tu √°rea o servicio?

Usuario: "Gesti√≥n de la informaci√≥n"
{FIELDS}{"reporter_service": "Gesti√≥n de la informaci√≥n"}{/FIELDS}
Entendido. ¬øCu√°l es tu extensi√≥n telef√≥nica?

Usuario: "Es 1313"
{FIELDS}{"reporter_extension": "1313"}{/FIELDS}
Gracias. ¬øCu√°l es el problema que tienes?

Usuario: "La impresora del CIAU est√° marcando error"
{FIELDS}{"name": "Impresora del CIAU con error", "content": "La impresora del CIAU est√° marcando error", "device_type": "printer", "itilcategories_id": "12"}{/FIELDS}
¬°Listo! Revisa los datos y env√≠a el reporte.

Ejemplo 3 - Problema de impresora:
Usuario: "La impresora no imprime"
{FIELDS}{"name": "Impresora no imprime", "content": "La impresora no est√° imprimiendo", "device_type": "printer", "itilcategories_id": "12"}{/FIELDS}
Entendido. ¬øCu√°l es tu nombre completo?

Ejemplo 4 - Usuario externo/paciente:
Usuario: "Jesus David Ruiz Ospina"
{FIELDS}{"reporter_name": "Jesus David Ruiz Ospina"}{/FIELDS}
Gracias Jes√∫s. ¬øCu√°l es tu cargo?

Usuario: "Usuario o paciente del HUV"
{FIELDS}{"reporter_position": "Usuario externo", "reporter_service": "N/A"}{/FIELDS}
Entendido. ¬øCu√°l es el problema que tienes?

Usuario: "Actualizaci√≥n de datos en la p√°gina de citas"
{FIELDS}{"name": "Actualizaci√≥n de datos en la p√°gina de citas", "content": "Problema reportado por usuario externo/paciente sobre la actualizaci√≥n de datos en la p√°gina de citas", "device_type": "other", "itilcategories_id": "2", "reporter_extension": "N/A"}{/FIELDS}
¬°Listo! Revisa los datos y env√≠a el reporte.

Ejemplo 5 - Usuario dice "no tiene ECOM":
Usuario: "No tiene ECOM"
{FIELDS}{"equipment_ecom": "N/A"}{/FIELDS}
¬°Listo! Revisa los datos y env√≠a el reporte.

Ejemplo 6 - Problema web:
Usuario: "Cambio de datos en plataforma de resultados"
{FIELDS}{"name": "Cambio de datos en plataforma de resultados", "content": "Se requiere cambio de datos en la plataforma de resultados", "device_type": "other", "itilcategories_id": "2"}{/FIELDS}
Entendido. ¬øCu√°l es tu nombre completo?

=== REGLAS ESTRICTAS ===
- SIEMPRE responde en espa√±ol
- SIEMPRE usa el formato {FIELDS}...{/FIELDS} cuando el usuario te da informaci√≥n
- NUNCA respondas solo con texto sin {FIELDS} cuando capturas datos
- S√â FLEXIBLE: No sigas un orden r√≠gido, adapta seg√∫n lo que el usuario diga
- NUNCA pidas ECOM si no aplica (impresoras, tel√©fonos, problemas web, usuarios externos)
- Si el usuario dice "no tiene ECOM" o "no tengo extensi√≥n", acepta "N/A" como valor v√°lido
- NUNCA repitas preguntas sobre datos ya capturados
- Mensajes CORTOS (m√°ximo 2 oraciones)
- NO uses emojis`},z=()=>{const w=y.current;w&&te.to(w,{scale:.85,duration:.1,ease:"power2.in",onComplete:()=>{te.to(w,{scale:1,duration:.3,ease:"elastic.out(1, 0.5)"})}})},G=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),w.stopPropagation(),E(),C.current?.focus())};return e?.success?t.jsxs(t.Fragment,{children:[t.jsx(se,{title:"Reporte Enviado - HelpDesk HUV"}),t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-[0_4px_20px_-2px_rgba(0,0,0,0.05)] border border-slate-100 p-8 max-w-md w-full text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-5",children:t.jsx(Te,{className:"w-8 h-8 text-green-600"})}),t.jsx("h1",{className:"text-xl font-bold text-[#2d3e5e] mb-2",children:"¬°Reporte Enviado!"}),t.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Tu reporte ha sido recibido y ser√° atendido por nuestro equipo t√©cnico."}),t.jsxs("div",{className:"bg-[#2d3e5e] text-white rounded-lg p-5 mb-6",children:[t.jsx("p",{className:"text-xs text-white/70 uppercase tracking-wider mb-1",children:"N√∫mero de caso"}),t.jsxs("p",{className:"text-3xl font-bold",children:["#",e.success.ticket_id]})]}),t.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Guarda este n√∫mero para hacer seguimiento de tu caso."}),t.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-[#2d3e5e] text-white py-3 px-6 rounded-lg font-semibold hover:bg-[#3d5583] transition-colors text-sm",children:"Crear Nuevo Reporte"})]})})]}):t.jsxs(t.Fragment,{children:[t.jsx(se,{title:"Reportar Problema - HelpDesk HUV"}),t.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col items-center p-3 sm:p-4 lg:p-6 overflow-hidden",children:[t.jsxs("header",{className:"w-full max-w-6xl mb-2 sm:mb-3 lg:mb-4 flex flex-col items-center shrink-0",children:[o&&t.jsx("div",{className:"w-full mb-2 sm:mb-3",children:t.jsxs("a",{href:"/dashboard",className:"inline-flex items-center gap-2 text-sm text-[#2c4370] hover:text-[#3d5583] transition-colors",children:[t.jsx(ke,{className:"w-4 h-4"}),t.jsx("span",{children:"Volver al Dashboard"})]})}),t.jsx("img",{src:"/images/huv-h.png",alt:"Hospital Universitario del Valle",className:"h-12 sm:h-16 lg:h-20 object-contain mb-1 sm:mb-2"}),t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-bold text-[#2d3e5e] tracking-tight leading-none",children:"Reporte Sistemas HUV"}),t.jsx("p",{className:"text-slate-400 text-[10px] sm:text-xs font-medium mt-0.5 sm:mt-1 hidden sm:block",children:"Chatbot de Soporte T√©cnico"})]})]}),t.jsxs("main",{className:"w-full max-w-6xl flex flex-col lg:grid lg:grid-cols-12 gap-3 sm:gap-4 flex-1 min-h-0 overflow-hidden",children:[t.jsxs("section",{className:"flex-1 lg:flex-none lg:col-span-8 bg-white rounded-xl shadow-[0_4px_20px_-2px_rgba(0,0,0,0.05)] flex flex-col overflow-hidden border border-slate-100 min-h-0",children:[t.jsxs("div",{id:"chat-header",className:"bg-[#2d3e5e] p-4 flex items-center justify-between z-10",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full overflow-hidden",children:t.jsx("img",{src:"/images/Evaris.png",alt:"Evarisbot",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-400 border-2 border-[#2d3e5e] rounded-full"})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-white font-semibold text-sm",children:"Evarisbot"}),t.jsx("p",{className:"text-white/70 text-[10px] uppercase tracking-wider font-medium",children:"En l√≠nea"})]})]}),t.jsx("button",{id:"help-button",onClick:N,className:"text-white/50 hover:text-white transition-colors rounded-full p-2",title:"Ver tutorial",children:t.jsx(He,{className:"w-5 h-5"})})]}),t.jsxs("div",{id:"chat-messages",ref:v,className:"flex-1 bg-white p-3 sm:p-4 lg:p-6 overflow-y-auto flex flex-col space-y-4 sm:space-y-5",style:{scrollbarWidth:"thin",scrollbarColor:"#e2e8f0 transparent"},children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("span",{className:"text-[10px] font-semibold text-slate-400 bg-slate-50 px-3 py-1 rounded-full uppercase tracking-wider",children:new Date().toLocaleDateString("es-ES",{weekday:"long",hour:"2-digit",minute:"2-digit"})})}),c.map((w,I)=>t.jsx(Lt,{message:w,isNew:I===c.length-1},I)),m&&t.jsxs("div",{className:"flex items-start space-x-3 max-w-[90%]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex-shrink-0 overflow-hidden",children:t.jsx("img",{src:"/images/Evaris.png",alt:"Evarisbot",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"bg-slate-50 px-4 py-3 rounded-2xl rounded-tl-none",children:t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"w-2 h-2 bg-[#2d3e5e] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-[#2d3e5e] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-[#2d3e5e] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),t.jsx("div",{ref:b})]}),t.jsxs("div",{id:"chat-input",className:"p-3 sm:p-4 bg-white border-t border-slate-100 shrink-0",children:[t.jsxs("form",{className:"relative flex items-center",onSubmit:w=>{w.preventDefault(),E()},children:[t.jsx("input",{ref:C,type:"text",value:x,onChange:w=>l(w.target.value),onKeyPress:G,placeholder:"Escribe tu mensaje...",className:"w-full bg-slate-50 text-slate-700 text-sm rounded-full py-3.5 pl-5 pr-14 focus:outline-none focus:ring-1 focus:ring-[#2d3e5e]/20 focus:bg-white transition-all border border-slate-200 placeholder-slate-400",autoFocus:!0}),t.jsx("div",{className:"absolute right-2 flex items-center",children:t.jsx("button",{ref:y,type:"submit",onClick:()=>{E(),C.current?.focus()},disabled:!x.trim()||m,className:"text-[#2d3e5e] hover:bg-blue-50 p-2 rounded-full transition-colors flex items-center justify-center disabled:opacity-40",children:t.jsx(Ke,{className:"w-5 h-5"})})})]}),t.jsx("p",{className:"text-[10px] text-slate-300 text-center mt-1.5 sm:mt-2 hidden sm:block",children:"Presiona Enter para enviar"})]})]}),t.jsx("aside",{id:"summary-panel",className:"lg:order-none shrink-0 lg:flex-1 lg:col-span-4 flex flex-col lg:h-full",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-[0_4px_20px_-2px_rgba(0,0,0,0.05)] flex flex-col h-full border border-slate-100 overflow-hidden",children:[t.jsx("div",{className:"p-3 sm:p-4 lg:p-5 bg-[#2d3e5e] shrink-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ie,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white/80"}),t.jsx("h3",{className:"text-white font-bold text-xs sm:text-sm uppercase tracking-wide",children:"Resumen"})]}),t.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${i.reporter_name?"bg-green-400":"bg-orange-400"}`}),t.jsx("span",{className:"text-[10px] text-white/70",children:j()?"Completo":"En progreso"})]})]})}),t.jsxs("div",{className:"flex-1 p-3 sm:p-4 lg:p-6 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#e2e8f0 transparent"},children:[t.jsxs("div",{className:"lg:hidden flex flex-wrap gap-2 text-xs",children:[t.jsx("div",{className:`px-2 py-1 rounded-full border ${i.reporter_name?"bg-green-50 border-green-200 text-green-700":"bg-slate-50 border-slate-200 text-slate-400"}`,children:i.reporter_name||"Nombre"}),t.jsx("div",{className:`px-2 py-1 rounded-full border ${i.reporter_position?"bg-green-50 border-green-200 text-green-700":"bg-slate-50 border-slate-200 text-slate-400"}`,children:i.reporter_position||"Cargo"}),t.jsx("div",{className:`px-2 py-1 rounded-full border ${i.reporter_service?"bg-green-50 border-green-200 text-green-700":"bg-slate-50 border-slate-200 text-slate-400"}`,children:i.reporter_service||"Servicio"}),i.name&&t.jsx("div",{className:"px-2 py-1 rounded-full border bg-blue-50 border-blue-200 text-blue-700 truncate max-w-[150px]",children:i.name})]}),t.jsxs("div",{className:"hidden lg:block space-y-8",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4",children:"Quien Reporta"}),t.jsxs("ul",{className:"space-y-5 border-l border-slate-100 ml-1.5 pl-5 relative",children:[t.jsx(K,{label:"Nombre",value:i.reporter_name,placeholder:"Pendiente...",isActive:!i.reporter_name}),t.jsx(K,{label:"Cargo",value:i.reporter_position,placeholder:"...",isActive:!!i.reporter_name&&!i.reporter_position}),t.jsx(K,{label:"Servicio",value:i.reporter_service,placeholder:"...",isActive:!!i.reporter_position&&!i.reporter_service}),i.reporter_extension&&t.jsx(K,{label:"Extensi√≥n",value:i.reporter_extension})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4",children:"El Problema"}),t.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-slate-50 rounded-lg border border-slate-100",children:[t.jsx(ie,{className:"w-4 h-4 text-slate-300 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"block text-xs text-slate-400 mb-1",children:"Descripci√≥n"}),i.name?t.jsx("span",{className:"block text-sm text-slate-800 font-medium",children:i.name}):t.jsx("span",{className:"block text-sm text-slate-300 italic",children:"T√≠tulo pendiente..."}),i.content&&t.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed",children:i.content})]})]}),i.device_type&&t.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-slate-500",children:[t.jsx(Fe,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:Ot[i.device_type]||i.device_type})]}),i.equipment_ecom&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-500",children:[t.jsx(Me,{className:"w-3.5 h-3.5"}),t.jsxs("span",{children:["ECOM: ",i.equipment_ecom]})]})]})]})]}),t.jsxs("div",{id:"submit-button",className:"p-3 sm:p-4 lg:p-5 bg-slate-50 border-t border-slate-100 shrink-0",children:[t.jsx(Pe,{onClick:_,disabled:!j()||s,className:`w-full py-3 px-4 rounded-lg font-semibold text-sm transition-all ${j()&&!s?"bg-[#2d3e5e] hover:bg-[#3d5583] text-white shadow-sm hover:shadow-md":"bg-white border border-slate-200 text-slate-300 cursor-not-allowed opacity-80"}`,children:s?"Enviando...":j()?"‚úì Enviar Reporte":"Completa la conversaci√≥n"}),t.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2 lg:mt-3 px-2 lg:px-4 leading-relaxed hidden sm:block",children:j()?"Revisa los datos y env√≠a tu reporte.":"Interact√∫a con el asistente para habilitar el env√≠o del reporte."})]})]})})]}),t.jsx(_t,{})]})]})}function Lt(r){const e=he.c(9),{message:o,isNew:s}=r,n=A.useRef(null),c=A.useRef(!1);let p,x;if(e[0]!==s||e[1]!==o.role?(p=()=>{if(n.current&&s&&!c.current){c.current=!0;const h=n.current,f=o.role==="user";te.fromTo(h,{opacity:0,y:20,scale:.97,transformOrigin:f?"bottom right":"bottom left"},{opacity:1,y:0,scale:1,duration:.35,ease:"power2.out",clearProps:"transform"})}},x=[s,o.role],e[0]=s,e[1]=o.role,e[2]=p,e[3]=x):(p=e[2],x=e[3]),A.useEffect(p,x),o.role==="user"){let h;return e[4]!==o.content?(h=t.jsx("div",{ref:n,className:"flex justify-end",children:t.jsx("div",{className:"max-w-[80%] bg-[#2d3e5e] text-white px-4 py-3 rounded-2xl rounded-br-sm text-sm leading-relaxed whitespace-pre-line",children:o.content})}),e[4]=o.content,e[5]=h):h=e[5],h}let l;e[6]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 flex-shrink-0 overflow-hidden mt-1",children:t.jsx("img",{src:"/images/Evaris.png",alt:"Evarisbot",className:"w-full h-full object-cover"})}),e[6]=l):l=e[6];let m;return e[7]!==o.content?(m=t.jsxs("div",{ref:n,className:"flex items-start space-x-3 max-w-[90%]",children:[l,t.jsx("div",{className:"flex flex-col space-y-2",children:t.jsx("div",{className:"bg-slate-50 p-3.5 rounded-2xl rounded-tl-none text-slate-600 text-sm leading-relaxed whitespace-pre-line",children:o.content})})]}),e[7]=o.content,e[8]=m):m=e[8],m}function K(r){const e=he.c(13),{label:o,value:s,placeholder:n,isActive:c}=r,p=!!s,x=`absolute -left-[25px] top-1 w-2.5 h-2.5 rounded-full ring-4 ring-white ${p?"bg-green-500":c?"bg-orange-400":"bg-slate-200"}`;let l;e[0]!==x?(l=t.jsx("span",{className:x}),e[0]=x,e[1]=l):l=e[1];let m;e[2]!==o?(m=t.jsx("span",{className:"text-xs text-slate-400 font-medium mb-1",children:o}),e[2]=o,e[3]=m):m=e[3];const h=`text-sm font-medium ${p?"text-slate-800":"text-slate-300 italic"}`,f=s||n;let a;e[4]!==h||e[5]!==f?(a=t.jsx("span",{className:h,children:f}),e[4]=h,e[5]=f,e[6]=a):a=e[6];let i;e[7]!==m||e[8]!==a?(i=t.jsxs("div",{className:"flex flex-col",children:[m,a]}),e[7]=m,e[8]=a,e[9]=i):i=e[9];let g;return e[10]!==l||e[11]!==i?(g=t.jsxs("li",{className:"relative",children:[l,i]}),e[10]=l,e[11]=i,e[12]=g):g=e[12],g}export{Ht as default};
