import{c as ht,R as b,j as s,r as w,H as ft,L as tt}from"./app-CdHCmM1T.js";import{G as gt,S as pt,T as ut,a as jt}from"./glpi-footer-BTGGfW4X.js";import{F as lt,T as v,b as Us,c as u,a as yt,d as bt,e as vt}from"./table-zTuKwa7x.js";import{B as p}from"./button-CXepNqqX.js";import{I as Gs}from"./input-DxqINm-0.js";import{D as at,b as rt,a as Nt,c as _t,d as it,e as ct}from"./dialog-CWoeitg8.js";import{S as Be,a as qe,b as Ue,c as Ge,d as i}from"./select-D3CzJZhl.js";import{X as nt}from"./index-D07sWKzV.js";import{C as wt,a as St}from"./chevrons-up-down-BtKbGPKc.js";import{A as Ct,a as Dt,C as Tt}from"./chevron-left-ALhSHFCi.js";import{S as Ft}from"./square-pen-DF049bkx.js";/* empty css            */import"./index-CLzG61MK.js";import"./index-DYjR1tfx.js";import"./index-CKt1LfiP.js";import"./refresh-cw-BkpD5L-M.js";import"./triangle-alert-RuDujS_C.js";import"./check-bsZcjS3v.js";import"./index-DGO3R10a.js";function Zt(f){const e=ht.c(273),{tickets:r,categories:Ts,technicians:Fs,filters:t,auth:N}=f,[_,Ks]=b.useState(t.search||""),[ks,Ke]=b.useState(!1),[D,Qs]=b.useState(null),[Es,Qe]=b.useState(!1),[o,ot]=b.useState(null),[T,dt]=b.useState(!1),[d,Xs]=b.useState(t.status||"all"),[x,Js]=b.useState(t.priority||"all"),[m,Ws]=b.useState(t.category||"all"),[h,Ys]=b.useState(t.assigned||"all"),[j,Zs]=b.useState(t.date_from||""),[y,et]=b.useState(t.date_to||""),S=d&&d!=="all"||x&&x!=="all"||m&&m!=="all"||h&&h!=="all"||j||y||t.filter;let Xe;e[0]!==t.filter?(Xe=()=>{switch(t.filter){case"unassigned":return"Sin asignar";case"my_cases":return"Mis casos";case"resolved_today":return"Resueltos hoy";default:return null}},e[0]=t.filter,e[1]=Xe):Xe=e[1];const Je=Xe;let We;e[2]!==t.direction||e[3]!==t.per_page||e[4]!==t.sort?(We=()=>{w.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction},{preserveState:!1})},e[2]=t.direction,e[3]=t.per_page,e[4]=t.sort,e[5]=We):We=e[5];const As=We;let Ye;e[6]!==N.user.id||e[7]!==N.user.role?(Ye=l=>N.user.role==="Administrador"?!0:N.user.role==="Técnico"?l.users_id_recipient===N.user.id:!1,e[6]=N.user.id,e[7]=N.user.role,e[8]=Ye):Ye=e[8];const Me=Ye;let Ze;e[9]!==N.user.role?(Ze=()=>N.user.role==="Administrador"||N.user.role==="Técnico",e[9]=N.user.role,e[10]=Ze):Ze=e[10];const g=Ze;let es;e[11]===Symbol.for("react.memo_cache_sentinel")?(es=l=>{Qs(l),Ke(!0)},e[11]=es):es=e[11];const xt=es;let ss;e[12]!==D?(ss=()=>{D&&w.delete(`/soporte/casos/${D.id}`,{preserveScroll:!0,onSuccess:()=>{Ke(!1),Qs(null)}})},e[12]=D,e[13]=ss):ss=e[13];const zs=ss;let ts;e[14]!==t?(ts=l=>{const a=t.sort===l&&t.direction==="asc"?"desc":"asc";w.get("/soporte/casos",{...t,sort:l,direction:a},{preserveState:!1,preserveScroll:!0})},e[14]=t,e[15]=ts):ts=e[15];const c=ts,Vs=zt;let ls;e[16]!==h||e[17]!==m||e[18]!==j||e[19]!==y||e[20]!==t.direction||e[21]!==t.per_page||e[22]!==t.sort||e[23]!==x||e[24]!==_||e[25]!==d?(ls=()=>{const l={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};_&&(l.search=_),d&&d!=="all"&&(l.status=d),x&&x!=="all"&&(l.priority=x),m&&m!=="all"&&(l.category=m),h&&h!=="all"&&(l.assigned=h),j&&(l.date_from=j),y&&(l.date_to=y),w.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!1,replace:!0})},e[16]=h,e[17]=m,e[18]=j,e[19]=y,e[20]=t.direction,e[21]=t.per_page,e[22]=t.sort,e[23]=x,e[24]=_,e[25]=d,e[26]=ls):ls=e[26];const F=ls;let as;e[27]!==t.assigned||e[28]!==t.category||e[29]!==t.date_from||e[30]!==t.date_to||e[31]!==t.direction||e[32]!==t.filter||e[33]!==t.priority||e[34]!==t.search||e[35]!==t.sort||e[36]!==t.status?(as=l=>{const a={per_page:l,sort:t.sort,direction:t.direction,page:1};t.search&&(a.search=t.search),t.status&&(a.status=t.status),t.priority&&(a.priority=t.priority),t.category&&(a.category=t.category),t.assigned&&(a.assigned=t.assigned),t.date_from&&(a.date_from=t.date_from),t.date_to&&(a.date_to=t.date_to),t.filter&&(a.filter=t.filter),w.get("/soporte/casos",a,{preserveState:!1,preserveScroll:!0})},e[27]=t.assigned,e[28]=t.category,e[29]=t.date_from,e[30]=t.date_to,e[31]=t.direction,e[32]=t.filter,e[33]=t.priority,e[34]=t.search,e[35]=t.sort,e[36]=t.status,e[37]=as):as=e[37];const Ls=as;let rs;e[38]!==h||e[39]!==m||e[40]!==j||e[41]!==y||e[42]!==t.direction||e[43]!==t.per_page||e[44]!==t.sort||e[45]!==x||e[46]!==_||e[47]!==d?(rs=()=>{const l={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};_&&(l.search=_),d&&d!=="all"&&(l.status=d),x&&x!=="all"&&(l.priority=x),m&&m!=="all"&&(l.category=m),h&&h!=="all"&&(l.assigned=h),j&&(l.date_from=j),y&&(l.date_to=y),console.log("Applying filters:",l),w.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!1,replace:!0})},e[38]=h,e[39]=m,e[40]=j,e[41]=y,e[42]=t.direction,e[43]=t.per_page,e[44]=t.sort,e[45]=x,e[46]=_,e[47]=d,e[48]=rs):rs=e[48];const Ps=rs;let is;e[49]!==t.direction||e[50]!==t.per_page||e[51]!==t.sort?(is=()=>{Xs("all"),Js("all"),Ws("all"),Ys("all"),Zs(""),et(""),Ks(""),w.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction,page:1},{preserveState:!1,preserveScroll:!1,replace:!0})},e[49]=t.direction,e[50]=t.per_page,e[51]=t.sort,e[52]=is):is=e[52];const Hs=is;let cs;e[53]!==t.direction||e[54]!==t.sort?(cs=l=>t.sort!==l?s.jsx(wt,{className:"h-3 w-3 ml-1 text-gray-400"}):t.direction==="asc"?s.jsx(Ct,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):s.jsx(Dt,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[53]=t.direction,e[54]=t.sort,e[55]=cs):cs=e[55];const n=cs,st=At;let ns;e[56]===Symbol.for("react.memo_cache_sentinel")?(ns=s.jsx(ft,{title:"HelpDesk HUV - Casos"}),e[56]=ns):ns=e[56];let os;e[57]===Symbol.for("react.memo_cache_sentinel")?(os=s.jsx(gt,{breadcrumb:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(tt,{href:"/dashboard",className:"text-gray-600 hover:text-[#2c4370] hover:underline",children:"Inicio"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx(tt,{href:"/soporte/casos",className:"text-gray-600 hover:text-[#2c4370] hover:underline",children:"Soporte"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Casos"})]})}),e[57]=os):os=e[57];let k;e[58]!==As||e[59]!==t.filter||e[60]!==Je||e[61]!==r.total?(k=t.filter&&s.jsxs("div",{className:"mb-4 bg-[#2c4370] text-white px-3 sm:px-4 py-2 sm:py-3 rounded-lg flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm sm:text-base",children:[s.jsx(lt,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"font-medium",children:Je()}),s.jsxs("span",{className:"text-white/70",children:["(",r.total,")"]})]}),s.jsxs("button",{onClick:As,className:"flex items-center gap-1 hover:bg-white/20 px-2 py-1 rounded transition-colors text-sm",children:[s.jsx(nt,{className:"w-4 h-4"}),s.jsx("span",{children:"Quitar"})]})]}),e[58]=As,e[59]=t.filter,e[60]=Je,e[61]=r.total,e[62]=k):k=e[62];const Os=t.filter?Je():"Casos";let E;e[63]!==Os?(E=s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:Os}),e[63]=Os,e[64]=E):E=e[64];let ds;e[65]===Symbol.for("react.memo_cache_sentinel")?(ds=l=>Ks(l.target.value),e[65]=ds):ds=e[65];let A;e[66]!==F?(A=l=>{l.key==="Enter"&&F()},e[66]=F,e[67]=A):A=e[67];let z;e[68]!==_||e[69]!==A?(z=s.jsx(Gs,{type:"text",placeholder:"Buscar...",className:"w-full sm:w-64 pr-10 h-9",value:_,onChange:ds,onKeyDown:A}),e[68]=_,e[69]=A,e[70]=z):z=e[70];let xs;e[71]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsx(pt,{className:"h-4 w-4"}),e[71]=xs):xs=e[71];let V;e[72]!==F?(V=s.jsx(p,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:F,children:xs}),e[72]=F,e[73]=V):V=e[73];let L;e[74]!==z||e[75]!==V?(L=s.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[z,V]}),e[74]=z,e[75]=V,e[76]=L):L=e[76];let P;e[77]!==T?(P=()=>dt(!T),e[77]=T,e[78]=P):P=e[78];const Is=`h-9 flex-1 sm:flex-initial ${S?"border-[#2c4370] text-[#2c4370]":""}`;let ms,hs;e[79]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsx(lt,{className:"h-4 w-4 sm:mr-1"}),hs=s.jsx("span",{className:"hidden sm:inline",children:"Filtros"}),e[79]=ms,e[80]=hs):(ms=e[79],hs=e[80]);let H;e[81]!==S?(H=S&&s.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"}),e[81]=S,e[82]=H):H=e[82];let O;e[83]!==P||e[84]!==Is||e[85]!==H?(O=s.jsxs(p,{variant:"outline",size:"sm",onClick:P,className:Is,children:[ms,hs,H]}),e[83]=P,e[84]=Is,e[85]=H,e[86]=O):O=e[86];let fs;e[87]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsxs(p,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9 flex-1 sm:flex-initial",children:[s.jsx("span",{className:"hidden sm:inline",children:"Exportar"}),s.jsx("span",{className:"sm:hidden",children:"Excel"})]}),e[87]=fs):fs=e[87];let I;e[88]!==O?(I=s.jsxs("div",{className:"flex items-center gap-2",children:[O,fs]}),e[88]=O,e[89]=I):I=e[89];let $;e[90]!==L||e[91]!==I?($=s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[L,I]}),e[90]=L,e[91]=I,e[92]=$):$=e[92];let R;e[93]!==E||e[94]!==$?(R=s.jsx("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[E,$]})}),e[93]=E,e[94]=$,e[95]=R):R=e[95];let M;e[96]!==Ps||e[97]!==h||e[98]!==Ts||e[99]!==m||e[100]!==Hs||e[101]!==j||e[102]!==y||e[103]!==S||e[104]!==x||e[105]!==T||e[106]!==d||e[107]!==Fs?(M=T&&s.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 sm:gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Estado"}),s.jsxs(Be,{value:d,onValueChange:Xs,children:[s.jsx(qe,{className:"h-8 text-xs",children:s.jsx(Ue,{placeholder:"Todos"})}),s.jsxs(Ge,{children:[s.jsx(i,{value:"all",children:"Todos"}),s.jsx(i,{value:"1",children:"Nuevo"}),s.jsx(i,{value:"2",children:"En curso (asignado)"}),s.jsx(i,{value:"3",children:"En curso (planificado)"}),s.jsx(i,{value:"4",children:"En espera"}),s.jsx(i,{value:"5",children:"Resuelto"}),s.jsx(i,{value:"6",children:"Cerrado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Prioridad"}),s.jsxs(Be,{value:x,onValueChange:Js,children:[s.jsx(qe,{className:"h-8 text-xs",children:s.jsx(Ue,{placeholder:"Todas"})}),s.jsxs(Ge,{children:[s.jsx(i,{value:"all",children:"Todas"}),s.jsx(i,{value:"1",children:"Muy baja"}),s.jsx(i,{value:"2",children:"Baja"}),s.jsx(i,{value:"3",children:"Media"}),s.jsx(i,{value:"4",children:"Alta"}),s.jsx(i,{value:"5",children:"Muy alta"}),s.jsx(i,{value:"6",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Asignado a"}),s.jsxs(Be,{value:h,onValueChange:Ys,children:[s.jsx(qe,{className:"h-8 text-xs",children:s.jsx(Ue,{placeholder:"Todos"})}),s.jsxs(Ge,{children:[s.jsx(i,{value:"all",children:"Todos"}),Fs.map(Et)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Categoría"}),s.jsxs(Be,{value:m,onValueChange:Ws,children:[s.jsx(qe,{className:"h-8 text-xs",children:s.jsx(Ue,{placeholder:"Todas"})}),s.jsxs(Ge,{children:[s.jsx(i,{value:"all",children:"Todas"}),Ts.map(kt)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Desde"}),s.jsx(Gs,{type:"date",value:j,onChange:l=>Zs(l.target.value),className:"h-8 text-xs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Hasta"}),s.jsx(Gs,{type:"date",value:y,onChange:l=>et(l.target.value),className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-3",children:[S&&s.jsxs(p,{variant:"ghost",size:"sm",onClick:Hs,className:"h-8 text-xs text-gray-600",children:[s.jsx(nt,{className:"h-3 w-3 mr-1"}),"Limpiar"]}),s.jsx(p,{size:"sm",onClick:Ps,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar"})]})]}),e[96]=Ps,e[97]=h,e[98]=Ts,e[99]=m,e[100]=Hs,e[101]=j,e[102]=y,e[103]=S,e[104]=x,e[105]=T,e[106]=d,e[107]=Fs,e[108]=M):M=e[108];let gs;e[109]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Mostrar"}),e[109]=gs):gs=e[109];let B;e[110]!==t.per_page?(B=t.per_page.toString(),e[110]=t.per_page,e[111]=B):B=e[111];let ps;e[112]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsx(qe,{className:"w-16 sm:w-20 h-7 sm:h-8 text-xs sm:text-sm",children:s.jsx(Ue,{placeholder:"15"})}),e[112]=ps):ps=e[112];let us;e[113]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsxs(Ge,{children:[s.jsx(i,{value:"15",children:"15"}),s.jsx(i,{value:"20",children:"20"}),s.jsx(i,{value:"50",children:"50"}),s.jsx(i,{value:"100",children:"100"})]}),e[113]=us):us=e[113];let q;e[114]!==Ls||e[115]!==B?(q=s.jsxs(Be,{value:B,onValueChange:Ls,children:[ps,us]}),e[114]=Ls,e[115]=B,e[116]=q):q=e[116];let js;e[117]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx("span",{className:"text-xs sm:text-sm text-gray-600 hidden sm:inline",children:"elementos"}),e[117]=js):js=e[117];let U;e[118]!==q?(U=s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[gs,q,js]}),e[118]=q,e[119]=U):U=e[119];let G;e[120]!==r.data.length?(G=s.jsx("span",{className:"font-medium",children:r.data.length}),e[120]=r.data.length,e[121]=G):G=e[121];let K;e[122]!==r.total?(K=s.jsx("span",{className:"font-medium",children:r.total}),e[122]=r.total,e[123]=K):K=e[123];let Q;e[124]!==G||e[125]!==K?(Q=s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[G," de"," ",K]}),e[124]=G,e[125]=K,e[126]=Q):Q=e[126];let X;e[127]!==U||e[128]!==Q?(X=s.jsxs("div",{className:"px-3 sm:px-6 py-2 sm:py-3 bg-gray-50 border-b flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[U,Q]}),e[127]=U,e[128]=Q,e[129]=X):X=e[129];let J;e[130]!==c?(J=()=>c("id"),e[130]=c,e[131]=J):J=e[131];let W;e[132]!==n?(W=s.jsxs("div",{className:"flex items-center",children:["ID",n("id")]}),e[132]=n,e[133]=W):W=e[133];let Y;e[134]!==J||e[135]!==W?(Y=s.jsx(v,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100 w-16",onClick:J,children:W}),e[134]=J,e[135]=W,e[136]=Y):Y=e[136];let Z;e[137]!==c?(Z=()=>c("name"),e[137]=c,e[138]=Z):Z=e[138];let ee;e[139]!==n?(ee=s.jsxs("div",{className:"flex items-center",children:["Título",n("name")]}),e[139]=n,e[140]=ee):ee=e[140];let se;e[141]!==Z||e[142]!==ee?(se=s.jsx(v,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:Z,children:ee}),e[141]=Z,e[142]=ee,e[143]=se):se=e[143];let te;e[144]!==c?(te=()=>c("status"),e[144]=c,e[145]=te):te=e[145];let le;e[146]!==n?(le=s.jsxs("div",{className:"flex items-center",children:["Estado",n("status")]}),e[146]=n,e[147]=le):le=e[147];let ae;e[148]!==te||e[149]!==le?(ae=s.jsx(v,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:te,children:le}),e[148]=te,e[149]=le,e[150]=ae):ae=e[150];let re;e[151]!==c?(re=()=>c("priority"),e[151]=c,e[152]=re):re=e[152];let ie;e[153]!==n?(ie=s.jsxs("div",{className:"flex items-center",children:["Prioridad",n("priority")]}),e[153]=n,e[154]=ie):ie=e[154];let ce;e[155]!==re||e[156]!==ie?(ce=s.jsx(v,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:re,children:ie}),e[155]=re,e[156]=ie,e[157]=ce):ce=e[157];let ne;e[158]!==c?(ne=()=>c("entity_name"),e[158]=c,e[159]=ne):ne=e[159];let oe;e[160]!==n?(oe=s.jsxs("div",{className:"flex items-center",children:["Entidad",n("entity_name")]}),e[160]=n,e[161]=oe):oe=e[161];let de;e[162]!==ne||e[163]!==oe?(de=s.jsx(v,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ne,children:oe}),e[162]=ne,e[163]=oe,e[164]=de):de=e[164];let xe;e[165]!==c?(xe=()=>c("date"),e[165]=c,e[166]=xe):xe=e[166];let me;e[167]!==n?(me=s.jsxs("div",{className:"flex items-center",children:["Fecha de apertura",n("date")]}),e[167]=n,e[168]=me):me=e[168];let he;e[169]!==xe||e[170]!==me?(he=s.jsx(v,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:xe,children:me}),e[169]=xe,e[170]=me,e[171]=he):he=e[171];let fe;e[172]!==c?(fe=()=>c("date_mod"),e[172]=c,e[173]=fe):fe=e[173];let ge;e[174]!==n?(ge=s.jsxs("div",{className:"flex items-center",children:["Última actualización",n("date_mod")]}),e[174]=n,e[175]=ge):ge=e[175];let pe;e[176]!==fe||e[177]!==ge?(pe=s.jsx(v,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:fe,children:ge}),e[176]=fe,e[177]=ge,e[178]=pe):pe=e[178];let ys,bs,vs,Ns;e[179]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx(v,{className:"font-semibold text-gray-900 text-xs",children:"Solicitante"}),bs=s.jsx(v,{className:"font-semibold text-gray-900 text-xs",children:"Asignado a"}),vs=s.jsx(v,{className:"font-semibold text-gray-900 text-xs",children:"Categoría"}),Ns=s.jsx(v,{className:"font-semibold text-gray-900 text-xs",children:"Elemento"}),e[179]=ys,e[180]=bs,e[181]=vs,e[182]=Ns):(ys=e[179],bs=e[180],vs=e[181],Ns=e[182]);let ue;e[183]!==g?(ue=g()&&s.jsx(v,{className:"font-semibold text-gray-900 text-xs text-center w-24",children:"Acciones"}),e[183]=g,e[184]=ue):ue=e[184];let je;e[185]!==Y||e[186]!==se||e[187]!==ae||e[188]!==ce||e[189]!==de||e[190]!==he||e[191]!==pe||e[192]!==ue?(je=s.jsx(yt,{children:s.jsxs(Us,{className:"bg-gray-50",children:[Y,se,ae,ce,de,he,pe,ys,bs,vs,Ns,ue]})}),e[185]=Y,e[186]=se,e[187]=ae,e[188]=ce,e[189]=de,e[190]=he,e[191]=pe,e[192]=ue,e[193]=je):je=e[193];let ye;if(e[194]!==Me||e[195]!==g||e[196]!==r.data){let l;e[198]!==Me||e[199]!==g?(l=a=>s.jsxs(Us,{className:"hover:bg-gray-50",children:[s.jsx(u,{className:"text-xs font-medium",children:a.id}),s.jsx(u,{className:"font-medium text-xs",children:s.jsx("button",{onClick:()=>{ot(a),Qe(!0)},className:"text-[#2c4370] hover:underline block truncate max-w-md text-left",title:a.name,children:a.name||"(Sin título)"})}),s.jsx(u,{className:"text-xs",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${st(a.status)}`,children:a.status_name})}),s.jsx(u,{className:"text-xs",children:a.priority_name}),s.jsx(u,{className:"text-xs",children:a.entity_name||"-"}),s.jsx(u,{className:"text-xs text-gray-600",children:a.date?new Date(a.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(u,{className:"text-xs text-gray-600",children:a.date_mod?new Date(a.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(u,{className:"text-xs",children:a.requester_name||"-"}),s.jsx(u,{className:"text-xs",children:a.assigned_name||"-"}),s.jsx(u,{className:"text-xs",children:a.category_name||"-"}),s.jsx(u,{className:"text-xs text-gray-600",children:a.item_name||"-"}),g()&&s.jsx(u,{className:"text-xs",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(p,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>w.visit(`/soporte/casos/${a.id}/editar`),title:"Editar",children:s.jsx(Ft,{className:"h-3.5 w-3.5"})}),Me(a)&&s.jsx(p,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",onClick:()=>xt(a),title:"Eliminar",children:s.jsx(ut,{className:"h-3.5 w-3.5"})})]})})]},a.id),e[198]=Me,e[199]=g,e[200]=l):l=e[200],ye=r.data.map(l),e[194]=Me,e[195]=g,e[196]=r.data,e[197]=ye}else ye=e[197];let be;e[201]!==g||e[202]!==r.data.length?(be=r.data.length===0&&s.jsx(Us,{children:s.jsx(u,{colSpan:g()?12:11,className:"text-center py-8 text-gray-500",children:"No se encontraron casos"})}),e[201]=g,e[202]=r.data.length,e[203]=be):be=e[203];let ve;e[204]!==ye||e[205]!==be?(ve=s.jsxs(bt,{children:[ye,be]}),e[204]=ye,e[205]=be,e[206]=ve):ve=e[206];let Ne;e[207]!==je||e[208]!==ve?(Ne=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(vt,{children:[je,ve]})}),e[207]=je,e[208]=ve,e[209]=Ne):Ne=e[209];let _e;e[210]!==r.current_page||e[211]!==r.last_page?(_e=s.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 order-2 sm:order-1",children:["Página ",r.current_page," de ",r.last_page]}),e[210]=r.current_page,e[211]=r.last_page,e[212]=_e):_e=e[212];let we;if(e[213]!==r.links){let l;e[215]!==r.links.length?(l=(a,C)=>{const mt=C===0||C===r.links.length-1||a.active;return C===0?s.jsx(p,{variant:"outline",size:"sm",disabled:!a.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50 h-8 w-8 p-0",onClick:()=>a.url&&Vs(a.url),children:s.jsx(Tt,{className:"h-4 w-4"})},C):C===r.links.length-1?s.jsx(p,{variant:"outline",size:"sm",disabled:!a.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50 h-8 w-8 p-0",onClick:()=>a.url&&Vs(a.url),children:s.jsx(St,{className:"h-4 w-4"})},C):s.jsx(p,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,className:`${mt?"":"hidden sm:inline-flex"} h-8 min-w-[32px] px-2 text-xs sm:text-sm ${a.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white"}`,onClick:()=>a.url&&Vs(a.url),children:s.jsx("span",{dangerouslySetInnerHTML:{__html:a.label}})},C)},e[215]=r.links.length,e[216]=l):l=e[216],we=r.links.map(l),e[213]=r.links,e[214]=we}else we=e[214];let Se;e[217]!==we?(Se=s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 order-1 sm:order-2 flex-wrap justify-center",children:we}),e[217]=we,e[218]=Se):Se=e[218];let Ce;e[219]!==_e||e[220]!==Se?(Ce=s.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-t flex flex-col sm:flex-row items-center justify-between gap-3",children:[_e,Se]}),e[219]=_e,e[220]=Se,e[221]=Ce):Ce=e[221];let De;e[222]!==R||e[223]!==M||e[224]!==X||e[225]!==Ne||e[226]!==Ce?(De=s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[R,M,X,Ne,Ce]}),e[222]=R,e[223]=M,e[224]=X,e[225]=Ne,e[226]=Ce,e[227]=De):De=e[227];let Te;e[228]!==k||e[229]!==De?(Te=s.jsxs("main",{className:"flex-1 px-3 sm:px-6 py-4 sm:py-6",children:[k,De]}),e[228]=k,e[229]=De,e[230]=Te):Te=e[230];let _s;e[231]===Symbol.for("react.memo_cache_sentinel")?(_s=s.jsx(jt,{}),e[231]=_s):_s=e[231];let Fe;e[232]!==Te?(Fe=s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[os,Te,_s]}),e[232]=Te,e[233]=Fe):Fe=e[233];let ws;e[234]===Symbol.for("react.memo_cache_sentinel")?(ws=s.jsx(at,{children:"Eliminar Caso"}),e[234]=ws):ws=e[234];const $s=D?.id;let ke;e[235]!==$s?(ke=s.jsxs("strong",{children:["#",$s]}),e[235]=$s,e[236]=ke):ke=e[236];let Ss;e[237]===Symbol.for("react.memo_cache_sentinel")?(Ss=s.jsx("br",{}),e[237]=Ss):Ss=e[237];const Rs=D?.name;let Ee;e[238]!==Rs?(Ee=s.jsx("span",{className:"text-gray-600",children:Rs}),e[238]=Rs,e[239]=Ee):Ee=e[239];let Ae;e[240]!==ke||e[241]!==Ee?(Ae=s.jsxs(rt,{children:[ws,s.jsxs(Nt,{children:["¿Está seguro que desea eliminar el caso ",ke,"?",Ss,Ee]})]}),e[240]=ke,e[241]=Ee,e[242]=Ae):Ae=e[242];let Cs;e[243]===Symbol.for("react.memo_cache_sentinel")?(Cs=s.jsx(p,{variant:"outline",onClick:()=>Ke(!1),children:"Cancelar"}),e[243]=Cs):Cs=e[243];let ze;e[244]!==zs?(ze=s.jsxs(_t,{className:"gap-2",children:[Cs,s.jsx(p,{variant:"destructive",onClick:zs,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]}),e[244]=zs,e[245]=ze):ze=e[245];let Ve;e[246]!==Ae||e[247]!==ze?(Ve=s.jsxs(it,{className:"sm:max-w-[425px]",children:[Ae,ze]}),e[246]=Ae,e[247]=ze,e[248]=Ve):Ve=e[248];let Le;e[249]!==ks||e[250]!==Ve?(Le=s.jsx(ct,{open:ks,onOpenChange:Ke,children:Ve}),e[249]=ks,e[250]=Ve,e[251]=Le):Le=e[251];const Ms=o?.id;let Pe;e[252]!==Ms?(Pe=s.jsxs("span",{className:"text-[#2c4370]",children:["Caso #",Ms]}),e[252]=Ms,e[253]=Pe):Pe=e[253];const Bs=`px-2 py-0.5 rounded-full text-[10px] font-semibold ${o?st(o.status):""}`,qs=o?.status_name;let He;e[254]!==Bs||e[255]!==qs?(He=s.jsx("span",{className:Bs,children:qs}),e[254]=Bs,e[255]=qs,e[256]=He):He=e[256];let Oe;e[257]!==He||e[258]!==Pe?(Oe=s.jsx(rt,{children:s.jsxs(at,{className:"flex items-center gap-2",children:[Pe,He]})}),e[257]=He,e[258]=Pe,e[259]=Oe):Oe=e[259];let Ie;e[260]!==g||e[261]!==o?(Ie=o&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:o.name})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Prioridad"}),s.jsx("span",{className:"font-medium",children:o.priority_name})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Entidad"}),s.jsx("span",{className:"font-medium",children:o.entity_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Fecha de Apertura"}),s.jsx("span",{className:"font-medium",children:o.date?new Date(o.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Última Actualización"}),s.jsx("span",{className:"font-medium",children:o.date_mod?new Date(o.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Solicitante"}),s.jsx("span",{className:"font-medium",children:o.requester_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Asignado a"}),s.jsx("span",{className:"font-medium",children:o.assigned_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded col-span-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Categoría"}),s.jsx("span",{className:"font-medium",children:o.category_name||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsx(p,{variant:"outline",size:"sm",onClick:()=>Qe(!1),className:"h-8 text-xs",children:"Cerrar"}),g()&&s.jsx(p,{size:"sm",onClick:()=>{Qe(!1),w.visit(`/soporte/casos/${o.id}/editar`)},className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Editar Caso"})]})]}),e[260]=g,e[261]=o,e[262]=Ie):Ie=e[262];let $e;e[263]!==Oe||e[264]!==Ie?($e=s.jsxs(it,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[Oe,Ie]}),e[263]=Oe,e[264]=Ie,e[265]=$e):$e=e[265];let Re;e[266]!==$e||e[267]!==Es?(Re=s.jsx(ct,{open:Es,onOpenChange:Qe,children:$e}),e[266]=$e,e[267]=Es,e[268]=Re):Re=e[268];let Ds;return e[269]!==Re||e[270]!==Fe||e[271]!==Le?(Ds=s.jsxs(s.Fragment,{children:[ns,Fe,Le,Re]}),e[269]=Re,e[270]=Fe,e[271]=Le,e[272]=Ds):Ds=e[272],Ds}function kt(f){return s.jsx(i,{value:f.id.toString(),children:f.completename},f.id)}function Et(f){return s.jsx(i,{value:f.id.toString(),children:f.fullname},f.id)}function At(f){switch(f){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-yellow-100 text-yellow-800";case 4:return"bg-orange-100 text-orange-800";case 5:return"bg-green-100 text-green-800";case 6:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function zt(f){f&&w.visit(f,{preserveScroll:!0})}export{Zt as default};
