import{c as st,R as j,j as s,r as S,H as tt}from"./app-BJBlDemD.js";import{G as lt,S as at,a as rt}from"./glpi-footer-CH3kkeLU.js";import{T as _,c as Is,d as y,A as it,a as ct,F as nt,b as ot,e as dt,f as xt,C as mt}from"./table-Coy6pu7H.js";import{c as ht,B as f}from"./button-BaGVI9f4.js";import{I as Ls}from"./input-B7muddwK.js";import{a as Xs,D as Js,b as gt,c as ft,d as Qs,e as Ws}from"./dialog-DLv4URjf.js";import{S as Re,a as $e,b as Be,c as qe,d as i}from"./select-xFfBaRx-.js";import{X as ut}from"./x-UMo-Xzo1.js";import{C as pt,a as jt}from"./chevrons-up-down-C_RkU0Pc.js";import{S as yt}from"./square-pen-BxCHvBJ3.js";/* empty css            */import"./index-CKX-i0tl.js";import"./index-DBkmAa2V.js";import"./index-CKhsOhdX.js";import"./index-5a3OkFP4.js";import"./index-Cz4bEAga.js";import"./check-RTwYO4DR.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],vt=ht("Trash2",bt);function $t(b){const e=st.c(250),{tickets:r,categories:_s,technicians:Ss,filters:t,auth:v}=b,[N,Os]=j.useState(t.search||""),[Cs,Ue]=j.useState(!1),[D,Ms]=j.useState(null),[ws,Ge]=j.useState(!1),[o,Ys]=j.useState(null),[T,Zs]=j.useState(!1),[d,Rs]=j.useState(t.status||"all"),[x,$s]=j.useState(t.priority||"all"),[m,Bs]=j.useState(t.category||"all"),[h,qs]=j.useState(t.assigned||"all"),[u,Us]=j.useState(t.date_from||""),[p,Gs]=j.useState(t.date_to||""),C=d&&d!=="all"||x&&x!=="all"||m&&m!=="all"||h&&h!=="all"||u||p;let Ke;e[0]!==v.user.id||e[1]!==v.user.role?(Ke=l=>v.user.role==="Administrador"?!0:v.user.role==="Técnico"?l.users_id_recipient===v.user.id:!1,e[0]=v.user.id,e[1]=v.user.role,e[2]=Ke):Ke=e[2];const Oe=Ke;let Xe;e[3]!==v.user.role?(Xe=()=>v.user.role==="Administrador"||v.user.role==="Técnico",e[3]=v.user.role,e[4]=Xe):Xe=e[4];const g=Xe;let Je;e[5]===Symbol.for("react.memo_cache_sentinel")?(Je=l=>{Ms(l),Ue(!0)},e[5]=Je):Je=e[5];const et=Je;let Qe;e[6]!==D?(Qe=()=>{D&&S.delete(`/soporte/casos/${D.id}`,{preserveScroll:!0,onSuccess:()=>{Ue(!1),Ms(null)}})},e[6]=D,e[7]=Qe):Qe=e[7];const Ds=Qe;let We;e[8]!==t?(We=l=>{const a=t.sort===l&&t.direction==="asc"?"desc":"asc";S.get("/soporte/casos",{...t,sort:l,direction:a},{preserveState:!1,preserveScroll:!0})},e[8]=t,e[9]=We):We=e[9];const c=We;let Ye;e[10]!==t?(Ye=l=>{l&&S.get(l,t,{preserveState:!0,preserveScroll:!0})},e[10]=t,e[11]=Ye):Ye=e[11];const w=Ye;let Ze;e[12]!==h||e[13]!==m||e[14]!==u||e[15]!==p||e[16]!==t.direction||e[17]!==t.per_page||e[18]!==t.sort||e[19]!==x||e[20]!==N||e[21]!==d?(Ze=()=>{const l={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};N&&(l.search=N),d&&d!=="all"&&(l.status=d),x&&x!=="all"&&(l.priority=x),m&&m!=="all"&&(l.category=m),h&&h!=="all"&&(l.assigned=h),u&&(l.date_from=u),p&&(l.date_to=p),S.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!1,replace:!0})},e[12]=h,e[13]=m,e[14]=u,e[15]=p,e[16]=t.direction,e[17]=t.per_page,e[18]=t.sort,e[19]=x,e[20]=N,e[21]=d,e[22]=Ze):Ze=e[22];const k=Ze;let es;e[23]!==t?(es=l=>{S.get("/soporte/casos",{...t,per_page:l,page:1},{preserveState:!1,preserveScroll:!0})},e[23]=t,e[24]=es):es=e[24];const Ts=es;let ss;e[25]!==h||e[26]!==m||e[27]!==u||e[28]!==p||e[29]!==t.direction||e[30]!==t.per_page||e[31]!==t.sort||e[32]!==x||e[33]!==N||e[34]!==d?(ss=()=>{const l={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};N&&(l.search=N),d&&d!=="all"&&(l.status=d),x&&x!=="all"&&(l.priority=x),m&&m!=="all"&&(l.category=m),h&&h!=="all"&&(l.assigned=h),u&&(l.date_from=u),p&&(l.date_to=p),console.log("Applying filters:",l),S.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!1,replace:!0})},e[25]=h,e[26]=m,e[27]=u,e[28]=p,e[29]=t.direction,e[30]=t.per_page,e[31]=t.sort,e[32]=x,e[33]=N,e[34]=d,e[35]=ss):ss=e[35];const ks=ss;let ts;e[36]!==t.direction||e[37]!==t.per_page||e[38]!==t.sort?(ts=()=>{Rs("all"),$s("all"),Bs("all"),qs("all"),Us(""),Gs(""),Os(""),S.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction,page:1},{preserveState:!1,preserveScroll:!1,replace:!0})},e[36]=t.direction,e[37]=t.per_page,e[38]=t.sort,e[39]=ts):ts=e[39];const Fs=ts;let ls;e[40]!==t.direction||e[41]!==t.sort?(ls=l=>t.sort!==l?s.jsx(pt,{className:"h-3 w-3 ml-1 text-gray-400"}):t.direction==="asc"?s.jsx(it,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):s.jsx(ct,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[40]=t.direction,e[41]=t.sort,e[42]=ls):ls=e[42];const n=ls,Ks=St;let as;e[43]===Symbol.for("react.memo_cache_sentinel")?(as=s.jsx(tt,{title:"HelpDesk HUV - Casos"}),e[43]=as):as=e[43];let rs;e[44]===Symbol.for("react.memo_cache_sentinel")?(rs=s.jsx(lt,{breadcrumb:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Inicio"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"text-gray-600",children:"Soporte"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Casos"})]})}),e[44]=rs):rs=e[44];let is;e[45]===Symbol.for("react.memo_cache_sentinel")?(is=s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Casos"}),e[45]=is):is=e[45];let cs;e[46]===Symbol.for("react.memo_cache_sentinel")?(cs=l=>Os(l.target.value),e[46]=cs):cs=e[46];let F;e[47]!==k?(F=l=>{l.key==="Enter"&&k()},e[47]=k,e[48]=F):F=e[48];let E;e[49]!==N||e[50]!==F?(E=s.jsx(Ls,{type:"text",placeholder:"Buscar...",className:"w-64 pr-10 h-9",value:N,onChange:cs,onKeyDown:F}),e[49]=N,e[50]=F,e[51]=E):E=e[51];let ns;e[52]===Symbol.for("react.memo_cache_sentinel")?(ns=s.jsx(at,{className:"h-4 w-4"}),e[52]=ns):ns=e[52];let A;e[53]!==k?(A=s.jsx(f,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:k,children:ns}),e[53]=k,e[54]=A):A=e[54];let z;e[55]!==E||e[56]!==A?(z=s.jsxs("div",{className:"relative",children:[E,A]}),e[55]=E,e[56]=A,e[57]=z):z=e[57];let V;e[58]!==T?(V=()=>Zs(!T),e[58]=T,e[59]=V):V=e[59];const Es=`h-9 ${C?"border-[#2c4370] text-[#2c4370]":""}`;let os;e[60]===Symbol.for("react.memo_cache_sentinel")?(os=s.jsx(nt,{className:"h-4 w-4 mr-1"}),e[60]=os):os=e[60];let H;e[61]!==C?(H=C&&s.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"}),e[61]=C,e[62]=H):H=e[62];let P;e[63]!==V||e[64]!==Es||e[65]!==H?(P=s.jsxs(f,{variant:"outline",size:"sm",onClick:V,className:Es,children:[os,"Filtros",H]}),e[63]=V,e[64]=Es,e[65]=H,e[66]=P):P=e[66];let ds;e[67]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(f,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9",children:"Exportar"}),e[67]=ds):ds=e[67];let I;e[68]!==z||e[69]!==P?(I=s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[is,s.jsxs("div",{className:"flex items-center gap-3",children:[z,P,ds]})]})}),e[68]=z,e[69]=P,e[70]=I):I=e[70];let L;e[71]!==ks||e[72]!==h||e[73]!==_s||e[74]!==m||e[75]!==Fs||e[76]!==u||e[77]!==p||e[78]!==C||e[79]!==x||e[80]!==T||e[81]!==d||e[82]!==Ss?(L=T&&s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Estado"}),s.jsxs(Re,{value:d,onValueChange:Rs,children:[s.jsx($e,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todos"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),s.jsx(i,{value:"1",children:"Nuevo"}),s.jsx(i,{value:"2",children:"En curso (asignado)"}),s.jsx(i,{value:"3",children:"En curso (planificado)"}),s.jsx(i,{value:"4",children:"En espera"}),s.jsx(i,{value:"5",children:"Resuelto"}),s.jsx(i,{value:"6",children:"Cerrado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Prioridad"}),s.jsxs(Re,{value:x,onValueChange:$s,children:[s.jsx($e,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todas"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),s.jsx(i,{value:"1",children:"Muy baja"}),s.jsx(i,{value:"2",children:"Baja"}),s.jsx(i,{value:"3",children:"Media"}),s.jsx(i,{value:"4",children:"Alta"}),s.jsx(i,{value:"5",children:"Muy alta"}),s.jsx(i,{value:"6",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Asignado a"}),s.jsxs(Re,{value:h,onValueChange:qs,children:[s.jsx($e,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todos"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todos"}),Ss.map(_t)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Categoría"}),s.jsxs(Re,{value:m,onValueChange:Bs,children:[s.jsx($e,{className:"h-8 text-xs",children:s.jsx(Be,{placeholder:"Todas"})}),s.jsxs(qe,{children:[s.jsx(i,{value:"all",children:"Todas"}),_s.map(Nt)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Desde"}),s.jsx(Ls,{type:"date",value:u,onChange:l=>Us(l.target.value),className:"h-8 text-xs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Hasta"}),s.jsx(Ls,{type:"date",value:p,onChange:l=>Gs(l.target.value),className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[C&&s.jsxs(f,{variant:"ghost",size:"sm",onClick:Fs,className:"h-8 text-xs text-gray-600",children:[s.jsx(ut,{className:"h-3 w-3 mr-1"}),"Limpiar filtros"]}),s.jsx(f,{size:"sm",onClick:ks,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar filtros"})]})]}),e[71]=ks,e[72]=h,e[73]=_s,e[74]=m,e[75]=Fs,e[76]=u,e[77]=p,e[78]=C,e[79]=x,e[80]=T,e[81]=d,e[82]=Ss,e[83]=L):L=e[83];let xs;e[84]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsx("span",{className:"text-sm text-gray-600",children:"Mostrar"}),e[84]=xs):xs=e[84];let O;e[85]!==t.per_page?(O=t.per_page.toString(),e[85]=t.per_page,e[86]=O):O=e[86];let ms;e[87]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsx($e,{className:"w-20 h-8",children:s.jsx(Be,{placeholder:"15"})}),e[87]=ms):ms=e[87];let hs;e[88]===Symbol.for("react.memo_cache_sentinel")?(hs=s.jsxs(qe,{children:[s.jsx(i,{value:"15",children:"15"}),s.jsx(i,{value:"20",children:"20"}),s.jsx(i,{value:"50",children:"50"}),s.jsx(i,{value:"100",children:"100"})]}),e[88]=hs):hs=e[88];let M;e[89]!==Ts||e[90]!==O?(M=s.jsxs(Re,{value:O,onValueChange:Ts,children:[ms,hs]}),e[89]=Ts,e[90]=O,e[91]=M):M=e[91];let gs;e[92]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx("span",{className:"text-sm text-gray-600",children:"elementos"}),e[92]=gs):gs=e[92];let R;e[93]!==M?(R=s.jsxs("div",{className:"flex items-center gap-3",children:[xs,M,gs]}),e[93]=M,e[94]=R):R=e[94];let $;e[95]!==r.data.length?($=s.jsx("span",{className:"font-medium",children:r.data.length}),e[95]=r.data.length,e[96]=$):$=e[96];let B;e[97]!==r.total?(B=s.jsx("span",{className:"font-medium",children:r.total}),e[97]=r.total,e[98]=B):B=e[98];let q;e[99]!==$||e[100]!==B?(q=s.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",$," de"," ",B," casos"]}),e[99]=$,e[100]=B,e[101]=q):q=e[101];let U;e[102]!==R||e[103]!==q?(U=s.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b flex items-center justify-between",children:[R,q]}),e[102]=R,e[103]=q,e[104]=U):U=e[104];let G;e[105]!==c?(G=()=>c("id"),e[105]=c,e[106]=G):G=e[106];let K;e[107]!==n?(K=s.jsxs("div",{className:"flex items-center",children:["ID",n("id")]}),e[107]=n,e[108]=K):K=e[108];let X;e[109]!==G||e[110]!==K?(X=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100 w-16",onClick:G,children:K}),e[109]=G,e[110]=K,e[111]=X):X=e[111];let J;e[112]!==c?(J=()=>c("name"),e[112]=c,e[113]=J):J=e[113];let Q;e[114]!==n?(Q=s.jsxs("div",{className:"flex items-center",children:["Título",n("name")]}),e[114]=n,e[115]=Q):Q=e[115];let W;e[116]!==J||e[117]!==Q?(W=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:J,children:Q}),e[116]=J,e[117]=Q,e[118]=W):W=e[118];let Y;e[119]!==c?(Y=()=>c("status"),e[119]=c,e[120]=Y):Y=e[120];let Z;e[121]!==n?(Z=s.jsxs("div",{className:"flex items-center",children:["Estado",n("status")]}),e[121]=n,e[122]=Z):Z=e[122];let ee;e[123]!==Y||e[124]!==Z?(ee=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:Y,children:Z}),e[123]=Y,e[124]=Z,e[125]=ee):ee=e[125];let se;e[126]!==c?(se=()=>c("priority"),e[126]=c,e[127]=se):se=e[127];let te;e[128]!==n?(te=s.jsxs("div",{className:"flex items-center",children:["Prioridad",n("priority")]}),e[128]=n,e[129]=te):te=e[129];let le;e[130]!==se||e[131]!==te?(le=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:se,children:te}),e[130]=se,e[131]=te,e[132]=le):le=e[132];let ae;e[133]!==c?(ae=()=>c("entity_name"),e[133]=c,e[134]=ae):ae=e[134];let re;e[135]!==n?(re=s.jsxs("div",{className:"flex items-center",children:["Entidad",n("entity_name")]}),e[135]=n,e[136]=re):re=e[136];let ie;e[137]!==ae||e[138]!==re?(ie=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ae,children:re}),e[137]=ae,e[138]=re,e[139]=ie):ie=e[139];let ce;e[140]!==c?(ce=()=>c("date"),e[140]=c,e[141]=ce):ce=e[141];let ne;e[142]!==n?(ne=s.jsxs("div",{className:"flex items-center",children:["Fecha de apertura",n("date")]}),e[142]=n,e[143]=ne):ne=e[143];let oe;e[144]!==ce||e[145]!==ne?(oe=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ce,children:ne}),e[144]=ce,e[145]=ne,e[146]=oe):oe=e[146];let de;e[147]!==c?(de=()=>c("date_mod"),e[147]=c,e[148]=de):de=e[148];let xe;e[149]!==n?(xe=s.jsxs("div",{className:"flex items-center",children:["Última actualización",n("date_mod")]}),e[149]=n,e[150]=xe):xe=e[150];let me;e[151]!==de||e[152]!==xe?(me=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:de,children:xe}),e[151]=de,e[152]=xe,e[153]=me):me=e[153];let fs,us,ps;e[154]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Solicitante"}),us=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Asignado a"}),ps=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Categoría"}),e[154]=fs,e[155]=us,e[156]=ps):(fs=e[154],us=e[155],ps=e[156]);let he;e[157]!==g?(he=g()&&s.jsx(_,{className:"font-semibold text-gray-900 text-xs text-center w-24",children:"Acciones"}),e[157]=g,e[158]=he):he=e[158];let ge;e[159]!==X||e[160]!==W||e[161]!==ee||e[162]!==le||e[163]!==ie||e[164]!==oe||e[165]!==me||e[166]!==he?(ge=s.jsx(ot,{children:s.jsxs(Is,{className:"bg-gray-50",children:[X,W,ee,le,ie,oe,me,fs,us,ps,he]})}),e[159]=X,e[160]=W,e[161]=ee,e[162]=le,e[163]=ie,e[164]=oe,e[165]=me,e[166]=he,e[167]=ge):ge=e[167];let fe;if(e[168]!==Oe||e[169]!==g||e[170]!==r.data){let l;e[172]!==Oe||e[173]!==g?(l=a=>s.jsxs(Is,{className:"hover:bg-gray-50",children:[s.jsx(y,{className:"text-xs font-medium",children:a.id}),s.jsx(y,{className:"font-medium text-xs",children:s.jsx("button",{onClick:()=>{Ys(a),Ge(!0)},className:"text-[#2c4370] hover:underline block truncate max-w-md text-left",title:a.name,children:a.name||"(Sin título)"})}),s.jsx(y,{className:"text-xs",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${Ks(a.status)}`,children:a.status_name})}),s.jsx(y,{className:"text-xs",children:a.priority_name}),s.jsx(y,{className:"text-xs",children:a.entity_name||"-"}),s.jsx(y,{className:"text-xs text-gray-600",children:a.date?new Date(a.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(y,{className:"text-xs text-gray-600",children:a.date_mod?new Date(a.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(y,{className:"text-xs",children:a.requester_name||"-"}),s.jsx(y,{className:"text-xs",children:a.assigned_name||"-"}),s.jsx(y,{className:"text-xs",children:a.category_name||"-"}),g()&&s.jsx(y,{className:"text-xs",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(f,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>S.visit(`/soporte/casos/${a.id}/editar`),title:"Editar",children:s.jsx(yt,{className:"h-3.5 w-3.5"})}),Oe(a)&&s.jsx(f,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",onClick:()=>et(a),title:"Eliminar",children:s.jsx(vt,{className:"h-3.5 w-3.5"})})]})})]},a.id),e[172]=Oe,e[173]=g,e[174]=l):l=e[174],fe=r.data.map(l),e[168]=Oe,e[169]=g,e[170]=r.data,e[171]=fe}else fe=e[171];let ue;e[175]!==g||e[176]!==r.data.length?(ue=r.data.length===0&&s.jsx(Is,{children:s.jsx(y,{colSpan:g()?11:10,className:"text-center py-8 text-gray-500",children:"No se encontraron casos"})}),e[175]=g,e[176]=r.data.length,e[177]=ue):ue=e[177];let pe;e[178]!==fe||e[179]!==ue?(pe=s.jsxs(dt,{children:[fe,ue]}),e[178]=fe,e[179]=ue,e[180]=pe):pe=e[180];let je;e[181]!==ge||e[182]!==pe?(je=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xt,{children:[ge,pe]})}),e[181]=ge,e[182]=pe,e[183]=je):je=e[183];let ye;e[184]!==r.current_page?(ye=s.jsx("span",{className:"font-medium",children:r.current_page}),e[184]=r.current_page,e[185]=ye):ye=e[185];let be;e[186]!==r.last_page?(be=s.jsx("span",{className:"font-medium",children:r.last_page}),e[186]=r.last_page,e[187]=be):be=e[187];let ve;e[188]!==ye||e[189]!==be?(ve=s.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",ye," de"," ",be]}),e[188]=ye,e[189]=be,e[190]=ve):ve=e[190];let Ne;if(e[191]!==w||e[192]!==r.links){let l;e[194]!==w||e[195]!==r.links.length?(l=(a,Me)=>Me===0?s.jsx(f,{variant:"outline",size:"sm",disabled:!a.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>a.url&&w(a.url),children:s.jsx(mt,{className:"h-4 w-4"})},Me):Me===r.links.length-1?s.jsx(f,{variant:"outline",size:"sm",disabled:!a.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>a.url&&w(a.url),children:s.jsx(jt,{className:"h-4 w-4"})},Me):s.jsx(f,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,className:a.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white",onClick:()=>a.url&&w(a.url),children:s.jsx("span",{dangerouslySetInnerHTML:{__html:a.label}})},Me),e[194]=w,e[195]=r.links.length,e[196]=l):l=e[196],Ne=r.links.map(l),e[191]=w,e[192]=r.links,e[193]=Ne}else Ne=e[193];let _e;e[197]!==Ne?(_e=s.jsx("div",{className:"flex items-center gap-2",children:Ne}),e[197]=Ne,e[198]=_e):_e=e[198];let Se;e[199]!==ve||e[200]!==_e?(Se=s.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[ve,_e]}),e[199]=ve,e[200]=_e,e[201]=Se):Se=e[201];let Ce;e[202]!==I||e[203]!==L||e[204]!==U||e[205]!==je||e[206]!==Se?(Ce=s.jsx("main",{className:"flex-1 px-6 py-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[I,L,U,je,Se]})}),e[202]=I,e[203]=L,e[204]=U,e[205]=je,e[206]=Se,e[207]=Ce):Ce=e[207];let js;e[208]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx(rt,{}),e[208]=js):js=e[208];let we;e[209]!==Ce?(we=s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[rs,Ce,js]}),e[209]=Ce,e[210]=we):we=e[210];let ys;e[211]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx(Xs,{children:"Eliminar Caso"}),e[211]=ys):ys=e[211];const As=D?.id;let De;e[212]!==As?(De=s.jsxs("strong",{children:["#",As]}),e[212]=As,e[213]=De):De=e[213];let bs;e[214]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsx("br",{}),e[214]=bs):bs=e[214];const zs=D?.name;let Te;e[215]!==zs?(Te=s.jsx("span",{className:"text-gray-600",children:zs}),e[215]=zs,e[216]=Te):Te=e[216];let ke;e[217]!==De||e[218]!==Te?(ke=s.jsxs(Js,{children:[ys,s.jsxs(gt,{children:["¿Está seguro que desea eliminar el caso ",De,"?",bs,Te]})]}),e[217]=De,e[218]=Te,e[219]=ke):ke=e[219];let vs;e[220]===Symbol.for("react.memo_cache_sentinel")?(vs=s.jsx(f,{variant:"outline",onClick:()=>Ue(!1),children:"Cancelar"}),e[220]=vs):vs=e[220];let Fe;e[221]!==Ds?(Fe=s.jsxs(ft,{className:"gap-2",children:[vs,s.jsx(f,{variant:"destructive",onClick:Ds,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]}),e[221]=Ds,e[222]=Fe):Fe=e[222];let Ee;e[223]!==ke||e[224]!==Fe?(Ee=s.jsxs(Qs,{className:"sm:max-w-[425px]",children:[ke,Fe]}),e[223]=ke,e[224]=Fe,e[225]=Ee):Ee=e[225];let Ae;e[226]!==Cs||e[227]!==Ee?(Ae=s.jsx(Ws,{open:Cs,onOpenChange:Ue,children:Ee}),e[226]=Cs,e[227]=Ee,e[228]=Ae):Ae=e[228];const Vs=o?.id;let ze;e[229]!==Vs?(ze=s.jsxs("span",{className:"text-[#2c4370]",children:["Caso #",Vs]}),e[229]=Vs,e[230]=ze):ze=e[230];const Hs=`px-2 py-0.5 rounded-full text-[10px] font-semibold ${o?Ks(o.status):""}`,Ps=o?.status_name;let Ve;e[231]!==Hs||e[232]!==Ps?(Ve=s.jsx("span",{className:Hs,children:Ps}),e[231]=Hs,e[232]=Ps,e[233]=Ve):Ve=e[233];let He;e[234]!==ze||e[235]!==Ve?(He=s.jsx(Js,{children:s.jsxs(Xs,{className:"flex items-center gap-2",children:[ze,Ve]})}),e[234]=ze,e[235]=Ve,e[236]=He):He=e[236];let Pe;e[237]!==g||e[238]!==o?(Pe=o&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:o.name})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Prioridad"}),s.jsx("span",{className:"font-medium",children:o.priority_name})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Entidad"}),s.jsx("span",{className:"font-medium",children:o.entity_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Fecha de Apertura"}),s.jsx("span",{className:"font-medium",children:o.date?new Date(o.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Última Actualización"}),s.jsx("span",{className:"font-medium",children:o.date_mod?new Date(o.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Solicitante"}),s.jsx("span",{className:"font-medium",children:o.requester_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Asignado a"}),s.jsx("span",{className:"font-medium",children:o.assigned_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded col-span-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Categoría"}),s.jsx("span",{className:"font-medium",children:o.category_name||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsx(f,{variant:"outline",size:"sm",onClick:()=>Ge(!1),className:"h-8 text-xs",children:"Cerrar"}),g()&&s.jsx(f,{size:"sm",onClick:()=>{Ge(!1),S.visit(`/soporte/casos/${o.id}/editar`)},className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Editar Caso"})]})]}),e[237]=g,e[238]=o,e[239]=Pe):Pe=e[239];let Ie;e[240]!==He||e[241]!==Pe?(Ie=s.jsxs(Qs,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[He,Pe]}),e[240]=He,e[241]=Pe,e[242]=Ie):Ie=e[242];let Le;e[243]!==Ie||e[244]!==ws?(Le=s.jsx(Ws,{open:ws,onOpenChange:Ge,children:Ie}),e[243]=Ie,e[244]=ws,e[245]=Le):Le=e[245];let Ns;return e[246]!==we||e[247]!==Ae||e[248]!==Le?(Ns=s.jsxs(s.Fragment,{children:[as,we,Ae,Le]}),e[246]=we,e[247]=Ae,e[248]=Le,e[249]=Ns):Ns=e[249],Ns}function Nt(b){return s.jsx(i,{value:b.id.toString(),children:b.completename},b.id)}function _t(b){return s.jsx(i,{value:b.id.toString(),children:b.fullname},b.id)}function St(b){switch(b){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-yellow-100 text-yellow-800";case 4:return"bg-orange-100 text-orange-800";case 5:return"bg-green-100 text-green-800";case 6:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}export{$t as default};
