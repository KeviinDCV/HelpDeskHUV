import{c as Ie,u as Pe,a as ke,j as t,r as Re,H as Te}from"./app-D6e_ouNp.js";import{c as Ae,B as Me}from"./button-DmpNFrw0.js";import{I as K}from"./input-BWXjyIgF.js";import{L as i}from"./label-Cf94fCbZ.js";import{S as Be,T as Qe}from"./searchable-select-C4GZd2a7.js";import{S as Le,a as Ge,b as ze,c as Je,d as O}from"./select-CZWzqGJr.js";import{U as $e}from"./user-kWrAboJo.js";import{C as Ke}from"./circle-alert-ERHOH81K.js";/* empty css            */import"./index-DCwSWc0a.js";import"./search-BYo1I_1V.js";import"./check-DXPsUbPV.js";import"./index-Dz5U7zEA.js";import"./index-B9ngaXV4.js";import"./index-BZRcySyg.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],We=Ae("CircleCheckBig",Oe);function ht(o){const e=Ie.c(139),{locations:ye,categories:Se}=o,{props:Ve}=Pe(),W=Ve.flash,[X,Ce]=ke.useState(!1);let Y;e[0]===Symbol.for("react.memo_cache_sentinel")?(Y={},e[0]=Y):Y=e[0];const[l,De]=ke.useState(Y);let Z;e[1]===Symbol.for("react.memo_cache_sentinel")?(Z={reporter_name:"",reporter_position:"",reporter_service:"",reporter_extension:"",reporter_email:"",name:"",content:"",priority:"3",locations_id:"",itilcategories_id:""},e[1]=Z):Z=e[1];const[s,He]=ke.useState(Z);let ee;e[2]!==l?(ee=(a,Fe)=>{He(qe=>({...qe,[a]:Fe})),l[a]&&De(qe=>{const Ue={...qe};return delete Ue[a],Ue})},e[2]=l,e[3]=ee):ee=e[3];const r=ee;let te;e[4]!==s?(te=a=>{a.preventDefault(),Ce(!0),Re.post("/reportar",s,{onSuccess:()=>{He({reporter_name:"",reporter_position:"",reporter_service:"",reporter_extension:"",reporter_email:"",name:"",content:"",priority:"3",locations_id:"",itilcategories_id:""}),Ce(!1)},onError:Fe=>{De(Fe),Ce(!1)}})},e[4]=s,e[5]=te):te=e[5];const we=te;let se;e[6]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(Te,{title:"Reportar Problema - HelpDesk HUV"}),e[6]=se):se=e[6];let re;e[7]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("header",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-[#2c4370] font-bold text-lg",children:"H"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-white font-semibold",children:"HelpDesk HUV"}),t.jsx("p",{className:"text-white/70 text-xs",children:"Sistema de Reportes"})]})]})})}),e[7]=re):re=e[7];let n;e[8]!==W?(n=W?.success&&t.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(We,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-green-800",children:W.success.message}),t.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Su número de caso es: ",t.jsxs("strong",{children:["#",W.success.ticket_id]})]}),t.jsx("p",{className:"text-green-600 text-xs mt-2",children:"Guarde este número para hacer seguimiento a su reporte."})]})]}),e[8]=W,e[9]=n):n=e[9];let le;e[10]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsxs("div",{className:"bg-[#2c4370] px-6 py-5",children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"¿Tiene un problema con su equipo o sistema?"}),t.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Cuéntenos qué sucede y lo ayudaremos a solucionarlo"})]}),e[10]=le):le=e[10];let ae,ie;e[11]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx($e,{className:"w-4 h-4"}),"¿Quién reporta?"]}),ae=t.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Necesitamos sus datos para poder contactarlo"}),e[11]=ae,e[12]=ie):(ae=e[11],ie=e[12]);let oe;e[13]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(i,{htmlFor:"reporter_name",className:"text-xs",children:"Nombre Completo *"}),e[13]=oe):oe=e[13];let c;e[14]!==r?(c=a=>r("reporter_name",a.target.value),e[14]=r,e[15]=c):c=e[15];let m;e[16]!==s.reporter_name||e[17]!==c?(m=t.jsx(K,{id:"reporter_name",value:s.reporter_name,onChange:c,placeholder:"Ej: Juan Pérez García",required:!0,className:"mt-1 h-9 text-sm"}),e[16]=s.reporter_name,e[17]=c,e[18]=m):m=e[18];let d;e[19]!==l.reporter_name?(d=l.reporter_name&&t.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.reporter_name}),e[19]=l.reporter_name,e[20]=d):d=e[20];let x;e[21]!==m||e[22]!==d?(x=t.jsxs("div",{children:[oe,m,d]}),e[21]=m,e[22]=d,e[23]=x):x=e[23];let ne;e[24]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(i,{htmlFor:"reporter_position",className:"text-xs",children:"Cargo *"}),e[24]=ne):ne=e[24];let p;e[25]!==r?(p=a=>r("reporter_position",a.target.value),e[25]=r,e[26]=p):p=e[26];let h;e[27]!==s.reporter_position||e[28]!==p?(h=t.jsx(K,{id:"reporter_position",value:s.reporter_position,onChange:p,placeholder:"Ej: Enfermero, Médico, Auxiliar",required:!0,className:"mt-1 h-9 text-sm"}),e[27]=s.reporter_position,e[28]=p,e[29]=h):h=e[29];let f;e[30]!==l.reporter_position?(f=l.reporter_position&&t.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.reporter_position}),e[30]=l.reporter_position,e[31]=f):f=e[31];let u;e[32]!==h||e[33]!==f?(u=t.jsxs("div",{children:[ne,h,f]}),e[32]=h,e[33]=f,e[34]=u):u=e[34];let ce;e[35]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(i,{htmlFor:"reporter_service",className:"text-xs",children:"Servicio / Área *"}),e[35]=ce):ce=e[35];let _;e[36]!==r?(_=a=>r("reporter_service",a.target.value),e[36]=r,e[37]=_):_=e[37];let j;e[38]!==s.reporter_service||e[39]!==_?(j=t.jsx(K,{id:"reporter_service",value:s.reporter_service,onChange:_,placeholder:"Ej: Urgencias, UCI, Farmacia",required:!0,className:"mt-1 h-9 text-sm"}),e[38]=s.reporter_service,e[39]=_,e[40]=j):j=e[40];let g;e[41]!==l.reporter_service?(g=l.reporter_service&&t.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.reporter_service}),e[41]=l.reporter_service,e[42]=g):g=e[42];let v;e[43]!==j||e[44]!==g?(v=t.jsxs("div",{children:[ce,j,g]}),e[43]=j,e[44]=g,e[45]=v):v=e[45];let me;e[46]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(i,{htmlFor:"reporter_extension",className:"text-xs",children:"Extensión Telefónica"}),e[46]=me):me=e[46];let b;e[47]!==r?(b=a=>r("reporter_extension",a.target.value),e[47]=r,e[48]=b):b=e[48];let N;e[49]!==s.reporter_extension||e[50]!==b?(N=t.jsxs("div",{children:[me,t.jsx(K,{id:"reporter_extension",value:s.reporter_extension,onChange:b,placeholder:"Ej: 1234",className:"mt-1 h-9 text-sm"})]}),e[49]=s.reporter_extension,e[50]=b,e[51]=N):N=e[51];let de;e[52]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(i,{htmlFor:"reporter_email",className:"text-xs",children:"Correo Electrónico (opcional)"}),e[52]=de):de=e[52];let y;e[53]!==r?(y=a=>r("reporter_email",a.target.value),e[53]=r,e[54]=y):y=e[54];let S;e[55]!==s.reporter_email||e[56]!==y?(S=t.jsx(K,{id:"reporter_email",type:"email",value:s.reporter_email,onChange:y,placeholder:"ejemplo@huv.gov.co",className:"mt-1 h-9 text-sm"}),e[55]=s.reporter_email,e[56]=y,e[57]=S):S=e[57];let C;e[58]!==l.reporter_email?(C=l.reporter_email&&t.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.reporter_email}),e[58]=l.reporter_email,e[59]=C):C=e[59];let w;e[60]!==S||e[61]!==C?(w=t.jsxs("div",{className:"md:col-span-2",children:[de,S,C]}),e[60]=S,e[61]=C,e[62]=w):w=e[62];let E;e[63]!==x||e[64]!==u||e[65]!==v||e[66]!==N||e[67]!==w?(E=t.jsxs("div",{className:"mb-6",children:[ie,ae,t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[x,u,v,N,w]})]}),e[63]=x,e[64]=u,e[65]=v,e[66]=N,e[67]=w,e[68]=E):E=e[68];let xe,pe;e[69]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(Ke,{className:"w-4 h-4"}),"¿Qué problema tiene?"]}),pe=t.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Describa lo que está pasando para que podamos ayudarle"}),e[69]=xe,e[70]=pe):(xe=e[69],pe=e[70]);let he;e[71]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(i,{htmlFor:"name",className:"text-xs",children:"¿Qué está pasando? (resumen corto) *"}),e[71]=he):he=e[71];let F;e[72]!==r?(F=a=>r("name",a.target.value),e[72]=r,e[73]=F):F=e[73];let q;e[74]!==s.name||e[75]!==F?(q=t.jsx(K,{id:"name",value:s.name,onChange:F,placeholder:"Ej: No puedo imprimir, El computador no enciende, No tengo internet",required:!0,className:"mt-1 h-9 text-sm"}),e[74]=s.name,e[75]=F,e[76]=q):q=e[76];let k;e[77]!==l.name?(k=l.name&&t.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.name}),e[77]=l.name,e[78]=k):k=e[78];let D;e[79]!==q||e[80]!==k?(D=t.jsxs("div",{children:[he,q,k]}),e[79]=q,e[80]=k,e[81]=D):D=e[81];let fe;e[82]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(i,{htmlFor:"priority",className:"text-xs",children:"¿Qué tan urgente es? *"}),e[82]=fe):fe=e[82];let H;e[83]!==r?(H=a=>r("priority",a),e[83]=r,e[84]=H):H=e[84];let ue;e[85]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(Ge,{className:"mt-1 h-9 text-sm",children:t.jsx(ze,{})}),e[85]=ue):ue=e[85];let _e;e[86]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(Je,{children:[t.jsx(O,{value:"1",children:"Muy baja"}),t.jsx(O,{value:"2",children:"Baja"}),t.jsx(O,{value:"3",children:"Media"}),t.jsx(O,{value:"4",children:"Alta"}),t.jsx(O,{value:"5",children:"Muy alta"}),t.jsx(O,{value:"6",children:"Urgente"})]}),e[86]=_e):_e=e[86];let U;e[87]!==s.priority||e[88]!==H?(U=t.jsxs("div",{children:[fe,t.jsxs(Le,{value:s.priority,onValueChange:H,children:[ue,_e]})]}),e[87]=s.priority,e[88]=H,e[89]=U):U=e[89];let je;e[90]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(i,{htmlFor:"locations_id",className:"text-xs",children:"¿Dónde está el problema?"}),e[90]=je):je=e[90];let B;e[91]!==ye?(B=ye.map(Ye),e[91]=ye,e[92]=B):B=e[92];let V;e[93]!==r?(V=a=>r("locations_id",a),e[93]=r,e[94]=V):V=e[94];let I;e[95]!==s.locations_id||e[96]!==B||e[97]!==V?(I=t.jsxs("div",{children:[je,t.jsx(Be,{options:B,value:s.locations_id,onValueChange:V,placeholder:"Seleccione...",searchPlaceholder:"Buscar ubicación...",className:"mt-1"})]}),e[95]=s.locations_id,e[96]=B,e[97]=V,e[98]=I):I=e[98];let ge;e[99]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(i,{htmlFor:"itilcategories_id",className:"text-xs",children:"Tipo de problema"}),e[99]=ge):ge=e[99];let P;e[100]!==Se?(P=Se.map(Xe),e[100]=Se,e[101]=P):P=e[101];let R;e[102]!==r?(R=a=>r("itilcategories_id",a),e[102]=r,e[103]=R):R=e[103];let T;e[104]!==s.itilcategories_id||e[105]!==P||e[106]!==R?(T=t.jsxs("div",{children:[ge,t.jsx(Be,{options:P,value:s.itilcategories_id,onValueChange:R,placeholder:"Seleccione...",searchPlaceholder:"Buscar categoría...",className:"mt-1"})]}),e[104]=s.itilcategories_id,e[105]=P,e[106]=R,e[107]=T):T=e[107];let A;e[108]!==U||e[109]!==I||e[110]!==T?(A=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[U,I,T]}),e[108]=U,e[109]=I,e[110]=T,e[111]=A):A=e[111];let ve;e[112]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(i,{htmlFor:"content",className:"text-xs",children:"Cuéntenos más detalles *"}),e[112]=ve):ve=e[112];let M;e[113]!==r?(M=a=>r("content",a.target.value),e[113]=r,e[114]=M):M=e[114];let Q;e[115]!==s.content||e[116]!==M?(Q=t.jsx(Qe,{id:"content",value:s.content,onChange:M,placeholder:"Cuéntenos con detalle qué está pasando:\\n- ¿Qué estaba haciendo cuando ocurrió?\\n- ¿Aparece algún mensaje de error?\\n- ¿Desde cuándo tiene este problema?",required:!0,rows:5,className:"mt-1 text-sm"}),e[115]=s.content,e[116]=M,e[117]=Q):Q=e[117];let L;e[118]!==l.content?(L=l.content&&t.jsx("p",{className:"text-red-600 text-xs mt-1",children:l.content}),e[118]=l.content,e[119]=L):L=e[119];let G;e[120]!==Q||e[121]!==L?(G=t.jsxs("div",{children:[ve,Q,L]}),e[120]=Q,e[121]=L,e[122]=G):G=e[122];let z;e[123]!==D||e[124]!==A||e[125]!==G?(z=t.jsxs("div",{className:"mb-6",children:[xe,pe,t.jsxs("div",{className:"space-y-4",children:[D,A,G]})]}),e[123]=D,e[124]=A,e[125]=G,e[126]=z):z=e[126];const Ee=X?"Enviando...":"Enviar Reporte";let J;e[127]!==X||e[128]!==Ee?(J=t.jsx("div",{className:"flex justify-end pt-4 border-t",children:t.jsx(Me,{type:"submit",disabled:X,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white px-8",children:Ee})}),e[127]=X,e[128]=Ee,e[129]=J):J=e[129];let $;e[130]!==we||e[131]!==E||e[132]!==z||e[133]!==J?($=t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl overflow-hidden",children:[le,t.jsxs("form",{onSubmit:we,className:"p-6",children:[E,z,J]})]}),e[130]=we,e[131]=E,e[132]=z,e[133]=J,e[134]=$):$=e[134];let be;e[135]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("div",{className:"mt-6 text-center text-white/60 text-xs",children:t.jsx("p",{children:"Hospital Universitario del Valle - Gestión de la Información"})}),e[135]=be):be=e[135];let Ne;return e[136]!==$||e[137]!==n?(Ne=t.jsxs(t.Fragment,{children:[se,t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#2c4370] to-[#1a2a4a] flex flex-col",children:[re,t.jsx("main",{className:"flex-1 px-6 py-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[n,$,be]})})]})]}),e[136]=$,e[137]=n,e[138]=Ne):Ne=e[138],Ne}function Xe(o){return{value:o.id.toString(),label:o.completename}}function Ye(o){return{value:o.id.toString(),label:o.completename}}export{ht as default};
