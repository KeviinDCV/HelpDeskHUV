import{c as dt,R as y,j as s,r as S,H as xt}from"./app-9JquKJnN.js";import{G as mt,S as ht,T as gt,a as ft}from"./glpi-footer-BxogzVkS.js";import{F as st,T as _,b as qs,c as b,a as pt,d as ut,e as jt}from"./table-BdePGPcq.js";import{B as p}from"./button-DrOcO4Be.js";import{I as Us}from"./input-e7OmHKMF.js";import{D as tt,b as at,a as yt,c as bt,d as lt,e as rt}from"./dialog-paQy-Vm8.js";import{S as qe,a as Ue,b as Ge,c as Ke,d as i}from"./select-DhigV80q.js";import{X as it}from"./x-Dgz8w1Bl.js";import{C as Nt,a as vt}from"./chevrons-up-down-DGWD4a8j.js";import{A as _t,a as St,C as wt}from"./chevron-left-DFzkOEGY.js";import{S as Ct}from"./square-pen-CfbtZgwE.js";/* empty css            */import"./index-m48NGsi_.js";import"./index-DyGcD9Pp.js";import"./index-CAwFfPkV.js";import"./index-CVdEjrWQ.js";import"./refresh-cw-BPIkSxsu.js";import"./triangle-alert-BzDpep-1.js";import"./check-BRv-fTB0.js";import"./index-DZKLmBRJ.js";function Wt(g){const e=dt.c(273),{tickets:r,categories:Ds,technicians:Ts,filters:t,auth:N}=g,[v,Gs]=y.useState(t.search||""),[Fs,Qe]=y.useState(!1),[C,Ks]=y.useState(null),[ks,Xe]=y.useState(!1),[o,ct]=y.useState(null),[D,nt]=y.useState(!1),[d,Qs]=y.useState(t.status||"all"),[x,Xs]=y.useState(t.priority||"all"),[m,Js]=y.useState(t.category||"all"),[h,Ws]=y.useState(t.assigned||"all"),[u,Ys]=y.useState(t.date_from||""),[j,Zs]=y.useState(t.date_to||""),w=d&&d!=="all"||x&&x!=="all"||m&&m!=="all"||h&&h!=="all"||u||j||t.filter;let Je;e[0]!==t.filter?(Je=()=>{switch(t.filter){case"unassigned":return"Sin asignar";case"my_cases":return"Mis casos";case"resolved_today":return"Resueltos hoy";default:return null}},e[0]=t.filter,e[1]=Je):Je=e[1];const We=Je;let Ye;e[2]!==t.direction||e[3]!==t.per_page||e[4]!==t.sort?(Ye=()=>{S.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction},{preserveState:!1})},e[2]=t.direction,e[3]=t.per_page,e[4]=t.sort,e[5]=Ye):Ye=e[5];const Es=Ye;let Ze;e[6]!==N.user.id||e[7]!==N.user.role?(Ze=a=>N.user.role==="Administrador"?!0:N.user.role==="Técnico"?a.users_id_recipient===N.user.id:!1,e[6]=N.user.id,e[7]=N.user.role,e[8]=Ze):Ze=e[8];const $e=Ze;let es;e[9]!==N.user.role?(es=()=>N.user.role==="Administrador"||N.user.role==="Técnico",e[9]=N.user.role,e[10]=es):es=e[10];const f=es;let ss;e[11]===Symbol.for("react.memo_cache_sentinel")?(ss=a=>{Ks(a),Qe(!0)},e[11]=ss):ss=e[11];const ot=ss;let ts;e[12]!==C?(ts=()=>{C&&S.delete(`/soporte/casos/${C.id}`,{preserveScroll:!0,onSuccess:()=>{Qe(!1),Ks(null)}})},e[12]=C,e[13]=ts):ts=e[13];const As=ts;let as;e[14]!==t?(as=a=>{const l=t.sort===a&&t.direction==="asc"?"desc":"asc";S.get("/soporte/casos",{...t,sort:a,direction:l},{preserveState:!1,preserveScroll:!0})},e[14]=t,e[15]=as):as=e[15];const c=as,zs=kt;let ls;e[16]!==h||e[17]!==m||e[18]!==u||e[19]!==j||e[20]!==t.direction||e[21]!==t.per_page||e[22]!==t.sort||e[23]!==x||e[24]!==v||e[25]!==d?(ls=()=>{const a={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};v&&(a.search=v),d&&d!=="all"&&(a.status=d),x&&x!=="all"&&(a.priority=x),m&&m!=="all"&&(a.category=m),h&&h!=="all"&&(a.assigned=h),u&&(a.date_from=u),j&&(a.date_to=j),S.get("/soporte/casos",a,{preserveState:!1,preserveScroll:!1,replace:!0})},e[16]=h,e[17]=m,e[18]=u,e[19]=j,e[20]=t.direction,e[21]=t.per_page,e[22]=t.sort,e[23]=x,e[24]=v,e[25]=d,e[26]=ls):ls=e[26];const T=ls;let rs;e[27]!==t.assigned||e[28]!==t.category||e[29]!==t.date_from||e[30]!==t.date_to||e[31]!==t.direction||e[32]!==t.filter||e[33]!==t.priority||e[34]!==t.search||e[35]!==t.sort||e[36]!==t.status?(rs=a=>{const l={per_page:a,sort:t.sort,direction:t.direction,page:1};t.search&&(l.search=t.search),t.status&&(l.status=t.status),t.priority&&(l.priority=t.priority),t.category&&(l.category=t.category),t.assigned&&(l.assigned=t.assigned),t.date_from&&(l.date_from=t.date_from),t.date_to&&(l.date_to=t.date_to),t.filter&&(l.filter=t.filter),S.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!0})},e[27]=t.assigned,e[28]=t.category,e[29]=t.date_from,e[30]=t.date_to,e[31]=t.direction,e[32]=t.filter,e[33]=t.priority,e[34]=t.search,e[35]=t.sort,e[36]=t.status,e[37]=rs):rs=e[37];const Vs=rs;let is;e[38]!==h||e[39]!==m||e[40]!==u||e[41]!==j||e[42]!==t.direction||e[43]!==t.per_page||e[44]!==t.sort||e[45]!==x||e[46]!==v||e[47]!==d?(is=()=>{const a={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};v&&(a.search=v),d&&d!=="all"&&(a.status=d),x&&x!=="all"&&(a.priority=x),m&&m!=="all"&&(a.category=m),h&&h!=="all"&&(a.assigned=h),u&&(a.date_from=u),j&&(a.date_to=j),console.log("Applying filters:",a),S.get("/soporte/casos",a,{preserveState:!1,preserveScroll:!1,replace:!0})},e[38]=h,e[39]=m,e[40]=u,e[41]=j,e[42]=t.direction,e[43]=t.per_page,e[44]=t.sort,e[45]=x,e[46]=v,e[47]=d,e[48]=is):is=e[48];const Ps=is;let cs;e[49]!==t.direction||e[50]!==t.per_page||e[51]!==t.sort?(cs=()=>{Qs("all"),Xs("all"),Js("all"),Ws("all"),Ys(""),Zs(""),Gs(""),S.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction,page:1},{preserveState:!1,preserveScroll:!1,replace:!0})},e[49]=t.direction,e[50]=t.per_page,e[51]=t.sort,e[52]=cs):cs=e[52];const Hs=cs;let ns;e[53]!==t.direction||e[54]!==t.sort?(ns=a=>t.sort!==a?s.jsx(Nt,{className:"h-3 w-3 ml-1 text-gray-400"}):t.direction==="asc"?s.jsx(_t,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):s.jsx(St,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[53]=t.direction,e[54]=t.sort,e[55]=ns):ns=e[55];const n=ns,et=Ft;let os;e[56]===Symbol.for("react.memo_cache_sentinel")?(os=s.jsx(xt,{title:"HelpDesk HUV - Casos"}),e[56]=os):os=e[56];let ds;e[57]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(mt,{breadcrumb:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Inicio"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"text-gray-600",children:"Soporte"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Casos"})]})}),e[57]=ds):ds=e[57];let F;e[58]!==Es||e[59]!==t.filter||e[60]!==We||e[61]!==r.total?(F=t.filter&&s.jsxs("div",{className:"mb-4 bg-[#2c4370] text-white px-4 py-3 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(st,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Mostrando: ",We()]}),s.jsxs("span",{className:"text-white/70",children:["(",r.total," casos)"]})]}),s.jsxs("button",{onClick:Es,className:"flex items-center gap-1 hover:bg-white/20 px-2 py-1 rounded transition-colors",children:[s.jsx(it,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Quitar filtro"})]})]}),e[58]=Es,e[59]=t.filter,e[60]=We,e[61]=r.total,e[62]=F):F=e[62];const Ls=t.filter?We():"Casos";let k;e[63]!==Ls?(k=s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:Ls}),e[63]=Ls,e[64]=k):k=e[64];let xs;e[65]===Symbol.for("react.memo_cache_sentinel")?(xs=a=>Gs(a.target.value),e[65]=xs):xs=e[65];let E;e[66]!==T?(E=a=>{a.key==="Enter"&&T()},e[66]=T,e[67]=E):E=e[67];let A;e[68]!==v||e[69]!==E?(A=s.jsx(Us,{type:"text",placeholder:"Buscar...",className:"w-64 pr-10 h-9",value:v,onChange:xs,onKeyDown:E}),e[68]=v,e[69]=E,e[70]=A):A=e[70];let ms;e[71]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsx(ht,{className:"h-4 w-4"}),e[71]=ms):ms=e[71];let z;e[72]!==T?(z=s.jsx(p,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:T,children:ms}),e[72]=T,e[73]=z):z=e[73];let V;e[74]!==A||e[75]!==z?(V=s.jsxs("div",{className:"relative",children:[A,z]}),e[74]=A,e[75]=z,e[76]=V):V=e[76];let P;e[77]!==D?(P=()=>nt(!D),e[77]=D,e[78]=P):P=e[78];const Os=`h-9 ${w?"border-[#2c4370] text-[#2c4370]":""}`;let hs;e[79]===Symbol.for("react.memo_cache_sentinel")?(hs=s.jsx(st,{className:"h-4 w-4 mr-1"}),e[79]=hs):hs=e[79];let H;e[80]!==w?(H=w&&s.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"}),e[80]=w,e[81]=H):H=e[81];let L;e[82]!==P||e[83]!==Os||e[84]!==H?(L=s.jsxs(p,{variant:"outline",size:"sm",onClick:P,className:Os,children:[hs,"Filtros",H]}),e[82]=P,e[83]=Os,e[84]=H,e[85]=L):L=e[85];let gs;e[86]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx(p,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9",children:"Exportar"}),e[86]=gs):gs=e[86];let O;e[87]!==V||e[88]!==L?(O=s.jsxs("div",{className:"flex items-center gap-3",children:[V,L,gs]}),e[87]=V,e[88]=L,e[89]=O):O=e[89];let I;e[90]!==k||e[91]!==O?(I=s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[k,O]})}),e[90]=k,e[91]=O,e[92]=I):I=e[92];let M;e[93]!==Ps||e[94]!==h||e[95]!==Ds||e[96]!==m||e[97]!==Hs||e[98]!==u||e[99]!==j||e[100]!==w||e[101]!==x||e[102]!==D||e[103]!==d||e[104]!==Ts?(M=D&&s.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Estado"}),s.jsxs(qe,{value:d,onValueChange:Qs,children:[s.jsx(Ue,{className:"h-8 text-xs",children:s.jsx(Ge,{placeholder:"Todos"})}),s.jsxs(Ke,{children:[s.jsx(i,{value:"all",children:"Todos"}),s.jsx(i,{value:"1",children:"Nuevo"}),s.jsx(i,{value:"2",children:"En curso (asignado)"}),s.jsx(i,{value:"3",children:"En curso (planificado)"}),s.jsx(i,{value:"4",children:"En espera"}),s.jsx(i,{value:"5",children:"Resuelto"}),s.jsx(i,{value:"6",children:"Cerrado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Prioridad"}),s.jsxs(qe,{value:x,onValueChange:Xs,children:[s.jsx(Ue,{className:"h-8 text-xs",children:s.jsx(Ge,{placeholder:"Todas"})}),s.jsxs(Ke,{children:[s.jsx(i,{value:"all",children:"Todas"}),s.jsx(i,{value:"1",children:"Muy baja"}),s.jsx(i,{value:"2",children:"Baja"}),s.jsx(i,{value:"3",children:"Media"}),s.jsx(i,{value:"4",children:"Alta"}),s.jsx(i,{value:"5",children:"Muy alta"}),s.jsx(i,{value:"6",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Asignado a"}),s.jsxs(qe,{value:h,onValueChange:Ws,children:[s.jsx(Ue,{className:"h-8 text-xs",children:s.jsx(Ge,{placeholder:"Todos"})}),s.jsxs(Ke,{children:[s.jsx(i,{value:"all",children:"Todos"}),Ts.map(Tt)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Categoría"}),s.jsxs(qe,{value:m,onValueChange:Js,children:[s.jsx(Ue,{className:"h-8 text-xs",children:s.jsx(Ge,{placeholder:"Todas"})}),s.jsxs(Ke,{children:[s.jsx(i,{value:"all",children:"Todas"}),Ds.map(Dt)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Desde"}),s.jsx(Us,{type:"date",value:u,onChange:a=>Ys(a.target.value),className:"h-8 text-xs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Hasta"}),s.jsx(Us,{type:"date",value:j,onChange:a=>Zs(a.target.value),className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[w&&s.jsxs(p,{variant:"ghost",size:"sm",onClick:Hs,className:"h-8 text-xs text-gray-600",children:[s.jsx(it,{className:"h-3 w-3 mr-1"}),"Limpiar filtros"]}),s.jsx(p,{size:"sm",onClick:Ps,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar filtros"})]})]}),e[93]=Ps,e[94]=h,e[95]=Ds,e[96]=m,e[97]=Hs,e[98]=u,e[99]=j,e[100]=w,e[101]=x,e[102]=D,e[103]=d,e[104]=Ts,e[105]=M):M=e[105];let fs;e[106]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsx("span",{className:"text-sm text-gray-600",children:"Mostrar"}),e[106]=fs):fs=e[106];let R;e[107]!==t.per_page?(R=t.per_page.toString(),e[107]=t.per_page,e[108]=R):R=e[108];let ps;e[109]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsx(Ue,{className:"w-20 h-8",children:s.jsx(Ge,{placeholder:"15"})}),e[109]=ps):ps=e[109];let us;e[110]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsxs(Ke,{children:[s.jsx(i,{value:"15",children:"15"}),s.jsx(i,{value:"20",children:"20"}),s.jsx(i,{value:"50",children:"50"}),s.jsx(i,{value:"100",children:"100"})]}),e[110]=us):us=e[110];let $;e[111]!==Vs||e[112]!==R?($=s.jsxs(qe,{value:R,onValueChange:Vs,children:[ps,us]}),e[111]=Vs,e[112]=R,e[113]=$):$=e[113];let js;e[114]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx("span",{className:"text-sm text-gray-600",children:"elementos"}),e[114]=js):js=e[114];let B;e[115]!==$?(B=s.jsxs("div",{className:"flex items-center gap-3",children:[fs,$,js]}),e[115]=$,e[116]=B):B=e[116];let q;e[117]!==r.data.length?(q=s.jsx("span",{className:"font-medium",children:r.data.length}),e[117]=r.data.length,e[118]=q):q=e[118];let U;e[119]!==r.total?(U=s.jsx("span",{className:"font-medium",children:r.total}),e[119]=r.total,e[120]=U):U=e[120];let G;e[121]!==q||e[122]!==U?(G=s.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",q," de"," ",U," casos"]}),e[121]=q,e[122]=U,e[123]=G):G=e[123];let K;e[124]!==B||e[125]!==G?(K=s.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b flex items-center justify-between",children:[B,G]}),e[124]=B,e[125]=G,e[126]=K):K=e[126];let Q;e[127]!==c?(Q=()=>c("id"),e[127]=c,e[128]=Q):Q=e[128];let X;e[129]!==n?(X=s.jsxs("div",{className:"flex items-center",children:["ID",n("id")]}),e[129]=n,e[130]=X):X=e[130];let J;e[131]!==Q||e[132]!==X?(J=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100 w-16",onClick:Q,children:X}),e[131]=Q,e[132]=X,e[133]=J):J=e[133];let W;e[134]!==c?(W=()=>c("name"),e[134]=c,e[135]=W):W=e[135];let Y;e[136]!==n?(Y=s.jsxs("div",{className:"flex items-center",children:["Título",n("name")]}),e[136]=n,e[137]=Y):Y=e[137];let Z;e[138]!==W||e[139]!==Y?(Z=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:W,children:Y}),e[138]=W,e[139]=Y,e[140]=Z):Z=e[140];let ee;e[141]!==c?(ee=()=>c("status"),e[141]=c,e[142]=ee):ee=e[142];let se;e[143]!==n?(se=s.jsxs("div",{className:"flex items-center",children:["Estado",n("status")]}),e[143]=n,e[144]=se):se=e[144];let te;e[145]!==ee||e[146]!==se?(te=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ee,children:se}),e[145]=ee,e[146]=se,e[147]=te):te=e[147];let ae;e[148]!==c?(ae=()=>c("priority"),e[148]=c,e[149]=ae):ae=e[149];let le;e[150]!==n?(le=s.jsxs("div",{className:"flex items-center",children:["Prioridad",n("priority")]}),e[150]=n,e[151]=le):le=e[151];let re;e[152]!==ae||e[153]!==le?(re=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ae,children:le}),e[152]=ae,e[153]=le,e[154]=re):re=e[154];let ie;e[155]!==c?(ie=()=>c("entity_name"),e[155]=c,e[156]=ie):ie=e[156];let ce;e[157]!==n?(ce=s.jsxs("div",{className:"flex items-center",children:["Entidad",n("entity_name")]}),e[157]=n,e[158]=ce):ce=e[158];let ne;e[159]!==ie||e[160]!==ce?(ne=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ie,children:ce}),e[159]=ie,e[160]=ce,e[161]=ne):ne=e[161];let oe;e[162]!==c?(oe=()=>c("date"),e[162]=c,e[163]=oe):oe=e[163];let de;e[164]!==n?(de=s.jsxs("div",{className:"flex items-center",children:["Fecha de apertura",n("date")]}),e[164]=n,e[165]=de):de=e[165];let xe;e[166]!==oe||e[167]!==de?(xe=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:oe,children:de}),e[166]=oe,e[167]=de,e[168]=xe):xe=e[168];let me;e[169]!==c?(me=()=>c("date_mod"),e[169]=c,e[170]=me):me=e[170];let he;e[171]!==n?(he=s.jsxs("div",{className:"flex items-center",children:["Última actualización",n("date_mod")]}),e[171]=n,e[172]=he):he=e[172];let ge;e[173]!==me||e[174]!==he?(ge=s.jsx(_,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:me,children:he}),e[173]=me,e[174]=he,e[175]=ge):ge=e[175];let ys,bs,Ns;e[176]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Solicitante"}),bs=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Asignado a"}),Ns=s.jsx(_,{className:"font-semibold text-gray-900 text-xs",children:"Categoría"}),e[176]=ys,e[177]=bs,e[178]=Ns):(ys=e[176],bs=e[177],Ns=e[178]);let fe;e[179]!==f?(fe=f()&&s.jsx(_,{className:"font-semibold text-gray-900 text-xs text-center w-24",children:"Acciones"}),e[179]=f,e[180]=fe):fe=e[180];let pe;e[181]!==J||e[182]!==Z||e[183]!==te||e[184]!==re||e[185]!==ne||e[186]!==xe||e[187]!==ge||e[188]!==fe?(pe=s.jsx(pt,{children:s.jsxs(qs,{className:"bg-gray-50",children:[J,Z,te,re,ne,xe,ge,ys,bs,Ns,fe]})}),e[181]=J,e[182]=Z,e[183]=te,e[184]=re,e[185]=ne,e[186]=xe,e[187]=ge,e[188]=fe,e[189]=pe):pe=e[189];let ue;if(e[190]!==$e||e[191]!==f||e[192]!==r.data){let a;e[194]!==$e||e[195]!==f?(a=l=>s.jsxs(qs,{className:"hover:bg-gray-50",children:[s.jsx(b,{className:"text-xs font-medium",children:l.id}),s.jsx(b,{className:"font-medium text-xs",children:s.jsx("button",{onClick:()=>{ct(l),Xe(!0)},className:"text-[#2c4370] hover:underline block truncate max-w-md text-left",title:l.name,children:l.name||"(Sin título)"})}),s.jsx(b,{className:"text-xs",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${et(l.status)}`,children:l.status_name})}),s.jsx(b,{className:"text-xs",children:l.priority_name}),s.jsx(b,{className:"text-xs",children:l.entity_name||"-"}),s.jsx(b,{className:"text-xs text-gray-600",children:l.date?new Date(l.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(b,{className:"text-xs text-gray-600",children:l.date_mod?new Date(l.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(b,{className:"text-xs",children:l.requester_name||"-"}),s.jsx(b,{className:"text-xs",children:l.assigned_name||"-"}),s.jsx(b,{className:"text-xs",children:l.category_name||"-"}),f()&&s.jsx(b,{className:"text-xs",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(p,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>S.visit(`/soporte/casos/${l.id}/editar`),title:"Editar",children:s.jsx(Ct,{className:"h-3.5 w-3.5"})}),$e(l)&&s.jsx(p,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",onClick:()=>ot(l),title:"Eliminar",children:s.jsx(gt,{className:"h-3.5 w-3.5"})})]})})]},l.id),e[194]=$e,e[195]=f,e[196]=a):a=e[196],ue=r.data.map(a),e[190]=$e,e[191]=f,e[192]=r.data,e[193]=ue}else ue=e[193];let je;e[197]!==f||e[198]!==r.data.length?(je=r.data.length===0&&s.jsx(qs,{children:s.jsx(b,{colSpan:f()?11:10,className:"text-center py-8 text-gray-500",children:"No se encontraron casos"})}),e[197]=f,e[198]=r.data.length,e[199]=je):je=e[199];let ye;e[200]!==ue||e[201]!==je?(ye=s.jsxs(ut,{children:[ue,je]}),e[200]=ue,e[201]=je,e[202]=ye):ye=e[202];let be;e[203]!==pe||e[204]!==ye?(be=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(jt,{children:[pe,ye]})}),e[203]=pe,e[204]=ye,e[205]=be):be=e[205];let Ne;e[206]!==r.current_page?(Ne=s.jsx("span",{className:"font-medium",children:r.current_page}),e[206]=r.current_page,e[207]=Ne):Ne=e[207];let ve;e[208]!==r.last_page?(ve=s.jsx("span",{className:"font-medium",children:r.last_page}),e[208]=r.last_page,e[209]=ve):ve=e[209];let _e;e[210]!==Ne||e[211]!==ve?(_e=s.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",Ne," de"," ",ve]}),e[210]=Ne,e[211]=ve,e[212]=_e):_e=e[212];let Se;if(e[213]!==r.links){let a;e[215]!==r.links.length?(a=(l,Be)=>Be===0?s.jsx(p,{variant:"outline",size:"sm",disabled:!l.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>l.url&&zs(l.url),children:s.jsx(wt,{className:"h-4 w-4"})},Be):Be===r.links.length-1?s.jsx(p,{variant:"outline",size:"sm",disabled:!l.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50",onClick:()=>l.url&&zs(l.url),children:s.jsx(vt,{className:"h-4 w-4"})},Be):s.jsx(p,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,className:l.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white",onClick:()=>l.url&&zs(l.url),children:s.jsx("span",{dangerouslySetInnerHTML:{__html:l.label}})},Be),e[215]=r.links.length,e[216]=a):a=e[216],Se=r.links.map(a),e[213]=r.links,e[214]=Se}else Se=e[214];let we;e[217]!==Se?(we=s.jsx("div",{className:"flex items-center gap-2",children:Se}),e[217]=Se,e[218]=we):we=e[218];let Ce;e[219]!==_e||e[220]!==we?(Ce=s.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[_e,we]}),e[219]=_e,e[220]=we,e[221]=Ce):Ce=e[221];let De;e[222]!==I||e[223]!==M||e[224]!==K||e[225]!==be||e[226]!==Ce?(De=s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[I,M,K,be,Ce]}),e[222]=I,e[223]=M,e[224]=K,e[225]=be,e[226]=Ce,e[227]=De):De=e[227];let Te;e[228]!==F||e[229]!==De?(Te=s.jsxs("main",{className:"flex-1 px-6 py-6",children:[F,De]}),e[228]=F,e[229]=De,e[230]=Te):Te=e[230];let vs;e[231]===Symbol.for("react.memo_cache_sentinel")?(vs=s.jsx(ft,{}),e[231]=vs):vs=e[231];let Fe;e[232]!==Te?(Fe=s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[ds,Te,vs]}),e[232]=Te,e[233]=Fe):Fe=e[233];let _s;e[234]===Symbol.for("react.memo_cache_sentinel")?(_s=s.jsx(tt,{children:"Eliminar Caso"}),e[234]=_s):_s=e[234];const Is=C?.id;let ke;e[235]!==Is?(ke=s.jsxs("strong",{children:["#",Is]}),e[235]=Is,e[236]=ke):ke=e[236];let Ss;e[237]===Symbol.for("react.memo_cache_sentinel")?(Ss=s.jsx("br",{}),e[237]=Ss):Ss=e[237];const Ms=C?.name;let Ee;e[238]!==Ms?(Ee=s.jsx("span",{className:"text-gray-600",children:Ms}),e[238]=Ms,e[239]=Ee):Ee=e[239];let Ae;e[240]!==ke||e[241]!==Ee?(Ae=s.jsxs(at,{children:[_s,s.jsxs(yt,{children:["¿Está seguro que desea eliminar el caso ",ke,"?",Ss,Ee]})]}),e[240]=ke,e[241]=Ee,e[242]=Ae):Ae=e[242];let ws;e[243]===Symbol.for("react.memo_cache_sentinel")?(ws=s.jsx(p,{variant:"outline",onClick:()=>Qe(!1),children:"Cancelar"}),e[243]=ws):ws=e[243];let ze;e[244]!==As?(ze=s.jsxs(bt,{className:"gap-2",children:[ws,s.jsx(p,{variant:"destructive",onClick:As,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]}),e[244]=As,e[245]=ze):ze=e[245];let Ve;e[246]!==Ae||e[247]!==ze?(Ve=s.jsxs(lt,{className:"sm:max-w-[425px]",children:[Ae,ze]}),e[246]=Ae,e[247]=ze,e[248]=Ve):Ve=e[248];let Pe;e[249]!==Fs||e[250]!==Ve?(Pe=s.jsx(rt,{open:Fs,onOpenChange:Qe,children:Ve}),e[249]=Fs,e[250]=Ve,e[251]=Pe):Pe=e[251];const Rs=o?.id;let He;e[252]!==Rs?(He=s.jsxs("span",{className:"text-[#2c4370]",children:["Caso #",Rs]}),e[252]=Rs,e[253]=He):He=e[253];const $s=`px-2 py-0.5 rounded-full text-[10px] font-semibold ${o?et(o.status):""}`,Bs=o?.status_name;let Le;e[254]!==$s||e[255]!==Bs?(Le=s.jsx("span",{className:$s,children:Bs}),e[254]=$s,e[255]=Bs,e[256]=Le):Le=e[256];let Oe;e[257]!==He||e[258]!==Le?(Oe=s.jsx(at,{children:s.jsxs(tt,{className:"flex items-center gap-2",children:[He,Le]})}),e[257]=He,e[258]=Le,e[259]=Oe):Oe=e[259];let Ie;e[260]!==f||e[261]!==o?(Ie=o&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:o.name})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Prioridad"}),s.jsx("span",{className:"font-medium",children:o.priority_name})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Entidad"}),s.jsx("span",{className:"font-medium",children:o.entity_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Fecha de Apertura"}),s.jsx("span",{className:"font-medium",children:o.date?new Date(o.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Última Actualización"}),s.jsx("span",{className:"font-medium",children:o.date_mod?new Date(o.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Solicitante"}),s.jsx("span",{className:"font-medium",children:o.requester_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-gray-500 block",children:"Asignado a"}),s.jsx("span",{className:"font-medium",children:o.assigned_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded col-span-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Categoría"}),s.jsx("span",{className:"font-medium",children:o.category_name||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsx(p,{variant:"outline",size:"sm",onClick:()=>Xe(!1),className:"h-8 text-xs",children:"Cerrar"}),f()&&s.jsx(p,{size:"sm",onClick:()=>{Xe(!1),S.visit(`/soporte/casos/${o.id}/editar`)},className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Editar Caso"})]})]}),e[260]=f,e[261]=o,e[262]=Ie):Ie=e[262];let Me;e[263]!==Oe||e[264]!==Ie?(Me=s.jsxs(lt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[Oe,Ie]}),e[263]=Oe,e[264]=Ie,e[265]=Me):Me=e[265];let Re;e[266]!==Me||e[267]!==ks?(Re=s.jsx(rt,{open:ks,onOpenChange:Xe,children:Me}),e[266]=Me,e[267]=ks,e[268]=Re):Re=e[268];let Cs;return e[269]!==Re||e[270]!==Fe||e[271]!==Pe?(Cs=s.jsxs(s.Fragment,{children:[os,Fe,Pe,Re]}),e[269]=Re,e[270]=Fe,e[271]=Pe,e[272]=Cs):Cs=e[272],Cs}function Dt(g){return s.jsx(i,{value:g.id.toString(),children:g.completename},g.id)}function Tt(g){return s.jsx(i,{value:g.id.toString(),children:g.fullname},g.id)}function Ft(g){switch(g){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-yellow-100 text-yellow-800";case 4:return"bg-orange-100 text-orange-800";case 5:return"bg-green-100 text-green-800";case 6:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function kt(g){g&&S.visit(g,{preserveScroll:!0})}export{Wt as default};
