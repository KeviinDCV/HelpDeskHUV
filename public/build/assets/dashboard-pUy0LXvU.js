import{c as z,j as s,u as Z,a as B,L as J,r as K,H as Q}from"./app-BpQ1UqyX.js";import{G as W,a as X}from"./glpi-footer-CS9m5SXr.js";import{C as M,a as U,b as L,c as G}from"./card-BYk1CrHw.js";import{c as V,B as F}from"./button-BM2SPUhU.js";import{U as Y,C as ee}from"./user-check-DxMaiEPg.js";import{C as I,T as se,F as te}from"./triangle-alert-BAgOu07N.js";import{E as ae}from"./eye-C8VltIA0.js";/* empty css            */import"./input-DlRixWL2.js";import"./index-B_2aphqd.js";import"./index-B1lZxaxz.js";import"./index-DqN1DvDa.js";import"./index-B4pB9oFB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],re=V("CircleCheck",le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],q=V("Pin",ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],O=V("Ticket",ne);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],oe=V("UserPlus",ie);function me(g){const e=z.c(20),{stats:r}=g;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(M,{className:"pb-2",children:s.jsx(U,{className:"text-sm font-semibold text-[#2c5599]",children:"Resumen"})}),e[0]=m):m=e[0];let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{className:"w-4 h-4 text-red-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Sin asignar"})]}),e[1]=c):c=e[1];let a;e[2]!==r.publicUnassigned?(a=s.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded-lg",children:[c,s.jsx("span",{className:"font-bold text-red-600",children:r.publicUnassigned})]}),e[2]=r.publicUnassigned,e[3]=a):a=e[3];let n;e[4]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Mis casos"})]}),e[4]=n):n=e[4];let i;e[5]!==r.myTickets?(i=s.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-lg",children:[n,s.jsx("span",{className:"font-bold text-blue-600",children:r.myTickets})]}),e[5]=r.myTickets,e[6]=i):i=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Resueltos hoy"})]}),e[7]=d):d=e[7];let x;e[8]!==r.resolvedToday?(x=s.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg",children:[d,s.jsx("span",{className:"font-bold text-green-600",children:r.resolvedToday})]}),e[8]=r.resolvedToday,e[9]=x):x=e[9];let o;e[10]!==a||e[11]!==i||e[12]!==x?(o=s.jsxs(L,{className:"bg-white border shadow-sm",children:[m,s.jsxs(G,{className:"space-y-3",children:[a,i,x]})]}),e[10]=a,e[11]=i,e[12]=x,e[13]=o):o=e[13];let f;e[14]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(M,{className:"pb-3",children:s.jsx(U,{className:"text-sm font-semibold text-center text-[#2c5599]",children:"Su planeación"})}),e[14]=f):f=e[14];let b;e[15]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsxs(L,{className:"bg-gray-100 border-gray-300",children:[f,s.jsx(G,{children:s.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"No hay eventos para mostrar"})})]}),e[15]=b):b=e[15];let h;e[16]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(L,{className:"bg-gray-100 border-gray-300",children:s.jsx(M,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(U,{className:"text-sm font-semibold text-[#2c5599] flex-1 text-center",children:"Recordatorios personales"}),s.jsx(q,{className:"h-4 w-4 text-gray-500"})]})})}),e[16]=h):h=e[16];let l;e[17]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(L,{className:"bg-gray-100 border-gray-300",children:s.jsx(M,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(U,{className:"text-sm font-semibold text-[#2c5599] flex-1 text-center",children:"Recordatorios públicos"}),s.jsx(q,{className:"h-4 w-4 text-gray-500"})]})})}),e[17]=l):l=e[17];let p;return e[18]!==o?(p=s.jsxs("div",{className:"w-80 space-y-4",children:[o,b,h,l]}),e[18]=o,e[19]=p):p=e[19],p}function de(g){const e=z.c(4),{activeTab:r,onTabChange:m}=g;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=["Reportes Públicos","Mis Reportes"],e[0]=c):c=e[0];const a=c;let n;return e[1]!==r||e[2]!==m?(n=s.jsx("div",{className:"px-6 pt-6 pb-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm inline-flex w-auto",children:a.map(i=>s.jsx(F,{variant:"ghost",onClick:()=>m(i),className:`px-6 py-2.5 text-sm font-medium rounded-t-lg transition-colors ${r===i?"bg-[#2c4370] text-white hover:bg-[#2c4370]":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:i},i))})}),e[1]=r,e[2]=m,e[3]=n):n=e[3],n}const xe={1:"bg-gray-100 text-gray-600",2:"bg-blue-100 text-blue-600",3:"bg-yellow-100 text-yellow-700",4:"bg-orange-100 text-orange-600",5:"bg-red-100 text-red-600",6:"bg-red-200 text-red-700"},he={1:"bg-blue-100 text-blue-700",2:"bg-yellow-100 text-yellow-700",3:"bg-purple-100 text-purple-700",4:"bg-orange-100 text-orange-700",5:"bg-green-100 text-green-700",6:"bg-gray-100 text-gray-600"};function Se(g){const e=z.c(40),{publicTickets:r,myTickets:m,stats:c}=g,{props:a}=Z(),[n,i]=B.useState("Reportes Públicos"),[d,x]=B.useState(null);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t=>{x(t),K.post(`/dashboard/take-ticket/${t}`,{},{onFinish:()=>x(null)})},e[0]=o):o=e[0];const f=o,b=pe,h=n==="Reportes Públicos"?r:m,l=n==="Reportes Públicos";let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(Q,{title:"HelpDesk HUV - Dashboard"}),e[1]=p):p=e[1];let P;e[2]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(W,{}),e[2]=P):P=e[2];let y;e[3]!==n?(y=s.jsx(de,{activeTab:n,onTabChange:i}),e[3]=n,e[4]=y):y=e[4];let j;e[5]!==a.flash?(j=a.flash?.success&&s.jsxs("div",{className:"mx-6 mt-4 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(I,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-green-700",children:a.flash.success})]}),e[5]=a.flash,e[6]=j):j=e[6];let u;e[7]!==a.flash?(u=a.flash?.error&&s.jsxs("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(se,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-red-700",children:a.flash.error})]}),e[7]=a.flash,e[8]=u):u=e[8];let N;e[9]!==l?(N=l?s.jsx(O,{className:"w-5 h-5 text-[#2c4370]"}):s.jsx(te,{className:"w-5 h-5 text-[#2c4370]"}),e[9]=l,e[10]=N):N=e[10];const A=l?"Reportes Públicos Sin Asignar":"Mis Reportes Abiertos";let v;e[11]!==A?(v=s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:A}),e[11]=A,e[12]=v):v=e[12];const D=`text-xs font-medium px-2.5 py-1 rounded-full ${l?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,E=l?`${c.publicUnassigned} pendientes`:`${c.myTickets} activos`;let _;e[13]!==D||e[14]!==E?(_=s.jsx("span",{className:D,children:E}),e[13]=D,e[14]=E,e[15]=_):_=e[15];let w;e[16]!==_||e[17]!==N||e[18]!==v?(w=s.jsx("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[N,v,_]})}),e[16]=_,e[17]=N,e[18]=v,e[19]=w):w=e[19];let T;e[20]!==h||e[21]!==l||e[22]!==d?(T=h.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(I,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:l?"No hay reportes públicos pendientes por asignar":"No tienes reportes abiertos asignados"})]}):s.jsx("div",{className:"divide-y",children:h.map(t=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsxs("span",{className:"text-xs text-gray-400",children:["#",t.id]}),s.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${xe[t.priority]}`,children:t.priority_name}),!l&&s.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${he[t.status]}`,children:t.status_name}),t.category_name&&s.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:t.category_name})]}),s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:[b(t.content).substring(0,150),"..."]}),s.jsx("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-400",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ee,{className:"w-3 h-3"}),new Date(t.date_creation).toLocaleDateString("es-CO",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(J,{href:`/soporte/casos/${t.id}`,children:s.jsxs(F,{variant:"outline",className:"text-sm px-3",children:[s.jsx(ae,{className:"w-4 h-4 mr-1"}),"Ver"]})}),l&&s.jsxs(F,{onClick:()=>f(t.id),disabled:d===t.id,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white text-sm px-3",children:[s.jsx(oe,{className:"w-4 h-4 mr-1"}),d===t.id?"Tomando...":"Tomar"]})]})]})},t.id))}),e[20]=h,e[21]=l,e[22]=d,e[23]=T):T=e[23];let C;e[24]!==w||e[25]!==T?(C=s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[w,T]})}),e[24]=w,e[25]=T,e[26]=C):C=e[26];let k;e[27]!==c?(k=s.jsx(me,{stats:c}),e[27]=c,e[28]=k):k=e[28];let S;e[29]!==C||e[30]!==k?(S=s.jsxs("div",{className:"flex gap-4 p-4",children:[C,k]}),e[29]=C,e[30]=k,e[31]=S):S=e[31];let $;e[32]!==S||e[33]!==y||e[34]!==j||e[35]!==u?($=s.jsxs("main",{className:"flex-1 bg-gray-50",children:[y,j,u,S]}),e[32]=S,e[33]=y,e[34]=j,e[35]=u,e[36]=$):$=e[36];let R;e[37]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(X,{}),e[37]=R):R=e[37];let H;return e[38]!==$?(H=s.jsxs(s.Fragment,{children:[p,s.jsxs("div",{className:"min-h-screen flex flex-col",children:[P,$,R]})]}),e[38]=$,e[39]=H):H=e[39],H}function pe(g){const e=document.createElement("div");return e.innerHTML=g,e.textContent||e.innerText||""}export{Se as default};
