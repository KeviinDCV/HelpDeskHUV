import{c as ht,R as v,j as s,r as S,H as ft,L as tt}from"./app-7tz0x6lN.js";import{G as gt,S as pt,b as ut,a as jt}from"./glpi-footer-B2M7wsLS.js";import{F as at,T as N,b as Us,c as j,a as yt,d as bt,e as vt}from"./table-qo5kCM1_.js";import{B as u}from"./button-ggm2gZbk.js";import{I as Gs}from"./input-C4LkQi6i.js";import{D as lt,b as rt,a as Nt,c as _t,d as it,e as ct}from"./dialog-BMZg2aP_.js";import{S as Be,a as qe,b as Ue,c as Ge,d as i}from"./select-BQj_dMHg.js";import{X as nt}from"./index-CNqRMLpd.js";import{C as wt,a as St}from"./chevrons-up-down-CrxZFK71.js";import{A as Ct,a as Dt,C as Tt}from"./chevron-left-DW85gMFT.js";import{S as Ft}from"./square-pen-CyiMfcyv.js";/* empty css            */import"./triangle-alert-BM1YTml_.js";import"./monitor-9LElfYY8.js";import"./user-onRpLqQi.js";import"./loader-circle-C0aJhnO5.js";import"./index-BdOi00J0.js";import"./index-B5rNoLQi.js";import"./index-CKZSRzr4.js";import"./check-QIMEqREP.js";function ea(g){const e=ht.c(283),{tickets:r,categories:Ts,technicians:Fs,filters:t,auth:_}=g,[w,Ks]=v.useState(t.search||""),[ks,Ke]=v.useState(!1),[D,Qs]=v.useState(null),[Es,Qe]=v.useState(!1),[o,ot]=v.useState(null),[T,dt]=v.useState(!1),[m,Xs]=v.useState(t.status||"all"),[x,Js]=v.useState(t.priority||"all"),[h,Ws]=v.useState(t.category||"all"),[f,Ys]=v.useState(t.assigned||"all"),[y,Zs]=v.useState(t.date_from||""),[b,et]=v.useState(t.date_to||""),C=m&&m!=="all"||x&&x!=="all"||h&&h!=="all"||f&&f!=="all"||y||b||t.filter;let Xe;e[0]!==t.filter?(Xe=()=>{switch(t.filter){case"unassigned":return"Sin asignar";case"my_cases":return"Mis casos";case"resolved_today":return"Resueltos hoy";default:return null}},e[0]=t.filter,e[1]=Xe):Xe=e[1];const Je=Xe;let We;e[2]!==t.direction||e[3]!==t.per_page||e[4]!==t.sort?(We=()=>{S.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction},{preserveState:!1})},e[2]=t.direction,e[3]=t.per_page,e[4]=t.sort,e[5]=We):We=e[5];const As=We;let Ye;e[6]!==_.user.id||e[7]!==_.user.role?(Ye=a=>_.user.role==="Administrador"?!0:_.user.role==="Técnico"?a.users_id_recipient===_.user.id:!1,e[6]=_.user.id,e[7]=_.user.role,e[8]=Ye):Ye=e[8];const Me=Ye;let Ze;e[9]!==_.user.role?(Ze=()=>_.user.role==="Administrador"||_.user.role==="Técnico",e[9]=_.user.role,e[10]=Ze):Ze=e[10];const p=Ze;let es;e[11]===Symbol.for("react.memo_cache_sentinel")?(es=a=>{Qs(a),Ke(!0)},e[11]=es):es=e[11];const mt=es;let ss;e[12]!==D?(ss=()=>{D&&S.delete(`/soporte/casos/${D.id}`,{preserveScroll:!0,onSuccess:()=>{Ke(!1),Qs(null)}})},e[12]=D,e[13]=ss):ss=e[13];const zs=ss;let ts;e[14]!==t.assigned||e[15]!==t.category||e[16]!==t.date_from||e[17]!==t.date_to||e[18]!==t.direction||e[19]!==t.filter||e[20]!==t.per_page||e[21]!==t.priority||e[22]!==t.search||e[23]!==t.sort||e[24]!==t.status?(ts=a=>{const l=t.sort===a&&t.direction==="asc"?"desc":"asc",d={per_page:t.per_page,sort:a,direction:l};t.search&&(d.search=t.search),t.status&&(d.status=t.status),t.priority&&(d.priority=t.priority),t.category&&(d.category=t.category),t.assigned&&(d.assigned=t.assigned),t.date_from&&(d.date_from=t.date_from),t.date_to&&(d.date_to=t.date_to),t.filter&&(d.filter=t.filter),S.get("/soporte/casos",d,{preserveState:!1,preserveScroll:!0})},e[14]=t.assigned,e[15]=t.category,e[16]=t.date_from,e[17]=t.date_to,e[18]=t.direction,e[19]=t.filter,e[20]=t.per_page,e[21]=t.priority,e[22]=t.search,e[23]=t.sort,e[24]=t.status,e[25]=ts):ts=e[25];const c=ts,Vs=zt;let as;e[26]!==f||e[27]!==h||e[28]!==y||e[29]!==b||e[30]!==t.direction||e[31]!==t.per_page||e[32]!==t.sort||e[33]!==x||e[34]!==w||e[35]!==m?(as=()=>{const a={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};w&&(a.search=w),m&&m!=="all"&&(a.status=m),x&&x!=="all"&&(a.priority=x),h&&h!=="all"&&(a.category=h),f&&f!=="all"&&(a.assigned=f),y&&(a.date_from=y),b&&(a.date_to=b),S.get("/soporte/casos",a,{preserveState:!1,preserveScroll:!1,replace:!0})},e[26]=f,e[27]=h,e[28]=y,e[29]=b,e[30]=t.direction,e[31]=t.per_page,e[32]=t.sort,e[33]=x,e[34]=w,e[35]=m,e[36]=as):as=e[36];const F=as;let ls;e[37]!==t.assigned||e[38]!==t.category||e[39]!==t.date_from||e[40]!==t.date_to||e[41]!==t.direction||e[42]!==t.filter||e[43]!==t.priority||e[44]!==t.search||e[45]!==t.sort||e[46]!==t.status?(ls=a=>{const l={per_page:a,sort:t.sort,direction:t.direction,page:1};t.search&&(l.search=t.search),t.status&&(l.status=t.status),t.priority&&(l.priority=t.priority),t.category&&(l.category=t.category),t.assigned&&(l.assigned=t.assigned),t.date_from&&(l.date_from=t.date_from),t.date_to&&(l.date_to=t.date_to),t.filter&&(l.filter=t.filter),S.get("/soporte/casos",l,{preserveState:!1,preserveScroll:!0})},e[37]=t.assigned,e[38]=t.category,e[39]=t.date_from,e[40]=t.date_to,e[41]=t.direction,e[42]=t.filter,e[43]=t.priority,e[44]=t.search,e[45]=t.sort,e[46]=t.status,e[47]=ls):ls=e[47];const Ls=ls;let rs;e[48]!==f||e[49]!==h||e[50]!==y||e[51]!==b||e[52]!==t.direction||e[53]!==t.per_page||e[54]!==t.sort||e[55]!==x||e[56]!==w||e[57]!==m?(rs=()=>{const a={per_page:t.per_page,sort:t.sort,direction:t.direction,page:1};w&&(a.search=w),m&&m!=="all"&&(a.status=m),x&&x!=="all"&&(a.priority=x),h&&h!=="all"&&(a.category=h),f&&f!=="all"&&(a.assigned=f),y&&(a.date_from=y),b&&(a.date_to=b),console.log("Applying filters:",a),S.get("/soporte/casos",a,{preserveState:!1,preserveScroll:!1,replace:!0})},e[48]=f,e[49]=h,e[50]=y,e[51]=b,e[52]=t.direction,e[53]=t.per_page,e[54]=t.sort,e[55]=x,e[56]=w,e[57]=m,e[58]=rs):rs=e[58];const Ps=rs;let is;e[59]!==t.direction||e[60]!==t.per_page||e[61]!==t.sort?(is=()=>{Xs("all"),Js("all"),Ws("all"),Ys("all"),Zs(""),et(""),Ks(""),S.get("/soporte/casos",{per_page:t.per_page,sort:t.sort,direction:t.direction,page:1},{preserveState:!1,preserveScroll:!1,replace:!0})},e[59]=t.direction,e[60]=t.per_page,e[61]=t.sort,e[62]=is):is=e[62];const Hs=is;let cs;e[63]!==t.direction||e[64]!==t.sort?(cs=a=>t.sort!==a?s.jsx(wt,{className:"h-3 w-3 ml-1 text-gray-400"}):t.direction==="asc"?s.jsx(Ct,{className:"h-3 w-3 ml-1 text-[#2c4370]"}):s.jsx(Dt,{className:"h-3 w-3 ml-1 text-[#2c4370]"}),e[63]=t.direction,e[64]=t.sort,e[65]=cs):cs=e[65];const n=cs,st=At;let ns;e[66]===Symbol.for("react.memo_cache_sentinel")?(ns=s.jsx(ft,{title:"HelpDesk HUV - Casos"}),e[66]=ns):ns=e[66];let os;e[67]===Symbol.for("react.memo_cache_sentinel")?(os=s.jsx(gt,{breadcrumb:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(tt,{href:"/dashboard",className:"text-gray-600 hover:text-[#2c4370] hover:underline",children:"Inicio"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx(tt,{href:"/soporte/casos",className:"text-gray-600 hover:text-[#2c4370] hover:underline",children:"Soporte"}),s.jsx("span",{className:"text-gray-400",children:"/"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Casos"})]})}),e[67]=os):os=e[67];let k;e[68]!==As||e[69]!==t.filter||e[70]!==Je||e[71]!==r.total?(k=t.filter&&s.jsxs("div",{className:"mb-4 bg-[#2c4370] text-white px-3 sm:px-4 py-2 sm:py-3 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm sm:text-base",children:[s.jsx(at,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"font-medium",children:Je()}),s.jsxs("span",{className:"text-white/70",children:["(",r.total,")"]})]}),s.jsxs("button",{onClick:As,className:"flex items-center gap-1 hover:bg-white/20 px-2 py-1 transition-colors text-sm",children:[s.jsx(nt,{className:"w-4 h-4"}),s.jsx("span",{children:"Quitar"})]})]}),e[68]=As,e[69]=t.filter,e[70]=Je,e[71]=r.total,e[72]=k):k=e[72];const Os=t.filter?Je():"Casos";let E;e[73]!==Os?(E=s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:Os}),e[73]=Os,e[74]=E):E=e[74];let ds;e[75]===Symbol.for("react.memo_cache_sentinel")?(ds=a=>Ks(a.target.value),e[75]=ds):ds=e[75];let A;e[76]!==F?(A=a=>{a.key==="Enter"&&F()},e[76]=F,e[77]=A):A=e[77];let z;e[78]!==w||e[79]!==A?(z=s.jsx(Gs,{type:"text",placeholder:"Buscar...",className:"w-full sm:w-64 pr-10 h-9",value:w,onChange:ds,onKeyDown:A}),e[78]=w,e[79]=A,e[80]=z):z=e[80];let ms;e[81]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsx(pt,{className:"h-4 w-4"}),e[81]=ms):ms=e[81];let V;e[82]!==F?(V=s.jsx(u,{size:"sm",variant:"ghost",className:"absolute right-0 top-0 h-full px-3",onClick:F,children:ms}),e[82]=F,e[83]=V):V=e[83];let L;e[84]!==z||e[85]!==V?(L=s.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[z,V]}),e[84]=z,e[85]=V,e[86]=L):L=e[86];let P;e[87]!==T?(P=()=>dt(!T),e[87]=T,e[88]=P):P=e[88];const Is=`h-9 flex-1 sm:flex-initial ${C?"border-[#2c4370] text-[#2c4370]":""}`;let xs,hs;e[89]===Symbol.for("react.memo_cache_sentinel")?(xs=s.jsx(at,{className:"h-4 w-4 sm:mr-1"}),hs=s.jsx("span",{className:"hidden sm:inline",children:"Filtros"}),e[89]=xs,e[90]=hs):(xs=e[89],hs=e[90]);let H;e[91]!==C?(H=C&&s.jsx("span",{className:"ml-1 bg-[#2c4370] text-white text-xs w-5 h-5 flex items-center justify-center",children:"!"}),e[91]=C,e[92]=H):H=e[92];let O;e[93]!==P||e[94]!==Is||e[95]!==H?(O=s.jsxs(u,{variant:"outline",size:"sm",onClick:P,className:Is,children:[xs,hs,H]}),e[93]=P,e[94]=Is,e[95]=H,e[96]=O):O=e[96];let fs;e[97]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsxs(u,{size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-9 flex-1 sm:flex-initial",children:[s.jsx("span",{className:"hidden sm:inline",children:"Exportar"}),s.jsx("span",{className:"sm:hidden",children:"Excel"})]}),e[97]=fs):fs=e[97];let I;e[98]!==O?(I=s.jsxs("div",{className:"flex items-center gap-2",children:[O,fs]}),e[98]=O,e[99]=I):I=e[99];let $;e[100]!==L||e[101]!==I?($=s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[L,I]}),e[100]=L,e[101]=I,e[102]=$):$=e[102];let R;e[103]!==E||e[104]!==$?(R=s.jsx("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[E,$]})}),e[103]=E,e[104]=$,e[105]=R):R=e[105];let M;e[106]!==Ps||e[107]!==f||e[108]!==Ts||e[109]!==h||e[110]!==Hs||e[111]!==y||e[112]!==b||e[113]!==C||e[114]!==x||e[115]!==T||e[116]!==m||e[117]!==Fs?(M=T&&s.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 bg-gray-50 border-b",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 sm:gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Estado"}),s.jsxs(Be,{value:m,onValueChange:Xs,children:[s.jsx(qe,{className:"h-8 text-xs",children:s.jsx(Ue,{placeholder:"Todos"})}),s.jsxs(Ge,{children:[s.jsx(i,{value:"all",children:"Todos"}),s.jsx(i,{value:"1",children:"Nuevo"}),s.jsx(i,{value:"2",children:"En curso (asignado)"}),s.jsx(i,{value:"3",children:"En curso (planificado)"}),s.jsx(i,{value:"4",children:"En espera"}),s.jsx(i,{value:"5",children:"Resuelto"}),s.jsx(i,{value:"6",children:"Cerrado"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Prioridad"}),s.jsxs(Be,{value:x,onValueChange:Js,children:[s.jsx(qe,{className:"h-8 text-xs",children:s.jsx(Ue,{placeholder:"Todas"})}),s.jsxs(Ge,{children:[s.jsx(i,{value:"all",children:"Todas"}),s.jsx(i,{value:"1",children:"Muy baja"}),s.jsx(i,{value:"2",children:"Baja"}),s.jsx(i,{value:"3",children:"Media"}),s.jsx(i,{value:"4",children:"Alta"}),s.jsx(i,{value:"5",children:"Muy alta"}),s.jsx(i,{value:"6",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Asignado a"}),s.jsxs(Be,{value:f,onValueChange:Ys,children:[s.jsx(qe,{className:"h-8 text-xs",children:s.jsx(Ue,{placeholder:"Todos"})}),s.jsxs(Ge,{children:[s.jsx(i,{value:"all",children:"Todos"}),Fs.map(Et)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Categoría"}),s.jsxs(Be,{value:h,onValueChange:Ws,children:[s.jsx(qe,{className:"h-8 text-xs",children:s.jsx(Ue,{placeholder:"Todas"})}),s.jsxs(Ge,{children:[s.jsx(i,{value:"all",children:"Todas"}),Ts.map(kt)]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Desde"}),s.jsx(Gs,{type:"date",value:y,onChange:a=>Zs(a.target.value),className:"h-8 text-xs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Hasta"}),s.jsx(Gs,{type:"date",value:b,onChange:a=>et(a.target.value),className:"h-8 text-xs"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 mt-3",children:[C&&s.jsxs(u,{variant:"ghost",size:"sm",onClick:Hs,className:"h-8 text-xs text-gray-600",children:[s.jsx(nt,{className:"h-3 w-3 mr-1"}),"Limpiar"]}),s.jsx(u,{size:"sm",onClick:Ps,className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Aplicar"})]})]}),e[106]=Ps,e[107]=f,e[108]=Ts,e[109]=h,e[110]=Hs,e[111]=y,e[112]=b,e[113]=C,e[114]=x,e[115]=T,e[116]=m,e[117]=Fs,e[118]=M):M=e[118];let gs;e[119]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Mostrar"}),e[119]=gs):gs=e[119];let B;e[120]!==t.per_page?(B=t.per_page.toString(),e[120]=t.per_page,e[121]=B):B=e[121];let ps;e[122]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsx(qe,{className:"w-16 sm:w-20 h-7 sm:h-8 text-xs sm:text-sm",children:s.jsx(Ue,{placeholder:"15"})}),e[122]=ps):ps=e[122];let us;e[123]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsxs(Ge,{children:[s.jsx(i,{value:"15",children:"15"}),s.jsx(i,{value:"20",children:"20"}),s.jsx(i,{value:"50",children:"50"}),s.jsx(i,{value:"100",children:"100"})]}),e[123]=us):us=e[123];let q;e[124]!==Ls||e[125]!==B?(q=s.jsxs(Be,{value:B,onValueChange:Ls,children:[ps,us]}),e[124]=Ls,e[125]=B,e[126]=q):q=e[126];let js;e[127]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx("span",{className:"text-xs sm:text-sm text-gray-600 hidden sm:inline",children:"elementos"}),e[127]=js):js=e[127];let U;e[128]!==q?(U=s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[gs,q,js]}),e[128]=q,e[129]=U):U=e[129];let G;e[130]!==r.data.length?(G=s.jsx("span",{className:"font-medium",children:r.data.length}),e[130]=r.data.length,e[131]=G):G=e[131];let K;e[132]!==r.total?(K=s.jsx("span",{className:"font-medium",children:r.total}),e[132]=r.total,e[133]=K):K=e[133];let Q;e[134]!==G||e[135]!==K?(Q=s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[G," de"," ",K]}),e[134]=G,e[135]=K,e[136]=Q):Q=e[136];let X;e[137]!==U||e[138]!==Q?(X=s.jsxs("div",{className:"px-3 sm:px-6 py-2 sm:py-3 bg-gray-50 border-b flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[U,Q]}),e[137]=U,e[138]=Q,e[139]=X):X=e[139];let J;e[140]!==c?(J=()=>c("id"),e[140]=c,e[141]=J):J=e[141];let W;e[142]!==n?(W=s.jsxs("div",{className:"flex items-center",children:["ID",n("id")]}),e[142]=n,e[143]=W):W=e[143];let Y;e[144]!==J||e[145]!==W?(Y=s.jsx(N,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100 w-16",onClick:J,children:W}),e[144]=J,e[145]=W,e[146]=Y):Y=e[146];let Z;e[147]!==c?(Z=()=>c("name"),e[147]=c,e[148]=Z):Z=e[148];let ee;e[149]!==n?(ee=s.jsxs("div",{className:"flex items-center",children:["Título",n("name")]}),e[149]=n,e[150]=ee):ee=e[150];let se;e[151]!==Z||e[152]!==ee?(se=s.jsx(N,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:Z,children:ee}),e[151]=Z,e[152]=ee,e[153]=se):se=e[153];let te;e[154]!==c?(te=()=>c("status"),e[154]=c,e[155]=te):te=e[155];let ae;e[156]!==n?(ae=s.jsxs("div",{className:"flex items-center",children:["Estado",n("status")]}),e[156]=n,e[157]=ae):ae=e[157];let le;e[158]!==te||e[159]!==ae?(le=s.jsx(N,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:te,children:ae}),e[158]=te,e[159]=ae,e[160]=le):le=e[160];let re;e[161]!==c?(re=()=>c("priority"),e[161]=c,e[162]=re):re=e[162];let ie;e[163]!==n?(ie=s.jsxs("div",{className:"flex items-center",children:["Prioridad",n("priority")]}),e[163]=n,e[164]=ie):ie=e[164];let ce;e[165]!==re||e[166]!==ie?(ce=s.jsx(N,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:re,children:ie}),e[165]=re,e[166]=ie,e[167]=ce):ce=e[167];let ne;e[168]!==c?(ne=()=>c("entity_name"),e[168]=c,e[169]=ne):ne=e[169];let oe;e[170]!==n?(oe=s.jsxs("div",{className:"flex items-center",children:["Entidad",n("entity_name")]}),e[170]=n,e[171]=oe):oe=e[171];let de;e[172]!==ne||e[173]!==oe?(de=s.jsx(N,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:ne,children:oe}),e[172]=ne,e[173]=oe,e[174]=de):de=e[174];let me;e[175]!==c?(me=()=>c("date"),e[175]=c,e[176]=me):me=e[176];let xe;e[177]!==n?(xe=s.jsxs("div",{className:"flex items-center",children:["Fecha de apertura",n("date")]}),e[177]=n,e[178]=xe):xe=e[178];let he;e[179]!==me||e[180]!==xe?(he=s.jsx(N,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:me,children:xe}),e[179]=me,e[180]=xe,e[181]=he):he=e[181];let fe;e[182]!==c?(fe=()=>c("date_mod"),e[182]=c,e[183]=fe):fe=e[183];let ge;e[184]!==n?(ge=s.jsxs("div",{className:"flex items-center",children:["Última actualización",n("date_mod")]}),e[184]=n,e[185]=ge):ge=e[185];let pe;e[186]!==fe||e[187]!==ge?(pe=s.jsx(N,{className:"font-semibold text-gray-900 text-xs cursor-pointer hover:bg-gray-100",onClick:fe,children:ge}),e[186]=fe,e[187]=ge,e[188]=pe):pe=e[188];let ys,bs,vs,Ns;e[189]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx(N,{className:"font-semibold text-gray-900 text-xs",children:"Solicitante"}),bs=s.jsx(N,{className:"font-semibold text-gray-900 text-xs",children:"Asignado a"}),vs=s.jsx(N,{className:"font-semibold text-gray-900 text-xs",children:"Categoría"}),Ns=s.jsx(N,{className:"font-semibold text-gray-900 text-xs",children:"Elemento"}),e[189]=ys,e[190]=bs,e[191]=vs,e[192]=Ns):(ys=e[189],bs=e[190],vs=e[191],Ns=e[192]);let ue;e[193]!==p?(ue=p()&&s.jsx(N,{className:"font-semibold text-gray-900 text-xs text-center w-24",children:"Acciones"}),e[193]=p,e[194]=ue):ue=e[194];let je;e[195]!==Y||e[196]!==se||e[197]!==le||e[198]!==ce||e[199]!==de||e[200]!==he||e[201]!==pe||e[202]!==ue?(je=s.jsx(yt,{children:s.jsxs(Us,{className:"bg-gray-50",children:[Y,se,le,ce,de,he,pe,ys,bs,vs,Ns,ue]})}),e[195]=Y,e[196]=se,e[197]=le,e[198]=ce,e[199]=de,e[200]=he,e[201]=pe,e[202]=ue,e[203]=je):je=e[203];let ye;if(e[204]!==Me||e[205]!==p||e[206]!==r.data){let a;e[208]!==Me||e[209]!==p?(a=l=>s.jsxs(Us,{className:"hover:bg-gray-50",children:[s.jsx(j,{className:"text-xs font-medium",children:l.id}),s.jsx(j,{className:"font-medium text-xs",children:s.jsx("button",{onClick:()=>{ot(l),Qe(!0)},className:"text-[#2c4370] hover:underline block truncate max-w-md text-left",title:l.name,children:l.name||"(Sin título)"})}),s.jsx(j,{className:"text-xs",children:s.jsx("span",{className:`px-2 py-1 text-[10px] font-semibold ${st(l.status)}`,children:l.status_name})}),s.jsx(j,{className:"text-xs",children:l.priority_name}),s.jsx(j,{className:"text-xs",children:l.entity_name||"-"}),s.jsx(j,{className:"text-xs text-gray-600",children:l.date?new Date(l.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(j,{className:"text-xs text-gray-600",children:l.date_mod?new Date(l.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}),s.jsx(j,{className:"text-xs",children:l.requester_name||"-"}),s.jsx(j,{className:"text-xs",children:l.assigned_name||"-"}),s.jsx(j,{className:"text-xs",children:l.category_name||"-"}),s.jsx(j,{className:"text-xs text-gray-600",children:l.item_name||"-"}),p()&&s.jsx(j,{className:"text-xs",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(u,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-50",onClick:()=>S.visit(`/soporte/casos/${l.id}/editar`),title:"Editar",children:s.jsx(Ft,{className:"h-3.5 w-3.5"})}),Me(l)&&s.jsx(u,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",onClick:()=>mt(l),title:"Eliminar",children:s.jsx(ut,{className:"h-3.5 w-3.5"})})]})})]},l.id),e[208]=Me,e[209]=p,e[210]=a):a=e[210],ye=r.data.map(a),e[204]=Me,e[205]=p,e[206]=r.data,e[207]=ye}else ye=e[207];let be;e[211]!==p||e[212]!==r.data.length?(be=r.data.length===0&&s.jsx(Us,{children:s.jsx(j,{colSpan:p()?12:11,className:"text-center py-8 text-gray-500",children:"No se encontraron casos"})}),e[211]=p,e[212]=r.data.length,e[213]=be):be=e[213];let ve;e[214]!==ye||e[215]!==be?(ve=s.jsxs(bt,{children:[ye,be]}),e[214]=ye,e[215]=be,e[216]=ve):ve=e[216];let Ne;e[217]!==je||e[218]!==ve?(Ne=s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(vt,{children:[je,ve]})}),e[217]=je,e[218]=ve,e[219]=Ne):Ne=e[219];let _e;e[220]!==r.current_page||e[221]!==r.last_page?(_e=s.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 order-2 sm:order-1",children:["Página ",r.current_page," de ",r.last_page]}),e[220]=r.current_page,e[221]=r.last_page,e[222]=_e):_e=e[222];let we;if(e[223]!==r.links){let a;e[225]!==r.links.length?(a=(l,d)=>{const xt=d===0||d===r.links.length-1||l.active;return d===0?s.jsx(u,{variant:"outline",size:"sm",disabled:!l.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50 h-8 w-8 p-0",onClick:()=>l.url&&Vs(l.url),children:s.jsx(Tt,{className:"h-4 w-4"})},d):d===r.links.length-1?s.jsx(u,{variant:"outline",size:"sm",disabled:!l.url,className:"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white disabled:opacity-50 h-8 w-8 p-0",onClick:()=>l.url&&Vs(l.url),children:s.jsx(St,{className:"h-4 w-4"})},d):s.jsx(u,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,className:`${xt?"":"hidden sm:inline-flex"} h-8 min-w-[32px] px-2 text-xs sm:text-sm ${l.active?"bg-[#2c4370] hover:!bg-[#3d5583] text-white border-[#2c4370]":"border-[#2c4370] text-[#2c4370] hover:!bg-[#2c4370] hover:!text-white"}`,onClick:()=>l.url&&Vs(l.url),children:s.jsx("span",{dangerouslySetInnerHTML:{__html:l.label}})},d)},e[225]=r.links.length,e[226]=a):a=e[226],we=r.links.map(a),e[223]=r.links,e[224]=we}else we=e[224];let Se;e[227]!==we?(Se=s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 order-1 sm:order-2 flex-wrap justify-center",children:we}),e[227]=we,e[228]=Se):Se=e[228];let Ce;e[229]!==_e||e[230]!==Se?(Ce=s.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-t flex flex-col sm:flex-row items-center justify-between gap-3",children:[_e,Se]}),e[229]=_e,e[230]=Se,e[231]=Ce):Ce=e[231];let De;e[232]!==R||e[233]!==M||e[234]!==X||e[235]!==Ne||e[236]!==Ce?(De=s.jsxs("div",{className:"bg-white shadow border border-gray-200",children:[R,M,X,Ne,Ce]}),e[232]=R,e[233]=M,e[234]=X,e[235]=Ne,e[236]=Ce,e[237]=De):De=e[237];let Te;e[238]!==k||e[239]!==De?(Te=s.jsxs("main",{className:"flex-1 px-3 sm:px-6 py-4 sm:py-6",children:[k,De]}),e[238]=k,e[239]=De,e[240]=Te):Te=e[240];let _s;e[241]===Symbol.for("react.memo_cache_sentinel")?(_s=s.jsx(jt,{}),e[241]=_s):_s=e[241];let Fe;e[242]!==Te?(Fe=s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[os,Te,_s]}),e[242]=Te,e[243]=Fe):Fe=e[243];let ws;e[244]===Symbol.for("react.memo_cache_sentinel")?(ws=s.jsx(lt,{children:"Eliminar Caso"}),e[244]=ws):ws=e[244];const $s=D?.id;let ke;e[245]!==$s?(ke=s.jsxs("strong",{children:["#",$s]}),e[245]=$s,e[246]=ke):ke=e[246];let Ss;e[247]===Symbol.for("react.memo_cache_sentinel")?(Ss=s.jsx("br",{}),e[247]=Ss):Ss=e[247];const Rs=D?.name;let Ee;e[248]!==Rs?(Ee=s.jsx("span",{className:"text-gray-600",children:Rs}),e[248]=Rs,e[249]=Ee):Ee=e[249];let Ae;e[250]!==ke||e[251]!==Ee?(Ae=s.jsxs(rt,{children:[ws,s.jsxs(Nt,{children:["¿Está seguro que desea eliminar el caso ",ke,"?",Ss,Ee]})]}),e[250]=ke,e[251]=Ee,e[252]=Ae):Ae=e[252];let Cs;e[253]===Symbol.for("react.memo_cache_sentinel")?(Cs=s.jsx(u,{variant:"outline",onClick:()=>Ke(!1),children:"Cancelar"}),e[253]=Cs):Cs=e[253];let ze;e[254]!==zs?(ze=s.jsxs(_t,{className:"gap-2",children:[Cs,s.jsx(u,{variant:"destructive",onClick:zs,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]}),e[254]=zs,e[255]=ze):ze=e[255];let Ve;e[256]!==Ae||e[257]!==ze?(Ve=s.jsxs(it,{className:"sm:max-w-[425px]",children:[Ae,ze]}),e[256]=Ae,e[257]=ze,e[258]=Ve):Ve=e[258];let Le;e[259]!==ks||e[260]!==Ve?(Le=s.jsx(ct,{open:ks,onOpenChange:Ke,children:Ve}),e[259]=ks,e[260]=Ve,e[261]=Le):Le=e[261];const Ms=o?.id;let Pe;e[262]!==Ms?(Pe=s.jsxs("span",{className:"text-[#2c4370]",children:["Caso #",Ms]}),e[262]=Ms,e[263]=Pe):Pe=e[263];const Bs=`px-2 py-0.5 text-[10px] font-semibold ${o?st(o.status):""}`,qs=o?.status_name;let He;e[264]!==Bs||e[265]!==qs?(He=s.jsx("span",{className:Bs,children:qs}),e[264]=Bs,e[265]=qs,e[266]=He):He=e[266];let Oe;e[267]!==He||e[268]!==Pe?(Oe=s.jsx(rt,{children:s.jsxs(lt,{className:"flex items-center gap-2",children:[Pe,He]})}),e[267]=He,e[268]=Pe,e[269]=Oe):Oe=e[269];let Ie;e[270]!==p||e[271]!==o?(Ie=o&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:o.name})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-gray-50 p-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Prioridad"}),s.jsx("span",{className:"font-medium",children:o.priority_name})]}),s.jsxs("div",{className:"bg-gray-50 p-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Entidad"}),s.jsx("span",{className:"font-medium",children:o.entity_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Fecha de Apertura"}),s.jsx("span",{className:"font-medium",children:o.date?new Date(o.date).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Última Actualización"}),s.jsx("span",{className:"font-medium",children:o.date_mod?new Date(o.date_mod).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Solicitante"}),s.jsx("span",{className:"font-medium",children:o.requester_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Asignado a"}),s.jsx("span",{className:"font-medium",children:o.assigned_name||"-"})]}),s.jsxs("div",{className:"bg-gray-50 p-2 col-span-2",children:[s.jsx("span",{className:"text-gray-500 block",children:"Categoría"}),s.jsx("span",{className:"font-medium",children:o.category_name||"-"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsx(u,{variant:"outline",size:"sm",onClick:()=>Qe(!1),className:"h-8 text-xs",children:"Cerrar"}),p()&&s.jsx(u,{size:"sm",onClick:()=>{Qe(!1),S.visit(`/soporte/casos/${o.id}/editar`)},className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs",children:"Editar Caso"})]})]}),e[270]=p,e[271]=o,e[272]=Ie):Ie=e[272];let $e;e[273]!==Oe||e[274]!==Ie?($e=s.jsxs(it,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[Oe,Ie]}),e[273]=Oe,e[274]=Ie,e[275]=$e):$e=e[275];let Re;e[276]!==$e||e[277]!==Es?(Re=s.jsx(ct,{open:Es,onOpenChange:Qe,children:$e}),e[276]=$e,e[277]=Es,e[278]=Re):Re=e[278];let Ds;return e[279]!==Re||e[280]!==Fe||e[281]!==Le?(Ds=s.jsxs(s.Fragment,{children:[ns,Fe,Le,Re]}),e[279]=Re,e[280]=Fe,e[281]=Le,e[282]=Ds):Ds=e[282],Ds}function kt(g){return s.jsx(i,{value:g.id.toString(),children:g.completename},g.id)}function Et(g){return s.jsx(i,{value:g.id.toString(),children:g.fullname},g.id)}function At(g){switch(g){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-yellow-100 text-yellow-800";case 4:return"bg-orange-100 text-orange-800";case 5:return"bg-green-100 text-green-800";case 6:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function zt(g){g&&S.visit(g,{preserveScroll:!0})}export{ea as default};
