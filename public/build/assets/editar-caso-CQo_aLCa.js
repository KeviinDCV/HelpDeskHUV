import{c as we,e as Ge,j as t,r as Te,H as He}from"./app-BpQ1UqyX.js";import{G as Le,a as Ve}from"./glpi-footer-CS9m5SXr.js";import{B as Ce}from"./button-BM2SPUhU.js";import{I as pe}from"./input-DlRixWL2.js";import{L as n}from"./label-CCoDse8R.js";import{S as qe,T as Be}from"./searchable-select-CSZ7DRQ7.js";import{S as Fe,a as Ee,b as Ie,c as De,d as r}from"./select-CUHEXsfv.js";/* empty css            */import"./index-B_2aphqd.js";import"./index-B1lZxaxz.js";import"./index-DqN1DvDa.js";import"./index-B4pB9oFB.js";import"./check-Czx_qtCK.js";function tt(c){const e=we.c(131),{ticket:s,locations:je}=c,ve=ze,ge=s.name||"",ye=s.content||"";let m;e[0]!==s.date?(m=ve(s.date),e[0]=s.date,e[1]=m):m=e[1];let d;e[2]!==s.time_to_resolve?(d=ve(s.time_to_resolve),e[2]=s.time_to_resolve,e[3]=d):d=e[3];let x;e[4]!==s.internal_time_to_resolve?(x=ve(s.internal_time_to_resolve),e[4]=s.internal_time_to_resolve,e[5]=x):x=e[5];let h;e[6]!==s.status?(h=s.status.toString(),e[6]=s.status,e[7]=h):h=e[7];let f;e[8]!==s.priority?(f=s.priority.toString(),e[8]=s.priority,e[9]=f):f=e[9];let _;e[10]!==s.locations_id?(_=s.locations_id?.toString()||"",e[10]=s.locations_id,e[11]=_):_=e[11];let U;e[12]!==ge||e[13]!==ye||e[14]!==m||e[15]!==d||e[16]!==x||e[17]!==h||e[18]!==f||e[19]!==_?(U={name:ge,content:ye,date:m,time_to_resolve:d,internal_time_to_resolve:x,status:h,priority:f,locations_id:_},e[12]=ge,e[13]=ye,e[14]=m,e[15]=d,e[16]=x,e[17]=h,e[18]=f,e[19]=_,e[20]=U):U=e[20];const{data:l,setData:a,processing:J,errors:o}=Ge(U);let K;e[21]!==l||e[22]!==s.id?(K=i=>{i.preventDefault(),Te.put(`/soporte/casos/${s.id}`,l,{onSuccess:ke})},e[21]=l,e[22]=s.id,e[23]=K):K=e[23];const Ne=K,be=`Editar Caso #${s.id} - HelpDesk HUV`;let u;e[24]!==be?(u=t.jsx(He,{title:be}),e[24]=be,e[25]=u):u=e[25];let Q,W,X,Y,Z,ee;e[26]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("span",{className:"text-gray-600",children:"Inicio"}),W=t.jsx("span",{className:"text-gray-400",children:"/"}),X=t.jsx("span",{className:"text-gray-600",children:"Soporte"}),Y=t.jsx("span",{className:"text-gray-400",children:"/"}),Z=t.jsx("span",{className:"text-gray-600",children:"Casos"}),ee=t.jsx("span",{className:"text-gray-400",children:"/"}),e[26]=Q,e[27]=W,e[28]=X,e[29]=Y,e[30]=Z,e[31]=ee):(Q=e[26],W=e[27],X=e[28],Y=e[29],Z=e[30],ee=e[31]);let p;e[32]!==s.id?(p=t.jsx(Le,{breadcrumb:t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Q,W,X,Y,Z,ee,t.jsxs("span",{className:"font-medium text-gray-900",children:["Editar #",s.id]})]})}),e[32]=s.id,e[33]=p):p=e[33];let j;e[34]!==s.id?(j=t.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["Editar Caso #",s.id]}),e[34]=s.id,e[35]=j):j=e[35];let te;e[36]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Modifique los datos del caso"}),e[36]=te):te=e[36];let v;e[37]!==j?(v=t.jsxs("div",{className:"px-6 py-4 border-b",children:[j,te]}),e[37]=j,e[38]=v):v=e[38];let se;e[39]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(n,{htmlFor:"name",className:"text-xs",children:"Título *"}),e[39]=se):se=e[39];let g;e[40]!==a?(g=i=>a("name",i.target.value),e[40]=a,e[41]=g):g=e[41];let y;e[42]!==l.name||e[43]!==g?(y=t.jsx(pe,{id:"name",value:l.name,onChange:g,placeholder:"Título del caso",required:!0,className:"mt-1 h-8 text-sm"}),e[42]=l.name,e[43]=g,e[44]=y):y=e[44];let N;e[45]!==o.name?(N=o.name&&t.jsx("p",{className:"text-red-600 text-xs mt-0.5",children:o.name}),e[45]=o.name,e[46]=N):N=e[46];let b;e[47]!==y||e[48]!==N?(b=t.jsxs("div",{className:"md:col-span-4",children:[se,y,N]}),e[47]=y,e[48]=N,e[49]=b):b=e[49];let le;e[50]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(n,{htmlFor:"date",className:"text-xs",children:"Fecha Apertura *"}),e[50]=le):le=e[50];let S;e[51]!==a?(S=i=>a("date",i.target.value),e[51]=a,e[52]=S):S=e[52];let C;e[53]!==l.date||e[54]!==S?(C=t.jsxs("div",{children:[le,t.jsx(pe,{id:"date",type:"datetime-local",value:l.date,onChange:S,required:!0,className:"mt-1 h-8 text-xs"})]}),e[53]=l.date,e[54]=S,e[55]=C):C=e[55];let ae;e[56]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(n,{htmlFor:"status",className:"text-xs",children:"Estado *"}),e[56]=ae):ae=e[56];let F;e[57]!==a?(F=i=>a("status",i),e[57]=a,e[58]=F):F=e[58];let ie;e[59]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(Ee,{className:"mt-1 h-8 text-xs",children:t.jsx(Ie,{})}),e[59]=ie):ie=e[59];let re;e[60]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs(De,{children:[t.jsx(r,{value:"1",children:"Nuevo"}),t.jsx(r,{value:"2",children:"En curso (asignado)"}),t.jsx(r,{value:"3",children:"En curso (planificado)"}),t.jsx(r,{value:"4",children:"En espera"}),t.jsx(r,{value:"5",children:"Resuelto"}),t.jsx(r,{value:"6",children:"Cerrado"})]}),e[60]=re):re=e[60];let E;e[61]!==l.status||e[62]!==F?(E=t.jsxs("div",{children:[ae,t.jsxs(Fe,{value:l.status,onValueChange:F,children:[ie,re]})]}),e[61]=l.status,e[62]=F,e[63]=E):E=e[63];let oe;e[64]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(n,{htmlFor:"priority",className:"text-xs",children:"Prioridad *"}),e[64]=oe):oe=e[64];let I;e[65]!==a?(I=i=>a("priority",i),e[65]=a,e[66]=I):I=e[66];let ne;e[67]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Ee,{className:"mt-1 h-8 text-xs",children:t.jsx(Ie,{})}),e[67]=ne):ne=e[67];let ce;e[68]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsxs(De,{children:[t.jsx(r,{value:"1",children:"Muy baja"}),t.jsx(r,{value:"2",children:"Baja"}),t.jsx(r,{value:"3",children:"Media"}),t.jsx(r,{value:"4",children:"Alta"}),t.jsx(r,{value:"5",children:"Muy alta"}),t.jsx(r,{value:"6",children:"Urgente"})]}),e[68]=ce):ce=e[68];let D;e[69]!==l.priority||e[70]!==I?(D=t.jsxs("div",{children:[oe,t.jsxs(Fe,{value:l.priority,onValueChange:I,children:[ne,ce]})]}),e[69]=l.priority,e[70]=I,e[71]=D):D=e[71];let me;e[72]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(n,{htmlFor:"locations_id",className:"text-xs",children:"Localización"}),e[72]=me):me=e[72];let T;e[73]!==je?(T=je.map(Pe),e[73]=je,e[74]=T):T=e[74];let w;e[75]!==a?(w=i=>a("locations_id",i),e[75]=a,e[76]=w):w=e[76];let G;e[77]!==l.locations_id||e[78]!==T||e[79]!==w?(G=t.jsxs("div",{children:[me,t.jsx(qe,{options:T,value:l.locations_id,onValueChange:w,placeholder:"Seleccione...",searchPlaceholder:"Buscar ubicación...",className:"mt-1"})]}),e[77]=l.locations_id,e[78]=T,e[79]=w,e[80]=G):G=e[80];let de;e[81]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(n,{htmlFor:"time_to_resolve",className:"text-xs text-gray-500",children:"Tiempo Solución (Opcional)"}),e[81]=de):de=e[81];let H;e[82]!==a?(H=i=>a("time_to_resolve",i.target.value),e[82]=a,e[83]=H):H=e[83];let L;e[84]!==l.time_to_resolve||e[85]!==H?(L=t.jsxs("div",{className:"md:col-span-2",children:[de,t.jsx(pe,{id:"time_to_resolve",type:"datetime-local",value:l.time_to_resolve,onChange:H,className:"mt-1 h-8 text-xs"})]}),e[84]=l.time_to_resolve,e[85]=H,e[86]=L):L=e[86];let xe;e[87]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(n,{htmlFor:"internal_time_to_resolve",className:"text-xs text-gray-500",children:"Tiempo Interno (Opcional)"}),e[87]=xe):xe=e[87];let V;e[88]!==a?(V=i=>a("internal_time_to_resolve",i.target.value),e[88]=a,e[89]=V):V=e[89];let q;e[90]!==l.internal_time_to_resolve||e[91]!==V?(q=t.jsxs("div",{className:"md:col-span-2",children:[xe,t.jsx(pe,{id:"internal_time_to_resolve",type:"datetime-local",value:l.internal_time_to_resolve,onChange:V,className:"mt-1 h-8 text-xs"})]}),e[90]=l.internal_time_to_resolve,e[91]=V,e[92]=q):q=e[92];let he;e[93]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(n,{htmlFor:"content",className:"text-xs",children:"Descripción *"}),e[93]=he):he=e[93];let B;e[94]!==a?(B=i=>a("content",i.target.value),e[94]=a,e[95]=B):B=e[95];let M;e[96]!==l.content||e[97]!==B?(M=t.jsx(Be,{id:"content",value:l.content,onChange:B,placeholder:"Detalle el caso...",required:!0,rows:5,className:"mt-1 text-sm"}),e[96]=l.content,e[97]=B,e[98]=M):M=e[98];let P;e[99]!==o.content?(P=o.content&&t.jsx("p",{className:"text-red-600 text-xs mt-0.5",children:o.content}),e[99]=o.content,e[100]=P):P=e[100];let k;e[101]!==M||e[102]!==P?(k=t.jsxs("div",{className:"md:col-span-4",children:[he,M,P]}),e[101]=M,e[102]=P,e[103]=k):k=e[103];let z;e[104]!==b||e[105]!==C||e[106]!==E||e[107]!==D||e[108]!==G||e[109]!==L||e[110]!==q||e[111]!==k?(z=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b,C,E,D,G,L,q,k]}),e[104]=b,e[105]=C,e[106]=E,e[107]=D,e[108]=G,e[109]=L,e[110]=q,e[111]=k,e[112]=z):z=e[112];let fe;e[113]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(Ce,{type:"button",variant:"ghost",size:"sm",onClick:Me,className:"h-8 text-xs",children:"Cancelar"}),e[113]=fe):fe=e[113];const Se=J?"Guardando...":"Guardar Cambios";let O;e[114]!==J||e[115]!==Se?(O=t.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2 pt-2 border-t",children:[fe,t.jsx(Ce,{type:"submit",disabled:J,size:"sm",className:"bg-[#2c4370] hover:bg-[#3d5583] text-white h-8 text-xs px-6",children:Se})]}),e[114]=J,e[115]=Se,e[116]=O):O=e[116];let R;e[117]!==Ne||e[118]!==z||e[119]!==O?(R=t.jsxs("form",{onSubmit:Ne,className:"p-4",children:[z,O]}),e[117]=Ne,e[118]=z,e[119]=O,e[120]=R):R=e[120];let $;e[121]!==v||e[122]!==R?($=t.jsx("main",{className:"flex-1 px-6 py-6",children:t.jsx("div",{className:"max-w-5xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[v,R]})})}),e[121]=v,e[122]=R,e[123]=$):$=e[123];let _e;e[124]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(Ve,{}),e[124]=_e):_e=e[124];let A;e[125]!==p||e[126]!==$?(A=t.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[p,$,_e]}),e[125]=p,e[126]=$,e[127]=A):A=e[127];let ue;return e[128]!==u||e[129]!==A?(ue=t.jsxs(t.Fragment,{children:[u,A]}),e[128]=u,e[129]=A,e[130]=ue):ue=e[130],ue}function Me(){return Te.visit("/soporte/casos")}function Pe(c){return{value:c.id.toString(),label:c.completename}}function ke(){}function ze(c){return c?new Date(c).toISOString().slice(0,16):""}export{tt as default};
