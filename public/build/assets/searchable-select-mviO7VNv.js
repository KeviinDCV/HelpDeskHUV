import{c as U,a as p,j as s}from"./app-BM4BJw06.js";import{c as g}from"./button-CCTAvrTd.js";import{S as W,b as X}from"./glpi-footer-CTCh5oxe.js";import{C as Y}from"./check-S3vZEq_4.js";function se(K){const e=U.c(45),{options:a,value:n,onValueChange:k,placeholder:q,searchPlaceholder:A,disabled:F,loading:G,className:R}=K,M=q===void 0?"Seleccionar...":q,L=A===void 0?"Buscar...":A,o=F===void 0?!1:F,Q=G===void 0?!1:G,[l,O]=p.useState(!1),[r,H]=p.useState(""),P=p.useRef(null),z=p.useRef(null);let B;e:{if(!r){B=a;break e}let t;if(e[0]!==a||e[1]!==r){const h=r.toLowerCase();t=a.filter(T=>T.label.toLowerCase().includes(h)),e[0]=a,e[1]=r,e[2]=t}else t=e[2];B=t}const b=B;let v;if(e[3]!==a||e[4]!==n){let t;e[6]!==n?(t=h=>h.value===n,e[6]=n,e[7]=t):t=e[7],v=a.find(t),e[3]=a,e[4]=n,e[5]=v}else v=e[5];const J=v;let j,w;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{const t=h=>{P.current&&!P.current.contains(h.target)&&O(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},w=[],e[8]=j,e[9]=w):(j=e[8],w=e[9]),p.useEffect(j,w);let N,y;e[10]!==l?(y=()=>{l&&z.current&&z.current.focus()},N=[l],e[10]=l,e[11]=N,e[12]=y):(N=e[11],y=e[12]),p.useEffect(y,N);let S;e[13]!==k?(S=t=>{k(t),O(!1),H("")},e[13]=k,e[14]=S):S=e[14];const D=S;let c;e[15]!==R?(c=g("relative",R),e[15]=R,e[16]=c):c=e[16];let i;e[17]!==o||e[18]!==l?(i=()=>!o&&O(!l),e[17]=o,e[18]=l,e[19]=i):i=e[19];const I=l&&"ring-1 ring-ring";let d;e[20]!==I?(d=g("flex h-8 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-1 text-xs shadow-sm ring-offset-background","focus:outline-none focus:ring-1 focus:ring-ring","disabled:cursor-not-allowed disabled:opacity-50",I),e[20]=I,e[21]=d):d=e[21];const V=!J&&"text-muted-foreground";let u;e[22]!==V?(u=g(V),e[22]=V,e[23]=u):u=e[23];const $=Q?"Cargando...":J?.label||M;let f;e[24]!==u||e[25]!==$?(f=s.jsx("span",{className:u,children:$}),e[24]=u,e[25]=$,e[26]=f):f=e[26];let C;e[27]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(X,{className:"h-3 w-3 opacity-50"}),e[27]=C):C=e[27];let m;e[28]!==o||e[29]!==i||e[30]!==d||e[31]!==f?(m=s.jsxs("button",{type:"button",onClick:i,disabled:o,className:d,children:[f,C]}),e[28]=o,e[29]=i,e[30]=d,e[31]=f,e[32]=m):m=e[32];let x;e[33]!==o||e[34]!==b||e[35]!==D||e[36]!==l||e[37]!==r||e[38]!==L||e[39]!==n?(x=l&&!o&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full rounded-md border bg-popover shadow-lg",children:[s.jsxs("div",{className:"flex items-center border-b px-2 py-1.5",children:[s.jsx(W,{className:"h-3 w-3 text-muted-foreground mr-2"}),s.jsx("input",{ref:z,type:"text",value:r,onChange:t=>H(t.target.value),placeholder:L,className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground"})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto p-1",children:b.length===0?s.jsx("div",{className:"py-2 px-3 text-xs text-muted-foreground text-center",children:"No se encontraron resultados"}):b.map(t=>s.jsxs("div",{onClick:()=>D(t.value),className:g("flex items-center gap-2 px-2 py-1.5 text-xs rounded cursor-pointer","hover:bg-accent hover:text-accent-foreground",n===t.value&&"bg-accent"),children:[s.jsx(Y,{className:g("h-3 w-3",n===t.value?"opacity-100":"opacity-0")}),s.jsx("span",{className:"truncate",children:t.label})]},t.value))})]}),e[33]=o,e[34]=b,e[35]=D,e[36]=l,e[37]=r,e[38]=L,e[39]=n,e[40]=x):x=e[40];let E;return e[41]!==c||e[42]!==m||e[43]!==x?(E=s.jsxs("div",{ref:P,className:c,children:[m,x]}),e[41]=c,e[42]=m,e[43]=x,e[44]=E):E=e[44],E}export{se as S};
