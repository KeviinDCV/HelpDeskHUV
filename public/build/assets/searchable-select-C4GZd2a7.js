import{a as u,c as K,j as a}from"./app-D6e_ouNp.js";import{a as v}from"./button-DmpNFrw0.js";import{S as W,C as X}from"./search-BYo1I_1V.js";import{C as Y}from"./check-DXPsUbPV.js";const Z=u.forwardRef((w,e)=>{const t=K.c(9);let l,r;t[0]!==w?({className:l,...r}=w,t[0]=w,t[1]=l,t[2]=r):(l=t[1],r=t[2]);let n;t[3]!==l?(n=v("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l),t[3]=l,t[4]=n):n=t[4];let i;return t[5]!==r||t[6]!==e||t[7]!==n?(i=a.jsx("textarea",{className:n,ref:e,...r}),t[5]=r,t[6]=e,t[7]=n,t[8]=i):i=t[8],i});Z.displayName="Textarea";function le(w){const e=K.c(45),{options:t,value:l,onValueChange:r,placeholder:n,searchPlaceholder:i,disabled:F,loading:G,className:T}=w,M=n===void 0?"Seleccionar...":n,P=i===void 0?"Buscar...":i,c=F===void 0?!1:F,Q=G===void 0?!1:G,[o,$]=u.useState(!1),[d,H]=u.useState(""),z=u.useRef(null),B=u.useRef(null);let D;e:{if(!d){D=t;break e}let s;if(e[0]!==t||e[1]!==d){const N=d.toLowerCase();s=t.filter(U=>U.label.toLowerCase().includes(N)),e[0]=t,e[1]=d,e[2]=s}else s=e[2];D=s}const j=D;let y;if(e[3]!==t||e[4]!==l){let s;e[6]!==l?(s=N=>N.value===l,e[6]=l,e[7]=s):s=e[7],y=t.find(s),e[3]=t,e[4]=l,e[5]=y}else y=e[5];const J=y;let C,S;e[8]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{const s=N=>{z.current&&!z.current.contains(N.target)&&$(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},S=[],e[8]=C,e[9]=S):(C=e[8],S=e[9]),u.useEffect(C,S);let E,R;e[10]!==o?(R=()=>{o&&B.current&&B.current.focus()},E=[o],e[10]=o,e[11]=E,e[12]=R):(E=e[11],R=e[12]),u.useEffect(R,E);let k;e[13]!==r?(k=s=>{r(s),$(!1),H("")},e[13]=r,e[14]=k):k=e[14];const I=k;let f;e[15]!==T?(f=v("relative",T),e[15]=T,e[16]=f):f=e[16];let m;e[17]!==c||e[18]!==o?(m=()=>!c&&$(!o),e[17]=c,e[18]=o,e[19]=m):m=e[19];const V=o&&"ring-1 ring-ring";let p;e[20]!==V?(p=v("flex h-8 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-1 text-xs shadow-sm ring-offset-background","focus:outline-none focus:ring-1 focus:ring-ring","disabled:cursor-not-allowed disabled:opacity-50",V),e[20]=V,e[21]=p):p=e[21];const q=!J&&"text-muted-foreground";let x;e[22]!==q?(x=v(q),e[22]=q,e[23]=x):x=e[23];const A=Q?"Cargando...":J?.label||M;let h;e[24]!==x||e[25]!==A?(h=a.jsx("span",{className:x,children:A}),e[24]=x,e[25]=A,e[26]=h):h=e[26];let L;e[27]===Symbol.for("react.memo_cache_sentinel")?(L=a.jsx(X,{className:"h-3 w-3 opacity-50"}),e[27]=L):L=e[27];let b;e[28]!==c||e[29]!==m||e[30]!==p||e[31]!==h?(b=a.jsxs("button",{type:"button",onClick:m,disabled:c,className:p,children:[h,L]}),e[28]=c,e[29]=m,e[30]=p,e[31]=h,e[32]=b):b=e[32];let g;e[33]!==c||e[34]!==j||e[35]!==I||e[36]!==o||e[37]!==d||e[38]!==P||e[39]!==l?(g=o&&!c&&a.jsxs("div",{className:"absolute z-50 mt-1 w-full rounded-md border bg-popover shadow-lg",children:[a.jsxs("div",{className:"flex items-center border-b px-2 py-1.5",children:[a.jsx(W,{className:"h-3 w-3 text-muted-foreground mr-2"}),a.jsx("input",{ref:B,type:"text",value:d,onChange:s=>H(s.target.value),placeholder:P,className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground"})]}),a.jsx("div",{className:"max-h-48 overflow-y-auto p-1",children:j.length===0?a.jsx("div",{className:"py-2 px-3 text-xs text-muted-foreground text-center",children:"No se encontraron resultados"}):j.map(s=>a.jsxs("div",{onClick:()=>I(s.value),className:v("flex items-center gap-2 px-2 py-1.5 text-xs rounded cursor-pointer","hover:bg-accent hover:text-accent-foreground",l===s.value&&"bg-accent"),children:[a.jsx(Y,{className:v("h-3 w-3",l===s.value?"opacity-100":"opacity-0")}),a.jsx("span",{className:"truncate",children:s.label})]},s.value))})]}),e[33]=c,e[34]=j,e[35]=I,e[36]=o,e[37]=d,e[38]=P,e[39]=l,e[40]=g):g=e[40];let O;return e[41]!==f||e[42]!==b||e[43]!==g?(O=a.jsxs("div",{ref:z,className:f,children:[b,g]}),e[41]=f,e[42]=b,e[43]=g,e[44]=O):O=e[44],O}export{le as S,Z as T};
